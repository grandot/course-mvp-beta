# CLAUDE.md - IntentOS èª²ç¨‹ç®¡ç†ç³»çµ±

## ğŸ¯ å°ˆæ¡ˆæ¦‚æ³
- **æŠ€è¡“æ£§**: LINE Bot + Express.js + OpenAI + Firebase
- **ç•¶å‰ç‰ˆæœ¬**: v9.0 - Scenario Layer æ¶æ§‹
- **å ´æ™¯é¡å‹**: course_managementï¼ˆå–®ä¸€éƒ¨ç½²æ¨¡å¼ï¼‰

## ğŸš¨ æ ¸å¿ƒæ¶æ§‹ç´„æŸï¼ˆå¿…é ˆéµå¾ªï¼‰

| æœå‹™ | è·è²¬ | ç¦æ­¢äº‹é … |
|------|------|----------|
| `SemanticService` | æ‰€æœ‰èªç¾©è™•ç† | âŒ ç›´æ¥èª¿ç”¨ OpenAI |
| `TimeService` | æ‰€æœ‰æ™‚é–“æ“ä½œ | âŒ ç›´æ¥ä½¿ç”¨ `new Date()` |
| `DataService` | æ‰€æœ‰æ•¸æ“šæ“ä½œ | âŒ ç›´æ¥èª¿ç”¨ Firebase |
| `TaskService` | æ¥­å‹™é‚è¼¯å”èª¿ | âŒ ç¡¬ç·¨ç¢¼é‚è¼¯ |

### âš¡ æ™ºèƒ½åˆ†æµæ©Ÿåˆ¶ï¼ˆå·²å¯¦ç¾ï¼‰
```javascript
// SemanticService æ™ºèƒ½åˆ†æµï¼šè¦å‰‡å¼•æ“ â†’ OpenAI å¾Œå‚™
if (ruleResult.confidence > 0 && intent !== 'unknown') {
  return è¦å‰‡å¼•æ“çµæœ;  // 60-70% æ¡ˆä¾‹ï¼Œ<10msï¼Œå…è²»
} else {
  return await OpenAI.analyzeIntent();  // 30-40% æ¡ˆä¾‹ï¼Œ200-500msï¼Œä»˜è²»
}
```

## âš¡ å¿…è¦å·¥ä½œæµç¨‹
1. **Bug å ±å‘Š**: å¿…é ˆå…ˆåŸ·è¡Œ `./scripts/get-app-logs.sh 50`
2. **ä»£ç¢¼ä¿®æ”¹**: å¿…é ˆåœ¨æäº¤å‰æ›´æ–° `CHANGELOG.md`
3. **æ¶æ§‹éµå¾ª**: åš´æ ¼æŒ‰ç…§ä¸Šè¿°æœå‹™é‚Šç•Œ
4. **ç¦æ­¢è·¨å±¤**: æœå‹™ä¸å¯ç›´æ¥èª¿ç”¨å…§éƒ¨å¯¦ç¾
5. æ‰€æœ‰ä¿®æ”¹èˆ‡åˆ†æå¿…é ˆ**éµå®ˆç¬¬ä¸€æ€§åŸå‰‡**

## ğŸ“š è©³ç´°æ–‡æª”å°èˆª

éœ€è¦æ›´å¤šä¿¡æ¯æ™‚ï¼Œè«‹æŸ¥é–±ï¼š

- **æ¶æ§‹è¨­è¨ˆå•é¡Œ** â†’ `docs/ARCHITECTURE.md`
  - ä¸‰å±¤èªç¾©æ¶æ§‹è©³è§£
  - Scenario Layer è¨­è¨ˆ
  - æœå‹™å±¤ API è¦ç¯„

- **é–‹ç™¼å’Œç·¨ç¢¼å•é¡Œ** â†’ `docs/DEVELOPMENT.md`
  - API ä½¿ç”¨æ–¹æ³•
  - ç·¨ç¢¼è¦ç¯„
  - æ¸¬è©¦å’Œèª¿è©¦

- **éƒ¨ç½²å’Œé‹ç¶­å•é¡Œ** â†’ `docs/DEPLOYMENT.md`
  - ç’°å¢ƒè®Šæ•¸é…ç½®
  - æ•…éšœæ’é™¤æ­¥é©Ÿ
  - ç›£æ§å’Œæ—¥èªŒæŸ¥è©¢

- **ç”¨æˆ¶æµç¨‹å’Œæ¥­å‹™é‚è¼¯** â†’ `docs/USER_FLOWS.md`
  - è™•ç†æµç¨‹è©³è§£
  - å¤šè¼ªå°è©±æ©Ÿåˆ¶
  - æ•ˆèƒ½çµ±è¨ˆ

## ğŸ”§ å¿«é€ŸæŒ‡ä»¤
```bash
npm run dev                          # æœ¬åœ°é–‹ç™¼
./scripts/get-app-logs.sh 50        # æŸ¥çœ‹æ—¥èªŒ
npm test                            # åŸ·è¡Œæ¸¬è©¦
```