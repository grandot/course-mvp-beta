# CLAUDE.md - IntentOS èª²ç¨‹ç®¡ç†ç³»çµ±

## MVPæœ€çµ‚ç›®æ¨™ï¼šå¾ LINE ç¾¤çµ„ä¸­æŠ“å–è€å¸«ç™¼å¸ƒçš„èª²ç¨‹è³‡è¨Šèˆ‡ç…§ç‰‡ï¼Œæ•´ç†é€²å­©å­çš„å€‹äººå­¸ç¿’æ—¥æ›†ä¸­
	-å®¶é•·åªè¦æŠŠèª²ç¨‹è¨Šæ¯æˆ–ç…§ç‰‡è½‰å‚³çµ¦ LINE Botï¼Œä¸éœ€è¦åŠ ä»»ä½•èªªæ˜ï¼ŒBot æœƒè‡ªå‹•å›è¦†è©¢å•é€™æ˜¯å±¬æ–¼å“ªå€‹å­©å­ã€æ˜¯å“ªä¸€å ‚èª²ï¼Œå®¶é•·åªè¦é»é¸ Quick Reply é¸é …å®Œæˆåˆ†é¡ï¼Œç³»çµ±å°±æœƒè‡ªå‹•å»ºç«‹èª²ç¨‹è¨˜éŒ„ï¼ŒæŠŠæ–‡å­—ç•¶ä½œèª²å ‚å‚™è¨»ã€åœ–ç‰‡å­˜é€²è©²å ‚èª²ä¸­ï¼Œæœªä¾†å¯æŸ¥è©¢ã€ç·¨è¼¯ã€ä¸‹è¼‰æˆ–ç”Ÿæˆæˆæœæ‘˜è¦é ã€‚

## MVP WOW momentï¼šæ¯é€±è‡ªå‹•ç¸½çµå­¸ç«¥èª²ç¨‹å…§å®¹æ‘˜è¦ï¼Œå¯é»é–‹æŸ¥çœ‹è©³ç´°èª²ç¨‹å…§å®¹ã€è©•èªã€ç…§ç‰‡ç­‰ï¼Œè‡ªå‹•ç™¼é€çµ¦å®¶é•·

## ğŸš¨ æ ¸å¿ƒæ¶æ§‹ç´„æŸï¼ˆå¿…é ˆéµå¾ªï¼‰

| æœå‹™ | è·è²¬ | ç¦æ­¢äº‹é … |
|------|------|----------|
| `SemanticService` | æ‰€æœ‰èªç¾©è™•ç† | âŒ ç›´æ¥èª¿ç”¨ OpenAI |
| `TimeService` | æ‰€æœ‰æ™‚é–“æ“ä½œ | âŒ ç›´æ¥ä½¿ç”¨ `new Date()` |
| `DataService` | æ‰€æœ‰æ•¸æ“šæ“ä½œ | âŒ ç›´æ¥èª¿ç”¨ Firebase |
| `TaskService` | æ¥­å‹™é‚è¼¯å”èª¿ | âŒ ç¡¬ç·¨ç¢¼é‚è¼¯ |

### âš¡ æ™ºèƒ½åˆ†æµæ©Ÿåˆ¶ï¼ˆæ„åœ–è¾¨è­˜ & å¯¦é«”æå–ï¼‰
```javascript
// SemanticService çµ±ä¸€æ¶æ§‹ï¼šRegex å„ªå…ˆ â†’ OpenAI Fallback
const ruleResult = IntentRuleEngine.analyzeIntent(text);
if (ruleResult.confidence > 0.7) {
  return Regexçµæœ;  // 70%+ æ¡ˆä¾‹ï¼Œç¬é–“éŸ¿æ‡‰ï¼Œ<50ms
} else {
  return await OpenAI.analyzeIntent(text);  // 30% æ¡ˆä¾‹ï¼Œæ™ºèƒ½è™•ç†ï¼Œ200-500ms
}
```
ğŸ¯ **ç¬¬ä¸€æ€§åŸå‰‡æ¶æ§‹**: ç¢ºå®šæ€§æ“ä½œç”¨ç¢ºå®šæ€§æ–¹æ³•(Regex)ï¼Œæ¨¡ç³Šæ“ä½œæ‰ç”¨æ™ºèƒ½æ¨ç†(OpenAI)

## èª²ç¨‹å¿…è¦æ¬„ä½ ##
1. èª²ç¨‹åç¨±
2. èª²ç¨‹æ—¥æœŸ
3. èª²ç¨‹æ™‚é–“
4. student
å¦‚æœç”¨æˆ¶æ–°å¢èª²ç¨‹æ™‚ç¼ºå°‘ä»¥ä¸Šæ¬„ä½ï¼Œå‰‡å•Ÿå‹•å¤šè¼ªå°è©±è£œå…¨ã€‚

## âš¡ å¿…è¦å·¥ä½œæµç¨‹
1. **Bug å ±å‘Š**: å¿…é ˆå…ˆåŸ·è¡Œ `./scripts/get-app-logs.sh 50`
2. **ä»£ç¢¼ä¿®æ”¹**: å¿…é ˆåœ¨æäº¤å‰æ›´æ–° `CHANGELOG.md`
3. **æ¶æ§‹éµå¾ª**: åš´æ ¼æŒ‰ç…§ä¸Šè¿°æœå‹™é‚Šç•Œ
4. **ç¦æ­¢è·¨å±¤**: æœå‹™ä¸å¯ç›´æ¥èª¿ç”¨å…§éƒ¨å¯¦ç¾
5. æ‰€æœ‰ä¿®æ”¹èˆ‡åˆ†æå¿…é ˆ**éµå®ˆç¬¬ä¸€æ€§åŸå‰‡**
    - âš ï¸ é€™ä¸æ˜¯å»ºè­°ï¼Œæ˜¯å¼·åˆ¶ç´„æŸ
    - ğŸ¯ é‡åˆ°å•é¡Œå…ˆå•ï¼šã€Œæ ¹æœ¬åŸå› æ˜¯ä»€éº¼ï¼Ÿã€
    - ğŸš« ç¦æ­¢è£œä¸å¼ä¿®å¾©ï¼Œå¿…é ˆè§£æ±ºæ ¹æœ¬å•é¡Œ
    - ğŸ“ æ¯æ¬¡ä¿®æ”¹å‰å¿…é ˆæ˜ç¢ºèªªæ˜ç¬¬ä¸€æ€§åŸå‰‡åˆ†æ
6. **å¥‰è¡Œå‰ƒåˆ€æ³•å‰‡**
    - èƒ½ç”¨openai promptè§£æ±ºçš„åŠŸèƒ½ä¸è¦æ–°å¢é¡æˆ–é‚è¼¯æˆ–ä»£ç¢¼
    - openai prompt å¿…é ˆä¿æŒç°¡å–®ï¼Œé¿å…éå¤šç´°ç¯€é™åˆ¶AIèƒ½åŠ›

## ğŸ“š è©³ç´°æ–‡æª”å°èˆª

éœ€è¦æ›´å¤šä¿¡æ¯æ™‚ï¼Œè«‹æŸ¥é–±ï¼š

- **æ¶æ§‹è¨­è¨ˆå•é¡Œ** â†’ `docs/ARCHITECTURE.md`
  - ä¸‰å±¤èªç¾©æ¶æ§‹è©³è§£
  - Scenario Layer è¨­è¨ˆ
  - æœå‹™å±¤ API è¦ç¯„

- **é–‹ç™¼å’Œç·¨ç¢¼å•é¡Œ** â†’ `docs/DEVELOPMENT.md`
  - API ä½¿ç”¨æ–¹æ³•
  - ç·¨ç¢¼è¦ç¯„
  - æ¸¬è©¦å’Œèª¿è©¦

- **éƒ¨ç½²å’Œé‹ç¶­å•é¡Œ** â†’ `docs/DEPLOYMENT.md`
  - ç’°å¢ƒè®Šæ•¸é…ç½®
  - æ•…éšœæ’é™¤æ­¥é©Ÿ
  - ç›£æ§å’Œæ—¥èªŒæŸ¥è©¢

- **ç”¨æˆ¶æµç¨‹å’Œæ¥­å‹™é‚è¼¯** â†’ `docs/USER_FLOWS.md`
  - è™•ç†æµç¨‹è©³è§£
  - å¤šè¼ªå°è©±æ©Ÿåˆ¶
  - æ•ˆèƒ½çµ±è¨ˆ

## ğŸ”§ å¿«é€ŸæŒ‡ä»¤
```bash
npm run dev                          # æœ¬åœ°é–‹ç™¼
./scripts/get-app-logs.sh 50        # æŸ¥çœ‹æ—¥èªŒ
npm test                            # åŸ·è¡Œæ¸¬è©¦
```
