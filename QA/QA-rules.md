根據項目各種功能設計測試場景，每個功能視實際需求產生3~8個變種。規範如下：

1. **測試覆蓋原則**

   * 目標是**正式發佈前的全面功能驗證**，確保所有真實用戶可能遇到的輸入都被覆蓋，不遺漏任何邊界與異常情境。
   * 不容忍「過度工程化」等推託，全面測試是必要且專業的QA標準操作。
   * 所有「變種」必須設計有意義，*不可機械複製或濫竽充數*，每個變種都要對應**明確的測試目的**（如格式、語意、上下文、多輪對話、錯誤修復等）。
   * 測試過程**必須實時記錄**：包括測試輸入、預期回覆、實際LINE bot回覆、是否通過、如未通過要明確記錄問題方向（如解析錯誤、邏輯失效、環境異常）。

2. **自動化執行現狀**

   * 已有自動化測試工具（node script），可在短時間內高效批量覆蓋60–75個案例，極大降低人力與時間成本。
   * 每條測試訊息發送間需有合理間隔（2-3秒），避免服務端負載或API異常。

3. **API限制確認**

   * OpenAI API限制高於測試量，無需擔憂。
   * LINE Messaging API官方未公佈明確限制，但業界實操量級遠大於本案測試規模，無實質風險。

4. **QA專業流程**

   * 覆蓋率為王：*不重覆、不遺漏、全類型輸入都需驗證*。
   * 測試用例需對應業務實際邏輯（如時間格式、意圖識別、上下文處理、多角色切換等），**每一條都必須有具體測試價值**。
   * 測試執行後需整理測試結果，及時回饋產品/開發，便於釐清Bug分佈及修復優先級。

---

**下一步行動（執行指令）**

1. **撰寫QA測試規劃文檔**

   * 文檔開頭需說明本次測試範圍、標準、流程。
   * 分功能列舉所有必測情境，每個情境分多個明確變種（含測試目的說明），**結構如下**：

     * 功能名稱

       * 情境1-變種A（測試目的：xxx）

         * 測試輸入：
         * 預期回覆：
         * 實際回覆：（待填）
         * 測試結果：（待填）
         * 問題分析：（待填）
       * 情境1-變種B（測試目的：xxx）

         * ...
     * 功能名稱...
   * 每個變種都要寫出明確**測試目的**，不能模糊。
   * 參考業界QA範本，確保符合專業標準。

2. **生成/完善測試案例數據**

   * 根據上述規劃，產出每條自動化測試用例，整理成.json或其他測試腳本所需格式。
   * 按上述規劃填寫測試用例說明欄（測試目的、輸入、預期）。

3. **執行全量自動化測試**

   * 啟動test-actual-responses.js自動化腳本，記錄每條測試的實際回覆、是否通過與具體失敗原因。
   * 拉開測試時間間隔，確保環境穩定。

4. **整理測試結果**

   * 以文檔/表格形式彙總每個案例的測試結果，標註失敗類型與待修復問題。

5. **持續修正、回歸測試**

   * 開發/修正後重複上述流程，持續提升覆蓋率與穩定性，直到預期通過率達標。

---

**備註**

* 本次總結與行動指南完全基於第一性原則、專業QA方法論與現場實際情境。
* **所有設計和執行細節必須落地，不能浮於表面；每一條測試都需有明確技術與業務價值。**
