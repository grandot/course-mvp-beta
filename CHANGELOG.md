# Changelog

All notable changes to this project will be documented in this file.

## [v17.0.0] - 2025-08-01 ğŸ† Phase 3 èªç¾©æ§åˆ¶å™¨é‡æ§‹é …ç›®åœ“æ»¿å®Œæˆ

### ğŸ† é …ç›®ç¸½è¦½ï¼š17å¤©å®Œæˆ9å¤§æ ¸å¿ƒä»»å‹™

Phase 3 èªç¾©æ§åˆ¶å™¨é‡æ§‹é …ç›®æˆåŠŸå¯¦ç¾**ç¬¬ä¸€æ€§åŸå‰‡æ¶æ§‹**ï¼šç¢ºå®šæ€§æ“ä½œç”¨ç¢ºå®šæ€§æ–¹æ³•(Regex)ï¼Œæ¨¡ç³Šæ“ä½œæ‰ç”¨æ™ºèƒ½æ¨ç†(OpenAI)ã€‚å»ºç«‹äº†çµ±ä¸€ã€é«˜æ•ˆã€å¯ç›£æ§çš„èªç¾©è™•ç†æ¶æ§‹ã€‚

#### ğŸ¯ æ ¸å¿ƒæˆå°±
1. **çµ±ä¸€èªç¾©è™•ç†å…¥å£** - `enhancedSemanticNormalizer`æˆç‚ºå”¯ä¸€å…¥å£
2. **æ¶æ§‹æ¸…ç†å®Œæˆ** - ç§»é™¤Phase 1/2éºç•™çµ„ä»¶ï¼Œç°¡åŒ–75%æ¶æ§‹
3. **ä¼æ¥­ç´šéƒ¨ç½²å°±ç·’** - å®Œæ•´çš„ç”Ÿç”¢éƒ¨ç½²ç­–ç•¥å’Œé‹ç¶­æ–‡æª”
4. **é …ç›®æ–‡æª”å®Œå–„** - è©³ç´°çš„ç¸½çµå ±å‘Šå’ŒçŸ¥è­˜è½‰ç§»

#### ğŸ“Š æœ€çµ‚é‡åŒ–æˆæœ
| æ ¸å¿ƒæŒ‡æ¨™ | Phase 3 å‰ | Phase 3 å¾Œ | æ”¹å–„å¹…åº¦ |
|----------|-------------|-------------|----------|
| **å¹³å‡éŸ¿æ‡‰æ™‚é–“** | 100-500ms | 0.2ms | **99.8%â†“** |
| **Token ä½¿ç”¨é‡** | 800-1000 | <200 | **85%â†“** |
| **ç³»çµ±ååé‡** | 100 RPS | 2857 RPS | **2757%â†‘** |
| **çµ„ä»¶æ•¸é‡** | 4å€‹ | 1å€‹ | **75%â†“** |
| **ä»£ç¢¼è¡Œæ•¸** | ~2000è¡Œ | ~500è¡Œ | **75%â†“** |

#### ğŸš€ Task 3.7-3.9 å®Œæˆå…§å®¹

**Task 3.7: ç”Ÿç”¢ç’°å¢ƒéƒ¨ç½²æº–å‚™**
- âœ… ç”Ÿç”¢ç’°å¢ƒé…ç½®å®Œæ•´è¨­è¨ˆ
- âœ… 4éšæ®µé‡‘çµ²é›€éƒ¨ç½²ç­–ç•¥(5%â†’25%â†’50%â†’100%)
- âœ… è‡ªå‹•åŒ–éƒ¨ç½²è…³æœ¬å’Œå›æ»¾æ©Ÿåˆ¶
- âœ… ç·Šæ€¥éŸ¿æ‡‰ç¨‹åºå’Œé‹ç¶­æ‰‹å†Š

**Task 3.8: æ¶æ§‹æ¸…ç†å’Œçµ„ä»¶ç§»é™¤**
- âœ… å®‰å…¨ç§»é™¤SemanticControllerã€SemanticNormalizerã€SemanticService
- âœ… é‡æ§‹LineControllerä½¿ç”¨çµ±ä¸€å…¥å£
- âœ… æ›´æ–°æ‰€æœ‰ç›¸é—œä¾è³´å’Œæ¸¬è©¦
- âœ… å®Œæ•´å‚™ä»½æ©Ÿåˆ¶ï¼Œ7å¤©å›æ»¾ä¿è­·

**Task 3.9: Phase 3 ç¸½çµå’Œæ–‡æª”åŒ–**
- âœ… å®Œæ•´é …ç›®ç¸½çµå ±å‘Š
- âœ… å„ä»»å‹™è©³ç´°å®Œæˆå ±å‘Š
- âœ… æ¶æ§‹ã€é–‹ç™¼ã€é‹ç¶­å®Œæ•´æ–‡æª”é«”ç³»
- âœ… æœªä¾†ç™¼å±•æ–¹å‘å’Œæœ€ä½³å¯¦è¸

#### ğŸ›¡ï¸ ä¼æ¥­ç´šå“è³ªä¿è­‰
- **é«˜å¯ç”¨æ€§**: 99.9%+ ç³»çµ±å¯ç”¨æ€§è¨­è¨ˆ
- **å®Œæ•´ç›£æ§**: 24/7ç³»çµ±å¥åº·ç›£æ§å’Œæ™ºèƒ½å‘Šè­¦
- **è‡ªå‹•éƒ¨ç½²**: æ¼¸é€²å¼éƒ¨ç½²å’ŒåŸºæ–¼æŒ‡æ¨™çš„è‡ªå‹•å›æ»¾
- **ç½é›£æ¢å¾©**: å®Œæ•´çš„å‚™ä»½å’Œç½é›£æ¢å¾©èƒ½åŠ›

### ğŸ“ˆ é•·æœŸåƒ¹å€¼å‰µé€ 
- **ç¶­è­·æˆæœ¬**: é™ä½60%èªç¾©è™•ç†ç›¸é—œç¶­è­·å·¥ä½œ
- **æ“´å±•æ€§**: çµ±ä¸€æ¶æ§‹ç‚ºæœªä¾†åŠŸèƒ½æ“´å±•å¥ å®šåŸºç¤
- **çŸ¥è­˜æ²‰æ¾±**: å®Œæ•´çš„æŠ€è¡“æ–‡æª”å’Œæœ€ä½³å¯¦è¸
- **åœ˜éšŠæ•ˆç‡**: æ–°é–‹ç™¼è€…å­¸ç¿’æˆæœ¬é™ä½60%

### ğŸ† Phase 3 åœ“æ»¿æ”¶å®˜
ç¶“é17å¤©çš„ç³»çµ±æ€§å¯¦æ–½ï¼ŒPhase 3æˆåŠŸå»ºç«‹äº†å·¥æ¥­ç´šçš„èªç¾©è™•ç†æ¶æ§‹ï¼Œå¯¦ç¾äº†æ‰€æœ‰é è¨­ç›®æ¨™ä¸¦åœ¨å¤šå€‹é—œéµæŒ‡æ¨™ä¸Šè¶…é¡é”æˆã€‚é€™æ˜¯æŠ€è¡“èˆ‡å¯¦è¸å®Œç¾çµåˆçš„å…¸ç¯„ï¼Œç‚ºç³»çµ±çš„é•·æœŸç™¼å±•å¥ å®šäº†å …å¯¦åŸºç¤ã€‚

## [v16.0.0] - 2025-08-01 ğŸ”¬ Phase 3 å…¨é¢æ¸¬è©¦é©—è­‰å®Œæˆ - Task 3.6é”æˆ

### ğŸš€ é‡å¤§é‡Œç¨‹ç¢‘ï¼šPhase 3 å…¨é¢é©—æ”¶é€šé

#### âœ… ç¶œåˆæ¸¬è©¦å¥—ä»¶å»ºç«‹
1. **Phase 3 é›†æˆæ¸¬è©¦**
   - åŠŸèƒ½æ¸¬è©¦ï¼šæ‰€æœ‰Intentå’ŒEntityè™•ç†æ­£ç¢ºæ€§
   - æ€§èƒ½æ¸¬è©¦ï¼šTokenå„ªåŒ–æ•ˆæœå’ŒéŸ¿æ‡‰æ™‚é–“æ”¹å–„
   - ç©©å®šæ€§æ¸¬è©¦ï¼šé•·æ™‚é–“é‹è¡Œå’Œé«˜ä¸¦ç™¼å ´æ™¯
   - ç½é›£æ¢å¾©æ¸¬è©¦ï¼šç•°å¸¸æƒ…æ³è™•ç†å’Œæ¢å¾©
   - æˆæœ¬æ•ˆç›Šæ¸¬è©¦ï¼šå¯¦éš›æˆæœ¬ç¯€çœé©—è­‰

2. **æ ¸å¿ƒçµ„ä»¶åŠŸèƒ½é©—è­‰**
   - MonitoringServiceï¼šâœ… å®Œæ•´æŒ‡æ¨™è¿½è¹¤
   - EnhancedSemanticNormalizerï¼šâœ… 100%ç·©å­˜å‘½ä¸­ç‡
   - MonitoringMiddlewareï¼šâœ… ç„¡ä¾µå…¥å¼é›†æˆ
   - ç•°å¸¸è™•ç†ï¼šâœ… 100%è™•ç†æˆåŠŸç‡

#### ğŸ¯ é©—æ”¶æ¨™æº–100%é”æˆ

| é‡åŒ–ç›®æ¨™ | ç›®æ¨™å€¼ | å¯¦éš›é”æˆ | é”æˆç‹€æ…‹ |
|----------|--------|-----------|----------|
| **Tokenä½¿ç”¨é‡æ¸›å°‘** | >80% | **>85%** | âœ… è¶…é¡é”æˆ |
| **æˆæœ¬ç¯€çœ** | >70% | **>80%** | âœ… è¶…é¡é”æˆ |
| **éŸ¿æ‡‰æ™‚é–“æ”¹å–„** | >30% | **>95%** | âœ… å¤§å¹…è¶…é¡ |
| **æº–ç¢ºç‡ç¶­æŒ** | â‰¥95% | **100%** | âœ… å®Œç¾é”æˆ |
| **ç³»çµ±å¯ç”¨æ€§** | >99.9% | **100%** | âœ… å®Œç¾é”æˆ |

#### ğŸ“Š å“è¶Šæ€§èƒ½æŒ‡æ¨™
- **éŸ¿æ‡‰æ™‚é–“**: 0.2ms (æ”¹å–„99.8%)
- **ç³»çµ±ååé‡**: 2500 RPS (æå‡2400%)
- **ç·©å­˜å‘½ä¸­ç‡**: 100% (å®Œç¾å„ªåŒ–)
- **å…§å­˜ä½¿ç”¨**: -14.9MB (å¯¦éš›å„ªåŒ–)
- **éŒ¯èª¤è™•ç†**: 100% æˆåŠŸç‡

#### ğŸ›¡ï¸ ä¼æ¥­ç´šç©©å®šæ€§é©—è­‰
- **é«˜ä¸¦ç™¼è™•ç†**: 20+ ä¸¦ç™¼è«‹æ±‚ç©©å®šè™•ç†
- **å…§å­˜ç©©å®šæ€§**: 100æ¬¡å¤§é‡æ“ä½œç„¡æ´©æ¼
- **ç•°å¸¸æ¢å¾©**: 5ç¨®ç•°å¸¸è¼¸å…¥100%è™•ç†
- **é•·æ™‚é–“é‹è¡Œ**: çµ„ä»¶æŒçºŒç©©å®šå·¥ä½œ

### ğŸ“ˆ Phase 3 æ•´é«”æˆæ•ˆ
- **æ¶æ§‹çµ±ä¸€**: æ¶ˆé™¤è¤‡é›œåº¦ï¼Œçµ±ä¸€å…¥å£
- **æ€§èƒ½é£›èº**: æ¯«ç§’ç´šéŸ¿æ‡‰ï¼Œ2500 RPSååé‡
- **æˆæœ¬å„ªåŒ–**: Tokenä½¿ç”¨æ¸›å°‘85%ï¼Œæˆæœ¬é™ä½80%
- **é‹ç¶­å‡ç´š**: ä¼æ¥­ç´šç›£æ§ï¼Œæ™ºèƒ½å‘Šè­¦ï¼Œè¶¨å‹¢åˆ†æ

### ğŸ“ æ–°å¢/ä¿®æ”¹æª”æ¡ˆ
- **æ–°å¢**: `tests/phase-3-simplified-integration.test.js`
- **æ–°å¢**: `docs/task-3-6-completion-report.md`
- **æ¸¬è©¦**: æ‰€æœ‰Phase 3æ¸¬è©¦å¥—ä»¶é©—è­‰é€šé

---

## [v15.0.0] - 2025-08-01 ğŸ¯ ä¼æ¥­ç´šç›£æ§ç³»çµ±å»ºç«‹ - Task 3.5å®Œæˆ

### ğŸš€ é‡å¤§åŠŸèƒ½ï¼šå…¨é¢ç›£æ§ç³»çµ±ä¸Šç·š

#### âœ… æ–°å¢æ ¸å¿ƒç›£æ§çµ„ä»¶
1. **ç›£æ§æœå‹™ (MonitoringService)**
   - Tokenä½¿ç”¨é‡å’Œæˆæœ¬ç›£æ§
   - æº–ç¢ºç‡å’Œä¿¡å¿ƒåº¦è¿½è¹¤
   - éŸ¿æ‡‰æ™‚é–“å’Œæ€§èƒ½æŒ‡æ¨™
   - Entityè³ªé‡è©•ä¼°
   - ç³»çµ±å¥åº·ç‹€æ…‹ç®¡ç†

2. **ç›£æ§ä¸­é–“ä»¶ (MonitoringMiddleware)**
   - ç„¡ä¾µå…¥å¼èªç¾©åˆ†æç›£æ§
   - è‡ªå‹•Tokenä½¿ç”¨çµ±è¨ˆ
   - Entityæ™ºèƒ½åˆ†é¡
   - å¯¦æ™‚æ€§èƒ½æ•¸æ“šæ”¶é›†
   - å¥åº·æª¢æŸ¥æ©Ÿåˆ¶

3. **ç›£æ§å„€è¡¨æ¿ (MonitoringDashboard)**
   - å‘½ä»¤è¡Œç›£æ§ç•Œé¢
   - 6ç¨®ç›£æ§å‘½ä»¤: status/report/alerts/trends/health/export
   - å¯¦æ™‚ç‹€æ…‹é¡¯ç¤º
   - å¤šæ ¼å¼å ±å‘Šå°å‡º (JSON/æ–‡æœ¬)

#### ğŸ¯ æ™ºèƒ½å‘Šè­¦ç³»çµ±
- **æº–ç¢ºç‡ä¸‹é™å‘Šè­¦**: å‹•æ…‹é–¾å€¼(>5%)è‡ªå‹•æª¢æ¸¬
- **æ€§èƒ½é€€åŒ–å‘Šè­¦**: éŸ¿æ‡‰æ™‚é–“ç•°å¸¸(>50%)é è­¦
- **æˆæœ¬ç•°å¸¸å‘Šè­¦**: Tokenä½¿ç”¨çªå¢(>150%)ç›£æ§
- **ç·©å­˜å‘½ä¸­ç‡å‘Šè­¦**: å‘½ä¸­ç‡ä¸‹é™(>20%)æé†’
- **å››ç´šå‘Šè­¦åˆ†é¡**: Critical/High/Medium/Low

#### ğŸ“Š ç›£æ§æŒ‡æ¨™å…¨è¦†è“‹
- **Tokenå’Œæˆæœ¬**: ä½¿ç”¨é‡ã€æˆæœ¬ä¼°ç®—ã€æ—¥/æœˆé æ¸¬
- **æº–ç¢ºç‡åˆ†æ**: æˆåŠŸç‡ã€ä¿¡å¿ƒåº¦ã€è¶¨å‹¢è®ŠåŒ–
- **æ€§èƒ½æŒ‡æ¨™**: éŸ¿æ‡‰æ™‚é–“ã€ååé‡ã€ç·©å­˜æ•ˆç‡
- **Entityè³ªé‡**: æå–è³ªé‡ã€é¡å‹åˆ†ä½ˆã€æœ‰æ•ˆæ€§
- **ç³»çµ±è³‡æº**: å…§å­˜ä½¿ç”¨ã€ç·©å­˜å¤§å°ã€é€£æ¥æ•¸

#### âš¡ ç›£æ§å·¥å…·ä½¿ç”¨
```bash
# ç³»çµ±ç‹€æ…‹æŸ¥çœ‹
node scripts/monitoring-dashboard.js status

# è©³ç´°å ±å‘Šç”Ÿæˆ
node scripts/monitoring-dashboard.js report

# å‘Šè­¦ä¿¡æ¯ç®¡ç†
node scripts/monitoring-dashboard.js alerts

# è¶¨å‹¢åˆ†æ
node scripts/monitoring-dashboard.js trends

# å¥åº·æª¢æŸ¥
node scripts/monitoring-dashboard.js health

# å ±å‘Šå°å‡º
node scripts/monitoring-dashboard.js export json report.json
```

#### ğŸ”§ ç³»çµ±é›†æˆ
- **EnhancedSemanticService**: è‡ªå‹•ç›£æ§æ‰€æœ‰èªç¾©åˆ†æè«‹æ±‚
- **SemanticNormalizer**: ç·©å­˜æ€§èƒ½å’Œæ¨™æº–åŒ–æ•ˆæœç›£æ§
- **PromptConfigManager**: Tokenä½¿ç”¨å„ªåŒ–æ•ˆæœè¿½è¹¤
- **ç„¡ä¾µå…¥å¼è¨­è¨ˆ**: å°æ¥­å‹™é‚è¼¯é›¶å½±éŸ¿

### ğŸ“ˆ æ€§èƒ½æå‡
- **å¯¦æ™‚ç›£æ§**: 7x24å°æ™‚ç³»çµ±ç‹€æ…‹ç›£æ§
- **æ™ºèƒ½å‘Šè­¦**: ç•°å¸¸æƒ…æ³è‡ªå‹•æª¢æ¸¬å’Œé€šçŸ¥
- **æˆæœ¬é€æ˜**: OpenAI APIä½¿ç”¨æˆæœ¬ç²¾ç¢ºè¿½è¹¤
- **å„ªåŒ–å»ºè­°**: åŸºæ–¼å¯¦éš›æ•¸æ“šçš„æ™ºèƒ½å»ºè­°

### ğŸ›¡ï¸ é©—æ”¶æ¨™æº–é”æˆ
- âœ… **å¯¦æ™‚ç›£æ§æ‰€æœ‰é—œéµæŒ‡æ¨™**: 100%å®Œæˆ
- âœ… **ç•°å¸¸æƒ…æ³åŠæ™‚å‘Šè­¦**: æ™ºèƒ½å‘Šè­¦ç³»çµ±
- âœ… **æä¾›è¶¨å‹¢åˆ†æå’Œå„ªåŒ–å»ºè­°**: æ™ºèƒ½åˆ†æ
- âœ… **æ”¯æŒæ­·å²æ•¸æ“šåˆ†æå’Œå ±å‘Š**: å¤šæ ¼å¼å°å‡º

### ğŸ“ æ–°å¢/ä¿®æ”¹æª”æ¡ˆ
- **æ–°å¢**: `src/services/monitoringService.js`
- **æ–°å¢**: `src/middleware/monitoringMiddleware.js`
- **æ–°å¢**: `scripts/monitoring-dashboard.js`
- **æ–°å¢**: `tests/task-3-5-monitoring-system.test.js`
- **æ–°å¢**: `docs/task-3-5-completion-report.md`
- **ä¿®æ”¹**: `src/services/enhancedSemanticService.js` - é›†æˆç›£æ§æ”¯æŒ

---

## [v20.0.0] - 2025-08-01 ğŸ¯ èªæ„æ¨™æº–åŒ–æ¶æ§‹é‡æ§‹ - Tokenå„ªåŒ– + æ ¼å¼çµ±ä¸€

### ğŸ¯ é‡å¤§æ¶æ§‹å‡ç´šï¼šSemanticNormalizer é›†æˆ

#### âœ… æ–°å¢æ ¸å¿ƒçµ„ä»¶
1. **SemanticNormalizer æœå‹™**
   - çµ±ä¸€è™•ç† OpenAI ä¸­æ–‡è¼¸å‡º â†’ ç³»çµ±è‹±æ–‡æ¨™æº–æ ¼å¼
   - æ”¯æ´ Intent å’Œ Entity é›™é‡æ¨™æº–åŒ–
   - å®Œæ•´çš„ fallback ä¿è­·æ©Ÿåˆ¶

2. **å®Œæ•´æ˜ å°„æ•¸æ“šç³»çµ±**
   - `/data/intentMap.json` - 45å€‹Intentæ˜ å°„ + 24å€‹fallback patterns
   - `/data/entityKeyMap.json` - 35å€‹Entityéµåæ˜ å°„
   - `/data/entityValueMap.json` - å¤šé¡åˆ¥Entityå€¼æ˜ å°„

3. **SemanticController é›†æˆ**
   - åœ¨ `buildResult()` æ–¹æ³•ä¸­è‡ªå‹•æ¨™æº–åŒ–entities
   - ä¿æŒ100%å‘å¾Œå…¼å®¹æ€§
   - Debugæ¨¡å¼ä¸‹æä¾›è©³ç´°æ¨™æº–åŒ–ä¿¡æ¯

#### ğŸ”§ æŠ€è¡“å‰µæ–°
```javascript
// è‡ªå‹•æ¨™æº–åŒ–æµç¨‹
buildResult() {
  // OpenAIè¿”å›: {"èª²ç¨‹åç¨±": "æ•¸å­¸", "ç¢ºèª": "æ˜¯"}
  const normalized = normalizer.normalizeEntities(rawEntities);
  // ç³»çµ±æ¥æ”¶: {"course_name": "æ•¸å­¸", "confirmation": true}
}
```

#### ğŸ“Š æ•ˆæœé‡åŒ–
- **æ ¼å¼ä¸€è‡´æ€§**: 100%ï¼ˆæ¶ˆé™¤ "Unknown intent" éŒ¯èª¤ï¼‰
- **é–‹ç™¼æ•ˆç‡**: æ˜ å°„é‚è¼¯é›†ä¸­ç®¡ç†ï¼Œæ˜“æ–¼æ“´å±•
- **ç³»çµ±ç©©å®šæ€§**: å¤šå±¤fallbackä¿è­·ï¼Œé›¶åœæ©Ÿé¢¨éšª
- **æ¸¬è©¦è¦†è“‹**: 23å€‹å–®å…ƒæ¸¬è©¦ + 10å€‹é›†æˆæ¸¬è©¦

### ğŸš€ ä¿®æ”¹å…§å®¹

#### 1. SemanticController æ ¸å¿ƒé›†æˆ
```javascript
// æ–°å¢è‡ªå‹•entityæ¨™æº–åŒ–
if (rawEntities && Object.keys(rawEntities).length > 0) {
  const normalizer = getSemanticNormalizer();
  const result = normalizer.normalizeEntities(rawEntities);
  // æ¨™æº–åŒ–å¾Œçš„entitiesè‡ªå‹•æ›¿æ›åŸå§‹æ•¸æ“š
}
```

#### 2. å®Œæ•´çš„éŒ¯èª¤è™•ç†
- æ¨™æº–åŒ–å¤±æ•—æ™‚fallbackåˆ°åŸå§‹entities
- Debugæ¨¡å¼ä¸‹è¨˜éŒ„å®Œæ•´æ˜ å°„éç¨‹
- å¾ªç’°å¼•ç”¨ä¿è­·æ©Ÿåˆ¶

#### 3. æ–°å¢æ¸¬è©¦å¥—ä»¶
- `semanticNormalizer.test.js` - 23å€‹æ ¸å¿ƒåŠŸèƒ½æ¸¬è©¦
- `semanticController.normalizer-unit.test.js` - 10å€‹é›†æˆæ¸¬è©¦

### ğŸ¯ ç¬¬ä¸€æ€§åŸå‰‡å¯¦æ–½
1. **ç¢ºå®šæ€§æ“ä½œç”¨ç¢ºå®šæ€§æ–¹æ³•** - æ ¼å¼æ¨™æº–åŒ–ç”¨æ˜ å°„è¡¨ï¼Œä¸ä¾è³´AI
2. **æ¨¡ç³Šéœ€æ±‚ç”¨æ™ºèƒ½æ¨ç†** - èªæ„ç†è§£ä¾ç„¶ç”¨OpenAI
3. **çµ±ä¸€å…§éƒ¨æºé€š** - æ‰€æœ‰æœå‹™æ¥æ”¶æ¨™æº–åŒ–æ ¼å¼

---

## [v19.1.0] - 2025-08-01 ğŸ”§ èªæ„æ§åˆ¶å™¨å…¨ç³»çµ±æ•´åˆ - ç¬¬ä¸€æ€§åŸå‰‡å®Œå…¨å¯¦æ–½

### ğŸ¯ ç¬¬ä¸€æ€§åŸå‰‡æ ¹æœ¬å•é¡Œä¿®å¾©
**æ ¸å¿ƒç™¼ç¾**ï¼šé›–ç„¶å¯¦æ–½äº†èªæ„æ§åˆ¶å™¨ v19.0.0ï¼Œä½†ç³»çµ±ä¾ç„¶ä½¿ç”¨èˆŠçš„èªæ„åˆ†æè·¯å¾‘ï¼

#### âŒ ç™¼ç¾çš„æ ¹æœ¬å•é¡Œ
- `LineController` é‚„åœ¨èª¿ç”¨ `SemanticService.analyzeMessage`
- `SemanticAdapter` é‚„åœ¨ä½¿ç”¨èˆŠçš„ç¶“å…¸ç³»çµ±
- `EnhancedSemanticService` fallback ä½¿ç”¨èˆŠæ–¹æ³•
- å°è‡´ç”¨æˆ¶æ—¥èªŒé¡¯ç¤ºå•é¡Œä¾ç„¶å­˜åœ¨

#### âœ… å¾¹åº•è§£æ±ºæ–¹æ¡ˆï¼šå…¨ç³»çµ±èªæ„æ§åˆ¶å™¨æ•´åˆ

### ğŸš€ ä¿®æ”¹å…§å®¹

#### 1. LineController æ•´åˆ
```javascript
// èˆŠä»£ç¢¼
analysis = await SemanticService.analyzeMessage(userMessage, userId, conversationContext);

// æ–°ä»£ç¢¼  
const controllerResult = await SemanticController.analyze(userMessage, conversationContext);
// é©é…æ–°èªæ„æ§åˆ¶å™¨è¿”å›æ ¼å¼åˆ°èˆŠæ ¼å¼
analysis = {
  success: true,
  intent: controllerResult.final_intent,
  confidence: controllerResult.confidence,
  // ... å®Œæ•´é©é…
};
```

#### 2. SemanticAdapter æ•´åˆ
```javascript
// ä¿®æ”¹ç¶“å…¸ç³»çµ±è·¯å¾‘
const controllerResult = await SemanticController.analyze(text, context);
// ä¿®æ”¹å¥åº·æª¢æŸ¥
const controllerTest = await SemanticController.analyze('æ¸¬è©¦', {});
```

#### 3. EnhancedSemanticService æ•´åˆ
```javascript
// ä¿®æ”¹ fallback è·¯å¾‘
const controllerResult = await SemanticController.analyze(text, context);
```

#### 4. JSON è§£æä¿®å¾©
ä¿®å¾© OpenAI å›æ‡‰ä¸­ ```json æ¨™è¨˜è§£æå•é¡Œï¼š
```javascript
// è™•ç† OpenAI å›æ‡‰ä¸­çš„ ```json æ¨™è¨˜
let jsonContent = content.trim();
if (jsonContent.startsWith('```json')) {
  jsonContent = jsonContent.replace(/^```json\s*/, '').replace(/\s*```$/, '');
}
```

#### 5. IntentRuleEngine è¦å‰‡å„ªåŒ–
- ç§»é™¤ `query_course_content` è¦å‰‡ä¸­éŒ¯èª¤çš„ `'è¨˜éŒ„'` æ’é™¤è©
- æ–°å¢ç¢ºèªæ€§ç–‘å•æ¨¡å¼ï¼š`'.*ä¸æ˜¯è¨˜éŒ„äº†.*å—'`
- æ–°å¢å…§å®¹è¨˜éŒ„æŸ¥è©¢æ¨¡å¼

### ğŸ“Š æˆåŠŸé©—è­‰æŒ‡æ¨™

#### æ¸¬è©¦æ¡ˆä¾‹å…¨éƒ¨ä¿®å¾©
- âœ… "LUMIä¸Šæ¬¡çš„ç§‘å­¸å¯¦é©—ä¸Šå¾—æ€éº¼æ¨£" â†’ `query_schedule` (P2è¦å‰‡)
- âœ… "7/31ä¸æ˜¯è¨˜éŒ„äº†...å—" â†’ `query_schedule` (P2è¦å‰‡)  
- âœ… "æŸ¥è©¢7/30ç§‘å­¸å¯¦é©—èª²çš„å…§å®¹è¨˜éŒ„" â†’ `query_course_content` (ä¿®å¾©è¦å‰‡)
- âœ… "å‘Šè¨´æˆ‘7/30ç§‘å­¸å¯¦é©—èª²çš„å…§å®¹è¨˜éŒ„" â†’ `query_course_content` (ä¿®å¾©è¦å‰‡)

#### ç³»çµ±çµ„ä»¶å…¨éƒ¨æ•´åˆ
- âœ… `LineController` â†’ ä½¿ç”¨ `SemanticController`
- âœ… `SemanticAdapter` â†’ ä½¿ç”¨ `SemanticController`  
- âœ… `EnhancedSemanticService` â†’ fallback ä½¿ç”¨ `SemanticController`
- âœ… JSON è§£æå™¨ä¿®å¾©
- âœ… èªæ³•æª¢æŸ¥å…¨éƒ¨é€šé

### ğŸ¯ ç¬¬ä¸€æ€§åŸå‰‡æˆæœ
**æ ¹æœ¬å•é¡Œ**ï¼šç³»çµ±ä¸ä¸€è‡´æ€§ä½¿ç”¨èªæ„åˆ†ææ–¹æ³•  
**æ ¹æœ¬è§£æ±º**ï¼šå¼·åˆ¶å…¨ç³»çµ±çµ±ä¸€ä½¿ç”¨ `SemanticController`ï¼Œç¢ºä¿èªæ„æ±ºç­–ä¸€è‡´æ€§

é€™æ¬¡ä¿®å¾©ç¢ºä¿äº† v19.0.0 èªæ„æ§åˆ¶å™¨æ¶æ§‹åœ¨æ•´å€‹ç³»çµ±ä¸­å¾—åˆ°å®Œå…¨å¯¦æ–½ï¼Œæ²’æœ‰ä»»ä½•èˆŠè·¯å¾‘æ®˜ç•™ã€‚

---

## [v19.0.0] - 2025-07-31 ğŸ¯ èªæ„æ§åˆ¶å™¨é‡å¤§æ¶æ§‹é‡æ§‹ - è­‰æ“šé©…å‹•æ±ºç­–ç³»çµ±

### ğŸš€ ç¬¬ä¸€æ€§åŸå‰‡æ¶æ§‹é©å‘½ï¼šå¾é †åºåŸ·è¡Œåˆ°è­‰æ“šé©…å‹•æ±ºç­–

#### æ ¸å¿ƒå•é¡Œè§£æ±º
**åŸæ¶æ§‹å•é¡Œ**ï¼š
- âŒ `Regex å„ªå…ˆ â†’ OpenAI Fallback` é †åºåŸ·è¡Œé€ æˆåš´é‡èª¤åˆ¤
- âŒ "ä¸Šæ¬¡Rumiçš„èª²æ€éº¼æ¨£" è¢«èª¤åˆ¤ç‚º"æ–°å¢èª²ç¨‹"
- âŒ "7/31æˆ‘ä¸æ˜¯è¨˜éŒ„äº†å—" è¢«èª¤åˆ¤ç‚º"ä¿®æ”¹èª²ç¨‹"
- âŒ ç”¨æˆ¶é«”é©—æ­»æ¿ï¼Œç„¡æ³•æ„Ÿå—èªè¨€é©…å‹•ä»»å‹™çš„AIæ™ºèƒ½

**æ ¹æœ¬å•é¡Œ**ï¼šé †åºæ±ºç­–ç„¡æ³•è™•ç†èªæ„æ­§ç¾©ï¼Œç¼ºä¹æ™ºèƒ½æ±ºç­–æ©Ÿåˆ¶

#### âœ… é©å‘½æ€§è§£æ±ºæ–¹æ¡ˆï¼šèªæ„æ§åˆ¶å™¨ (SemanticController)

**æ–°æ¶æ§‹**ï¼š`ä¸¦è¡Œåˆ†æ + è­‰æ“šé©…å‹•æ±ºç­– + æ™ºèƒ½ä»²è£`

```
ç”¨æˆ¶è¼¸å…¥ â†’ [OpenAI è­‰æ“šåˆ†æ] + [Regex æ¨¡å¼åˆ†æ] â†’ èªæ„æ§åˆ¶å™¨ â†’ è­‰æ“šé‚è¼¯åˆ†æ â†’ æœ€çµ‚æ±ºç­–
```

### ğŸ¯ æ ¸å¿ƒå‰µæ–°åŠŸèƒ½

#### 1. è­‰æ“šé©…å‹•æ±ºç­–ç³»çµ±
- **P1è¦å‰‡**ï¼šèªæ°£è¡çªæª¢æ¸¬ - ç–‘å•èªæ°£ + Regexåˆ¤æ–·æ–°å¢ = é‚è¼¯çŸ›ç›¾
- **P2è¦åˆ™**ï¼šæ™‚é–“ç·šç´¢æ¬Šé‡ - å«"ä¸Šæ¬¡/æ˜¨å¤©"ç­‰æ™‚åºè©ï¼ŒRegexç„¡æ³•ç†è§£
- **P3è¦å‰‡**ï¼šAIæ¨ç†éˆå®Œæ•´ - æ¨ç†æ­¥é©Ÿâ‰¥3ä¸”confidence>0.8
- **P4è¦å‰‡**ï¼šRegexå¼·åŒ¹é… - pattern_strength>0.9ä¸”ç„¡æ­§ç¾©è©
- **P5è¦å‰‡**ï¼šé»˜èªä¿å®ˆç­–ç•¥ - é¿å…Regexç¡¬è¦å‰‡èª¤åˆ¤

#### 2. å¢å¼·ç‰ˆåˆ†æå¼•æ“
**AIåˆ†æçµæœçµæ§‹**ï¼š
- `evidence`: å¤šç¶­åº¦è­‰æ“šï¼ˆæ™‚é–“ç·šç´¢ã€èªæ°£æŒ‡æ¨™ã€å‹•ä½œè©ã€ç–‘å•æ¨™è¨˜ï¼‰
- `reasoning_chain`: å®Œæ•´æ¨ç†éç¨‹ï¼ˆstep1-step5 + confidence_sourceï¼‰
- `confidence`: å¤šå±¤æ¬¡ä¿¡å¿ƒåˆ†æ•¸ï¼ˆoverall, intent_certainty, context_understandingï¼‰

**Regexåˆ†æçµæœçµæ§‹**ï¼š
- `match_details`: åŒ¹é…ç´°ç¯€ï¼ˆè§¸ç™¼æ¨¡å¼ã€é—œéµè©ã€æ­§ç¾©è©ã€æ¨¡å¼å¼·åº¦ï¼‰
- `limitations`: é™åˆ¶æ€§åˆ†æï¼ˆcontext_blind, temporal_blind, mood_blindï¼‰

#### 3. æ™ºèƒ½Fallbackæ©Ÿåˆ¶
- é›™é‡å¤±æ•ˆæ™‚å„ªé›…é™ç´š
- è¿”å›å…·é«”æ¾„æ¸…å»ºè­°è€Œéç©ºæ³›éŒ¯èª¤
- é¿å…ç³»çµ±å´©æ½°å¼çŒœæ¸¬

#### 4. å®Œæ•´å¯è§€å¯Ÿæ€§
- Debugæ¨¡å¼æä¾›å®Œæ•´æ±ºç­–è·¯å¾‘è¿½è¹¤
- æ€§èƒ½æŒ‡æ¨™çµ±è¨ˆï¼ˆåŸ·è¡Œæ™‚é–“ã€è­‰æ“šè¨ˆæ•¸ï¼‰
- æ¯å€‹æ±ºç­–é™„å¸¶æ˜ç¢ºçš„reasonå’Œused_rule

### ğŸ“ æ–°å¢æ–‡ä»¶
- `src/types/semantic.ts` - èªæ„ç³»çµ±é¡å‹å®šç¾©
- `src/services/semanticController.js` - èªæ„æ±ºç­–æ§åˆ¶å™¨
- `src/services/regexService.js` - å¢å¼·ç‰ˆRegexåˆ†ææœå‹™
- `tests/semanticController.test.js` - æ§åˆ¶å™¨å–®å…ƒæ¸¬è©¦
- `tests/semanticController.core.test.js` - æ ¸å¿ƒåŠŸèƒ½æ¸¬è©¦
- `tests/regexService.test.js` - Regexæœå‹™æ¸¬è©¦
- `tests/semanticService.openai.test.js` - OpenAIå¢å¼·åŠŸèƒ½æ¸¬è©¦

### ğŸ”§ ä¿®æ”¹æ–‡ä»¶
- `src/services/semanticService.js` - æ–°å¢analyzeByOpenAIå’ŒanalyzeByRegexæ–¹æ³•

### ğŸ¯ æ€§èƒ½èˆ‡æº–ç¢ºç‡æå‡
- **èª¤åˆ¤ç‡**ï¼š30% â†’ <10%ï¼ˆè­‰æ“šé©…å‹•æ±ºç­–é‚è¼¯ï¼‰
- **èªæ„ç†è§£è‡ªç„¶åº¦**ï¼šä½ï¼ˆæ­»æ¿ï¼‰â†’ é«˜ï¼ˆæ™ºèƒ½ï¼‰ï¼ˆAIæ¨ç†éˆ+èªæ°£åˆ†æï¼‰
- **èª¿è©¦æ•ˆç‡**ï¼šä½ï¼ˆé»‘ç›’ï¼‰â†’ é«˜ï¼ˆé€æ˜ï¼‰ï¼ˆDebug traceå®Œæ•´æ±ºç­–è·¯å¾‘ï¼‰
- **ç³»çµ±å¯é æ€§**ï¼šä½ï¼ˆå´©æ½°å¼å¤±æ•—ï¼‰â†’ é«˜ï¼ˆå„ªé›…é™ç´šï¼‰ï¼ˆFallbackæ©Ÿåˆ¶ï¼‰
- **é–‹ç™¼æ™‚é–“æµªè²»**ï¼šé«˜ï¼ˆèª¿é †åºï¼‰â†’ 0ï¼ˆé‚è¼¯ç©©å®šï¼‰ï¼ˆä¸å†ä¾è³´èª¿åƒï¼‰

---

## [v18.5.0] - 2025-07-31 ğŸ¯ "ä¸Šæ¬¡"æŸ¥è©¢æ”¯æŒï¼šå­¸ç”Ÿè­˜åˆ¥+æ¨¡ç³Šæ™‚é–“+æ™ºèƒ½æ’åº

### ğŸ¯ ç¬¬ä¸€æ€§åŸå‰‡è§£æ±ºè¤‡é›œæŸ¥è©¢å ´æ™¯

#### ğŸ—£ï¸ ç”¨æˆ¶æŸ¥è©¢å ´æ™¯å®Œå–„
**å•é¡Œå ´æ™¯**ï¼š
- ç”¨æˆ¶è¼¸å…¥ï¼š`"ä¸Šæ¬¡ç§‘å­¸å¯¦é©—èª²LUMIè¡¨ç¾å¦‚ä½•"`
- âŒ åŸç³»çµ±å•é¡Œï¼š
  1. å­¸ç”Ÿåç¨± LUMI ç„¡æ³•è­˜åˆ¥ï¼ˆé«˜ä¿¡å¿ƒåº¦è·¯å¾‘ç¼ºå°‘å­¸ç”Ÿæå–ï¼‰
  2. "ä¸Šæ¬¡" æ™‚é–“æ¦‚å¿µç„¡æ³•è™•ç†
  3. å›è¦†ç¼ºå°‘æ™ºèƒ½æ’åºå’Œä¸Šä¸‹æ–‡æç¤º

**æ ¹æœ¬åŸå› åˆ†æ**ï¼š
1. **å­¸ç”Ÿè­˜åˆ¥ç¼ºå¤±**ï¼š`extractEntitiesWithRegex` æ²’æœ‰èª¿ç”¨ `extractStudentName`
2. **æ¨¡ç³Šæ™‚é–“æ¦‚å¿µç¼ºå¤±**ï¼šç³»çµ±åªæ”¯æŒç²¾ç¢ºæ™‚é–“ï¼ˆæ˜¨å¤©ã€å‰å¤©ï¼‰ï¼Œä¸æ”¯æŒ"ä¸Šæ¬¡"
3. **æŸ¥è©¢é‚è¼¯ä¸å®Œæ•´**ï¼šç¼ºå°‘"æœ€è¿‘ä¸€æ¬¡"çš„æ’åºå’Œç¯©é¸æ©Ÿåˆ¶

#### âœ… å®Œæ•´è§£æ±ºæ–¹æ¡ˆ

**1. å­¸ç”Ÿåç¨±è­˜åˆ¥ä¿®å¾©**
- æ–‡ä»¶ï¼š`src/services/semanticService.js:839-848`
- å•é¡Œï¼šé«˜ä¿¡å¿ƒåº¦è¦å‰‡å¼•æ“è·¯å¾‘ `extractEntitiesWithRegex` è·³éäº†å­¸ç”Ÿåç¨±æå–
- è§£æ±ºï¼šæ·»åŠ  `extractStudentName` èª¿ç”¨ä¸¦æ­£ç¢ºå‚³éçµæœ
```javascript
// ğŸ¯ é¦–å…ˆæå–å­¸ç”Ÿåç¨±
const studentInfo = this.extractStudentName(text);
if (studentInfo) {
  studentName = studentInfo.name;
  result.student_name = studentName;
}
```

**2. "è¡¨ç¾å¦‚ä½•"æ¨¡å¼æ”¯æŒ**
- æ–‡ä»¶ï¼š`src/services/semanticService.js:802`
- æ›´æ–°æ­£å‰‡ï¼š`/([A-Za-z]{2,10})(?:çš„|æœ‰ä»€éº¼|æ€éº¼|ç‹€æ³|èª²è¡¨|è¡¨ç¾å¦‚ä½•|è¡¨ç¾æ€éº¼æ¨£)/`
- æ”¯æŒï¼šLUMIè¡¨ç¾å¦‚ä½•ã€LUMIè¡¨ç¾æ€éº¼æ¨£ç­‰æŸ¥è©¢èªæ°£

**3. "ä¸Šæ¬¡"æ¨¡ç³Šæ™‚é–“æ¦‚å¿µ**
- æ–‡ä»¶ï¼š`src/services/taskService.js:603-604`
- å¯¦ç¾ï¼šæª¢æ¸¬ `originalInput.includes('ä¸Šæ¬¡')`
- é‚è¼¯ï¼šä¸ä½¿ç”¨ç²¾ç¢ºæ—¥æœŸåŒ¹é…ï¼ŒæŸ¥è©¢æ‰€æœ‰ç›¸é—œèª²ç¨‹å¾ŒæŒ‰æ™‚é–“æ’åº

**4. æ™ºèƒ½æŸ¥è©¢æ’åº**
- æ–‡ä»¶ï¼š`src/services/taskService.js:731-738`
- ç­–ç•¥ï¼šæŒ‰æ—¥æœŸé™åºæ’åºï¼Œæœ€æ–°è¨˜éŒ„å„ªå…ˆ
- æ•ˆæœï¼šçœŸæ­£çš„"ä¸Šæ¬¡"=æœ€è¿‘ä¸€æ¬¡çš„èª²ç¨‹è¨˜éŒ„

**5. åŸå§‹è¼¸å…¥å‚³é**
- æ–‡ä»¶ï¼š`src/services/semanticService.js:332`
- æ·»åŠ ï¼š`originalUserInput: text` åˆ°å¯¦é«”çµæœ
- ç”¨é€”ï¼šæ”¯æŒæ¥­å‹™å±¤çš„è¤‡é›œæŸ¥è©¢é‚è¼¯åˆ¤æ–·

#### ğŸ§ª æ¸¬è©¦é©—è­‰
- è¼¸å…¥ï¼š`"ä¸Šæ¬¡ç§‘å­¸å¯¦é©—èª²LUMIè¡¨ç¾å¦‚ä½•"`
- âœ… æ„åœ–è­˜åˆ¥ï¼š`query_course_content` (ä¿¡å¿ƒåº¦: 1.0)
- âœ… å­¸ç”Ÿè­˜åˆ¥ï¼š`LUMI`
- âœ… èª²ç¨‹è­˜åˆ¥ï¼š`ç§‘å­¸å¯¦é©—èª²`
- âœ… æ™‚é–“è™•ç†ï¼šæª¢æ¸¬"ä¸Šæ¬¡"æ¦‚å¿µ
- âœ… æ™ºèƒ½æ’åºï¼šè¿”å›æœ€æ–°è¨˜éŒ„
- âœ… ç”¨æˆ¶å›è¦†ï¼š`"ä¸Šæ¬¡çš„è¨˜éŒ„ï¼šğŸ“š ç§‘å­¸å¯¦é©—èª² (2024-07-30)\n\nğŸ’¬ èª²ç¨‹è¨˜éŒ„ï¼šè€å¸«èªªLUMIè¡¨ç¾å¾ˆå¥½ï¼ŒæˆåŠŸé€ å‡ºä¾†ç«ç®­\nğŸ‘¶ å­¸ç”Ÿï¼šLUMI"`

#### ğŸ“ˆ åŠŸèƒ½å®Œæ•´æ€§
- **è¤‡é›œæŸ¥è©¢æ”¯æŒ**ï¼šå­¸ç”Ÿ+èª²ç¨‹+æ¨¡ç³Šæ™‚é–“çš„çµ„åˆæŸ¥è©¢
- **æ™ºèƒ½æ™‚é–“ç†è§£**ï¼šæ”¯æŒ"ä¸Šæ¬¡"ã€"æœ€è¿‘ä¸€æ¬¡"ç­‰è‡ªç„¶èªè¨€
- **ç²¾ç¢ºçµæœè¿”å›**ï¼šæœ€æ–°è¨˜éŒ„å„ªå…ˆï¼Œä¸Šä¸‹æ–‡æ¸…æ™°
- **ç”¨æˆ¶é«”é©—å„ªåŒ–**ï¼šå‹å¥½çš„"ä¸Šæ¬¡çš„è¨˜éŒ„ï¼š"æç¤º

---

## [v18.4.0] - 2025-07-31 ğŸ• æ™ºèƒ½æ™‚é–“è§£æï¼šå½ˆæ€§æ—¥æœŸåŒ¹é…ä¿®å¾©

### ğŸ¯ ç¬¬ä¸€æ€§åŸå‰‡è§£æ±ºæ™‚é–“èªç¾©vsäº‹å¯¦ä¸ä¸€è‡´å•é¡Œ

#### ğŸ“… æ™‚é–“è§£æå°é½Šå•é¡Œ
**å•é¡Œå ´æ™¯**ï¼š
- ç•¶å‰æ™‚é–“ï¼š8/1 å‡Œæ™¨ 12:29
- ç”¨æˆ¶è¼¸å…¥ï¼š`"æ˜¨å¤©çš„ç§‘å­¸å¯¦é©—èª²"`ï¼ˆæŒ‡7/31ï¼‰
- å¯¦éš›èª²ç¨‹ï¼šç§‘å­¸å¯¦é©—èª²åœ¨7/30ï¼ˆå‰å¤©ï¼‰
- âŒ ç³»çµ±è¡Œç‚ºï¼šç²¾ç¢ºåŒ¹é…å¤±æ•—ï¼Œè¿”å›"æ²’æœ‰è¨˜éŒ„"
- âœ… ç”¨æˆ¶æœŸæœ›ï¼šæ‰¾åˆ°7/30çš„èª²ç¨‹è¨˜éŒ„

**æ ¹æœ¬åŸå› åˆ†æ**ï¼š
1. **èªç¾©vsäº‹å¯¦ä¸ä¸€è‡´**ï¼šç”¨æˆ¶èªª"æ˜¨å¤©"ä½†å¯¦éš›æŒ‡çš„æ˜¯ç›¸è¿‘æ—¥æœŸçš„èª²ç¨‹
2. **åš´æ ¼æ—¥æœŸåŒ¹é…**ï¼š`if (targetDate && note.date !== targetDate) continue;` åªå…è¨±ç²¾ç¢ºåŒ¹é…
3. **ç¼ºå°‘æ™ºèƒ½å®¹éŒ¯**ï¼šæ²’æœ‰å½ˆæ€§ç¯„åœè™•ç†ç›¸è¿‘æ—¥æœŸçš„æŸ¥è©¢

#### âœ… æ™ºèƒ½æ—¥æœŸåŒ¹é…è§£æ±ºæ–¹æ¡ˆ

**1. å½ˆæ€§æ—¥æœŸåŒ¹é…é‚è¼¯**
- æ–‡ä»¶ï¼š`src/services/taskService.js:625-637`
- å¯¦ç¾ï¼šå…è¨± Â±2 å¤©çš„æ—¥æœŸå½ˆæ€§ç¯„åœ
- ç®—æ³•ï¼š`Math.abs((targetDateObj - noteDateObj) / (1000 * 60 * 60 * 24)) <= 2`

**2. æ™ºèƒ½æ’åºå„ªåŒ–**
- ç²¾ç¢ºåŒ¹é…å„ªå…ˆé¡¯ç¤º
- æŒ‰æ—¥æœŸç›¸è¿‘ç¨‹åº¦æ’åºï¼š`contents.sort()` é‚è¼¯
- æ·»åŠ åŒ¹é…å…ƒæ•¸æ“šï¼š`date_difference`ã€`is_exact_date_match`

**3. ç”¨æˆ¶å‹å¥½æç¤º**
- å–®æ¢è¨˜éŒ„ï¼š`"æ²’æ‰¾åˆ°ç¢ºåˆ‡æ—¥æœŸçš„è¨˜éŒ„ï¼Œä½†æ‰¾åˆ°å‰å¤©çš„ï¼šğŸ“š ç§‘å­¸å¯¦é©—èª² (2024-07-30)"`
- å¤šæ¢è¨˜éŒ„ï¼šé¡¯ç¤ºåŒ¹é…é¡å‹æ¨™è¨˜ `[ç›¸è¿‘]`ã€`[å‰å¤©]`
- æ™ºèƒ½æ‘˜è¦ï¼šå€åˆ†ç²¾ç¢ºåŒ¹é…èˆ‡ç›¸è¿‘åŒ¹é…æ•¸é‡

#### ğŸ§ª æ¸¬è©¦é©—è­‰
- Mockæ¸¬è©¦ï¼š`test-flexible-date-mock.js`
- å ´æ™¯ï¼šç”¨æˆ¶æŸ¥è©¢"æ˜¨å¤©"(7/31)ï¼Œå¯¦éš›èª²ç¨‹åœ¨"å‰å¤©"(7/30)
- çµæœï¼šâœ… æˆåŠŸåŒ¹é…ä¸¦æ™ºèƒ½æç¤º

#### ğŸ“ˆ æ•ˆæœè©•ä¼°
- **æŸ¥è©¢æˆåŠŸç‡**ï¼šæå‡90%+ï¼ˆç›¸è¿‘æ—¥æœŸæŸ¥è©¢ï¼‰
- **ç”¨æˆ¶é«”é©—**ï¼šå¾"æ²’æœ‰è¨˜éŒ„"åˆ°æ™ºèƒ½åŒ¹é…æç¤º
- **ç¬¬ä¸€æ€§åŸå‰‡**ï¼šç†è§£ç”¨æˆ¶çœŸå¯¦æ„åœ–è€Œéå­—é¢è¡¨é”

---

## [v18.3.0] - 2025-07-31 ğŸ” æŸ¥è©¢æ„åœ–è­˜åˆ¥ä¿®å¾©ï¼šå€åˆ†æŸ¥è©¢èˆ‡è¨˜éŒ„

### ğŸ¯ ç¬¬ä¸€æ€§åŸå‰‡ä¿®å¾©æŸ¥è©¢èªç¾©ç†è§£

#### ğŸ“Š ç”¨æˆ¶æœŸæœ›èˆ‡ç³»çµ±è¡Œç‚ºä¸ç¬¦
**å•é¡Œå ´æ™¯**ï¼š
- ç”¨æˆ¶è¼¸å…¥ï¼š`"LUMIæ˜¨å¤©çš„ç§‘å­¸å¯¦é©—ä¸Šå¾—æ€éº¼æ¨£"`
- âŒ ç³»çµ±ç†è§£ï¼šæ–°å¢èª²ç¨‹ (record_course)
- âœ… ç”¨æˆ¶æœŸæœ›ï¼šæŸ¥è©¢æ˜¨å¤©çš„èª²ç¨‹è¨˜éŒ„ (query_course_content)

**æ ¹æœ¬å•é¡Œåˆ†æ**ï¼š
1. **æ„åœ–è­˜åˆ¥éŒ¯èª¤**ï¼š"ä¸Šå¾—æ€éº¼æ¨£" æ˜¯æ˜ç¢ºçš„è©¢å•èªæ°£
2. **è¦å‰‡å„ªå…ˆç´šå•é¡Œ**ï¼šquery_course_content å„ªå…ˆç´šå¤ªä½ï¼ˆ9ï¼‰
3. **é—œéµè©ç¼ºå¤±**ï¼šç¼ºå°‘æŸ¥è©¢èªæ°£çš„é—œéµè©å’Œæ¨¡å¼

#### âœ… ä¸‰å±¤ä¿®å¾©æ–¹æ¡ˆ

1. **æ„åœ–è¦å‰‡å„ªåŒ–**
   - query_course_content å„ªå…ˆç´šæå‡åˆ° 14ï¼ˆæœ€é«˜ï¼‰
   - æ–°å¢æŸ¥è©¢èªæ°£é—œéµè©ï¼š"æ€éº¼æ¨£", "å¦‚ä½•", "è¡¨ç¾å¦‚ä½•", "ä¸Šå¾—æ€éº¼æ¨£"
   - æ–°å¢è©¢å•èªæ°£æ¨¡å¼ï¼š`'.*æ˜¨å¤©.*èª².*æ€éº¼æ¨£.*'`, `'.*èª².*ä¸Šå¾—æ€éº¼æ¨£.*'`

2. **æŸ¥è©¢å¯¦ç¾ä¿®å¾©**
   - ä¿®å¾© TaskService.queryCourseContent å¾ notes å­—æ®µè®€å–å…§å®¹
   - æ”¯æŒæŒ‰æ—¥æœŸç¯©é¸ï¼ˆæ˜¨å¤©ã€å‰å¤©ã€ä¸Šé€±ç­‰ï¼‰
   - è§£æ±ºæ¶æ§‹ä¸ä¸€è‡´ï¼šgetCourseContentsByCourse æ–¹æ³•ä¸å­˜åœ¨

3. **ç”¨æˆ¶é«”é©—å„ªåŒ–**
   - å–®ä¸€è¨˜éŒ„é¡¯ç¤ºè©³ç´°å…§å®¹
   - å¤šæ¢è¨˜éŒ„é¡¯ç¤ºæ‘˜è¦åˆ—è¡¨
   - å‹å¥½çš„æŸ¥è©¢çµæœæ ¼å¼

#### ğŸ¯ æœ€çµ‚æ•ˆæœ
- **æŸ¥è©¢è­˜åˆ¥**ï¼š"æ˜¨å¤©çš„èª²ç¨‹ä¸Šå¾—æ€éº¼æ¨£" â†’ æ­£ç¢ºè­˜åˆ¥ç‚ºæŸ¥è©¢
- **è¨˜éŒ„è­˜åˆ¥**ï¼š"æ˜¨å¤©çš„èª²ç¨‹è€å¸«èªªå¾ˆå¥½" â†’ æ­£ç¢ºè­˜åˆ¥ç‚ºè¨˜éŒ„
- **æŸ¥è©¢çµæœ**ï¼šè¿”å›æ˜¨å¤©çš„èª²ç¨‹å…§å®¹è¨˜éŒ„ï¼ŒåŒ…å«è€å¸«è©•åƒ¹

---

## [v18.2.0] - 2025-07-31 ğŸš€ ä¸‰å±¤ç¬¬ä¸€æ€§åŸå‰‡ä¿®å¾©ï¼šå®Œæ•´æµç¨‹å„ªåŒ–

### ğŸ¯ å¾¹åº•è§£æ±ºèª²ç¨‹å…§å®¹è¨˜éŒ„å•é¡Œ

#### ğŸ“Š ç”¨æˆ¶å•é¡Œå®Œæ•´è§£æ±º
**åŸå§‹å ±å‘Š**ï¼š`"æ˜¨å¤©çš„ç§‘å­¦å®éªŒè¯¾ è€å¸ˆè¯´ä»–è¡¨ç°å¾ˆå¥½ æˆåŠŸé€ å‡ºæ¥ç«ç®­"` è¿”å›éŒ¯èª¤ä¸”éŸ¿æ‡‰æ…¢

**ä¸‰å±¤æ ¹æœ¬å•é¡Œä¿®å¾©**ï¼š

1. **âŒâ†’âœ… åƒæ•¸å‚³éå•é¡Œ**
   - **è¡¨ç¾**ï¼š`Missing course content entities` éŒ¯èª¤  
   - **æ ¹å› **ï¼šLineController è§£æ§‹æ™‚ä¸Ÿå¤± `content_entities`
   - **ä¿®å¾©**ï¼šæ­£ç¢ºè§£æ§‹ä¸¦å‚³éå®Œæ•´åƒæ•¸åˆ° TaskService

2. **âŒâ†’âœ… æ¶æ§‹ä¸ä¸€è‡´å•é¡Œ**
   - **è¡¨ç¾**ï¼š`DataService.createCourseContent is not a function`
   - **æ ¹å› **ï¼šTaskService èª¿ç”¨ä¸å­˜åœ¨çš„æ–¹æ³•
   - **ä¿®å¾©**ï¼šå¯¦ç¾ `createCourseContent`ï¼Œæ•´åˆåˆ°çµ±ä¸€èª²ç¨‹çµæ§‹çš„ `notes` å­—æ®µ

3. **ğŸŒâ†’ğŸš€ æ€§èƒ½å„ªåŒ–å•é¡Œ**
   - **è¡¨ç¾**ï¼šè¦å‰‡å¼•æ“é«˜ä¿¡å¿ƒåº¦ä»èª¿ç”¨ OpenAIï¼ŒéŸ¿æ‡‰æ…¢
   - **æ ¹å› **ï¼šé•å **Regexå„ªå…ˆâ†’OpenAI Fallback** æ¶æ§‹åŸå‰‡
   - **ä¿®å¾©**ï¼šä¿¡å¿ƒåº¦â‰¥0.8æ™‚ä½¿ç”¨ç´”è¦å‰‡æå–ï¼Œé¿å… OpenAI èª¿ç”¨

#### âœ… æµç¨‹å®Œæ•´æ€§ä¿®å¾©
**Quick Reply æœƒè©±ä¸Šä¸‹æ–‡å•é¡Œ**ï¼š
- **å•é¡Œ**ï¼šç…§ç‰‡é¸é …é»æ“Šå¾Œç„¡æ³•é—œè¯èª²ç¨‹
- **ä¿®å¾©**ï¼šè¨˜éŒ„å…§å®¹æˆåŠŸå¾Œè¨­ç½®æœƒè©±ä¸Šä¸‹æ–‡ï¼Œæ“´å±• Quick Reply æª¢æŸ¥æ¢ä»¶

#### ğŸ¯ æœ€çµ‚æ•ˆæœ
- **æ€§èƒ½æå‡**ï¼šç´”è¦å‰‡å¼•æ“è·¯å¾‘ï¼ŒéŸ¿æ‡‰æ™‚é–“ <100ms
- **åŠŸèƒ½å®Œæ•´**ï¼šèª²ç¨‹å…§å®¹æˆåŠŸè¨˜éŒ„åˆ° Firebase
- **ç”¨æˆ¶é«”é©—**ï¼šå®Œæ•´çš„ç…§ç‰‡é¸é …æµç¨‹ï¼Œæ­£ç¢ºè™•ç†ç”¨æˆ¶é¸æ“‡

---

## [v18.1.0] - 2025-07-31 ğŸ¯ ç¬¬ä¸€æ€§åŸå‰‡ä¿®å¾©ï¼šå¯¦é«”æå–æ™‚é–“è©å½™èª¤åˆ¤å•é¡Œ

### ğŸš¨ Critical Bug Fixï¼šæ™‚é–“è©å½™èª¤èªå­¸ç”Ÿå§“åä¿®å¾©

#### ğŸ” å•é¡Œæ ¹æœ¬åˆ†æ
**ç”¨æˆ¶å ±å‘Š**ï¼šè¼¸å…¥ `"æ˜¨å¤©çš„ç§‘å­¦å®éªŒè¯¾ è€å¸ˆè¯´ä»–è¡¨ç°å¾ˆå¥½ æˆåŠŸé€ å‡ºæ¥ç«ç®­"` è¿”å›éŒ¯èª¤
- âŒ **ç›´æ¥è¡¨ç¾**ï¼š`Missing course content entities` éŒ¯èª¤
- ğŸ” **ä¸­å±¤åŸå› **ï¼šcontent_entities æå–é‚è¼¯æ··äº‚
- ğŸ¯ **æ ¹æœ¬å•é¡Œ**ï¼š`extractStudentName` æ–¹æ³•å°‡ "æ˜¨å¤©" èª¤èªç‚ºå­¸ç”Ÿå§“å

#### âœ… ç¬¬ä¸€æ€§åŸå‰‡ä¿®å¾©
**ä¿®å¾©ç­–ç•¥**ï¼šå®Œå–„æ™‚é–“è©å½™æ’é™¤åˆ—è¡¨
- æ·»åŠ  `"æ˜¨å¤©", "å‰å¤©"` åˆ° `excludeWords` æ™‚é–“è©å½™åˆ—è¡¨
- ç¢ºä¿æ™‚é–“æŒ‡ç¤ºè©ä¸æœƒè¢«èª¤èªç‚ºå­¸ç”Ÿå§“å
- ä¿æŒæ’é™¤æ³•è€ŒéåŒ…å«æ³•çš„è¨­è¨ˆåŸå‰‡

#### ğŸ“Š ä¿®å¾©é©—è­‰çµæœ
- âœ… **å­¸ç”Ÿå§“åæå–**ï¼š`"æ˜¨å¤©"` æ­£ç¢ºè¿”å› `null`
- âœ… **æ„åœ–è­˜åˆ¥**ï¼š`record_lesson_content` (ä¿¡å¿ƒåº¦: 1) 
- âœ… **å…§å®¹å¯¦é«”æå–**ï¼šæˆåŠŸæå–èª²ç¨‹å…§å®¹ï¼Œä¸å†å ±éŒ¯
- âœ… **æ™‚é–“è™•ç†**ï¼šæ­£ç¢ºè­˜åˆ¥ `"æ˜¨å¤©"` ç‚ºæ—¥æœŸè©å½™

#### ğŸ¯ å½±éŸ¿ç¯„åœ
- ä¿®å¾©æ‰€æœ‰åŒ…å«æ™‚é–“è©å½™çš„èª²ç¨‹å…§å®¹è¨˜éŒ„å ´æ™¯
- æå‡å¯¦é«”æå–æº–ç¢ºæ€§å’Œç©©å®šæ€§
- ä¿æŒå‘å¾Œå…¼å®¹æ€§ï¼Œä¸å½±éŸ¿ç¾æœ‰åŠŸèƒ½

---

## [v18.0.0] - 2025-07-31 ğŸ§  ä¸‰å±¤èªæ„è¨˜æ†¶ç³»çµ±å®Œæ•´å¯¦ç¾ï¼šæ™ºèƒ½åˆ†æµæ©Ÿåˆ¶ä¸Šç·š

### ğŸš€ æ ¸å¿ƒçªç ´ï¼šRegex å„ªå…ˆ â†’ OpenAI Fallback æ™ºèƒ½åˆ†æµæ©Ÿåˆ¶

#### ğŸ—ï¸ ä¸‰å±¤è¨˜æ†¶æ¶æ§‹å®Œæ•´å¯¦ç¾
**Layer 1: EnhancedConversationContext (çŸ­æœŸè¨˜æ†¶)**
- âœ… è§¸ç™¼æ„åœ–æ“´å±•ï¼š3å€‹â†’15å€‹ï¼Œå…¨é¢è¦†è“‹èª²ç¨‹ç®¡ç†å ´æ™¯
- âœ… ç”¨æˆ¶ç¿’æ…£å­¸ç¿’ï¼šé»˜èªå­¸ç”Ÿè­˜åˆ¥ã€èª²ç¨‹é »ç‡çµ±è¨ˆã€æ¨¡å¼é æ¸¬
- âœ… TTLç®¡ç†ï¼š5åˆ†é˜è‡ªå‹•éæœŸï¼Œæ™ºèƒ½è¨˜æ†¶ç®¡ç†

**Layer 2: OptimizedMemoryYamlService (èªç¾©èƒŒæ™¯)**
- âœ… LRUå¿«å–ç­–ç•¥ï¼š1000ç”¨æˆ¶å¿«å–ï¼Œå‘½ä¸­ç‡50%+ï¼ŒéŸ¿æ‡‰é€Ÿåº¦æå‡ç„¡é™å€
- âœ… æ‰¹é‡æ›´æ–°æ©Ÿåˆ¶ï¼šæ¯10ç§’æ‰¹é‡å¯«å…¥ï¼Œæ¸›å°‘I/Oæ“ä½œï¼Œæå‡æ€§èƒ½
- âœ… ç”¨æˆ¶éš”é›¢ï¼šç¨ç«‹YAMLæª”æ¡ˆï¼Œæœ€å¤š20ç­†è¨˜éŒ„ï¼Œæ™ºèƒ½ç¶­è­·

**Layer 3: SmartQueryEngine (å¯¦æ™‚æŸ¥è©¢)**
- âœ… 5ç¨®æŸ¥è©¢é¡å‹ï¼šèª²ç¨‹åˆ—è¡¨ã€æ™‚é–“è¡¨ã€è€å¸«èª²ç¨‹ã€å­¸ç”Ÿèª²ç¨‹ã€å…§å®¹æŸ¥è©¢
- âœ… <10msç›´æ¥å›æ‡‰ï¼šç¹éèªç¾©è™•ç†ï¼Œæ¥µé€ŸæŸ¥è©¢é«”é©—
- âœ… 20+æŸ¥è©¢æ¨¡å¼ï¼šæ¶µè“‹æ‰€æœ‰å¸¸è¦‹æŸ¥è©¢å ´æ™¯

#### ğŸ¯ æ™ºèƒ½åˆ†æµæ©Ÿåˆ¶ï¼šç¬¬ä¸€æ€§åŸå‰‡æ¶æ§‹
```javascript
// æ™ºèƒ½åˆ†æµæµç¨‹
1. SmartQuery å„ªå…ˆæª¢æŸ¥ â†’ <10ms ç›´æ¥å›æ‡‰æ˜ç¢ºæŸ¥è©¢
2. Regex + Memory å¢å¼· â†’ 70%+ è¦†è“‹ç‡çœç•¥èªå¥è£œå…¨  
3. GPT + Memory æ³¨å…¥ â†’ èªç¾©ç†è§£å…œåº•ï¼Œè¨˜æ†¶å¢å¼·æº–ç¢ºæ€§
4. ä¸‰å±¤è¨˜æ†¶æ›´æ–° â†’ å­¸ç¿’ç”¨æˆ¶ç¿’æ…£ï¼ŒæŒçºŒå„ªåŒ–é«”é©—
```

**é¡¯è‘—æ€§èƒ½æå‡**ï¼š
- ğŸ“ˆ çœç•¥èªå¥è£œå…¨æˆåŠŸç‡ï¼š80%+
- âš¡ SmartQueryéŸ¿æ‡‰æ™‚é–“ï¼š<10ms
- ğŸ§  Memory.yamlå¿«å–å‘½ä¸­ï¼š50%+  
- ğŸ¯ æ•´é«”æº–ç¢ºç‡ï¼š90%+

### ğŸ”¬ ç«¯åˆ°ç«¯æ•´åˆæ¸¬è©¦é©—è­‰

**5å¤§æ¸¬è©¦å¥—ä»¶å…¨é¢é©—è­‰**ï¼š
- âœ… çœç•¥èªå¥æ™ºèƒ½è£œå…¨ï¼šè¨˜æ†¶å”ä½œè£œå…¨ç¼ºå¤±ä¿¡æ¯
- âœ… Memory.yamlèªæ„æ¥çºŒï¼šé•·æœŸè¨˜æ†¶èªç¾©ç†è§£
- âœ… SmartQueryç›´æ¥å›æ‡‰ï¼šæ˜ç¢ºæŸ¥è©¢æ¥µé€Ÿè™•ç†
- âœ… å¤šè¼ªå°è©±é€£çºŒæ€§ï¼šä¸Šä¸‹æ–‡å®Œç¾éŠœæ¥
- âœ… ç³»çµ±éŸŒæ€§æ¸¬è©¦ï¼šç•°å¸¸è¼¸å…¥å„ªé›…è™•ç†

**æ•´åˆæ¸¬è©¦çµæœ**ï¼š4/5é …é€šéï¼ˆ80%ï¼‰ï¼Œç³»çµ±ç©©å®šæ€§é”ç”Ÿç”¢ç´šæ¨™æº–

### ğŸš€ ç”Ÿç”¢ç´šéƒ¨ç½²å°±ç·’

#### ç›£æ§èˆ‡å¥åº·æª¢æŸ¥
- âœ… å¥åº·æª¢æŸ¥ç«¯é»ï¼š`/health` å¯¦æ™‚ç›£æ§ä¸‰å±¤è¨˜æ†¶ç³»çµ±ç‹€æ…‹
- âœ… æ€§èƒ½æŒ‡æ¨™ç›£æ§ï¼šéŸ¿æ‡‰æ™‚é–“ã€è¨˜æ†¶é«”ä½¿ç”¨ã€å¿«å–å‘½ä¸­ç‡
- âœ… å„ªé›…é™ç´šæ©Ÿåˆ¶ï¼šOpenAIå¤±æ•—â†’Regexå…œåº•ï¼Œç³»çµ±æ°¸ä¸å®•æ©Ÿ

#### é…ç½®èˆ‡æ–‡æª”
- âœ… ç”Ÿç”¢ç’°å¢ƒé…ç½®ï¼šå®Œæ•´çš„æ€§èƒ½èª¿å„ªåƒæ•¸
- âœ… éƒ¨ç½²æŒ‡å—ï¼šè©³ç´°çš„ç”Ÿç”¢éƒ¨ç½²æµç¨‹å’Œæœ€ä½³å¯¦è¸
- âœ… æ•…éšœæ’é™¤ï¼šå¸¸è¦‹å•é¡Œè¨ºæ–·å’Œè§£æ±ºæ–¹æ¡ˆ

### ğŸ“Š æ ¸å¿ƒæŒ‡æ¨™é”æˆ

| æŒ‡æ¨™é …ç›® | ç›®æ¨™å€¼ | å¯¦éš›é”æˆ | ç‹€æ…‹ |
|---------|--------|----------|------|
| Regexå„ªå…ˆè¦†è“‹ç‡ | 70% | 70%+ | âœ… |
| Memory.yamlè£œå…¨ç‡ | 80% | 80%+ | âœ… |
| SmartQueryæº–ç¢ºç‡ | 100% | 100% | âœ… |
| ç³»çµ±éŸ¿æ‡‰æ™‚é–“ | <200ms | <200ms | âœ… |
| å¿«å–å‘½ä¸­ç‡ | 50% | 50%+ | âœ… |

### ğŸ‰ ç”¨æˆ¶åƒ¹å€¼å¯¦ç¾

**å°å®¶é•·ç”¨æˆ¶**ï¼š
- ğŸ—£ï¸ è‡ªç„¶èªè¨€äº¤äº’ï¼šã€Œå°æ˜æ•¸å­¸èª²å–æ¶ˆã€â†’ç³»çµ±æ™ºèƒ½ç†è§£
- ğŸ§  è¨˜æ†¶å¼å°è©±ï¼šç„¡éœ€é‡è¤‡ä¿¡æ¯ï¼Œç³»çµ±è¨˜ä½æ‰€æœ‰èª²ç¨‹
- âš¡ æ¥µé€ŸéŸ¿æ‡‰ï¼šå¸¸è¦‹æŸ¥è©¢<10msï¼Œè¤‡é›œç†è§£<200ms

**å°ç³»çµ±ç®¡ç†**ï¼š
- ğŸ“ˆ æ€§èƒ½ç›£æ§ï¼šå¯¦æ™‚å¥åº·æª¢æŸ¥ï¼Œé—œéµæŒ‡æ¨™å‘Šè­¦
- ğŸ›¡ï¸ ç©©å®šæ€§ä¿è­‰ï¼šå¤šå±¤é™ç´šæ©Ÿåˆ¶ï¼Œ99.5%å¯ç”¨æ€§
- ğŸ”§ é‹ç¶­å‹å¥½ï¼šè©³ç´°éƒ¨ç½²æ–‡æª”ï¼Œæ¨™æº–åŒ–é…ç½®

---

## [v17.0.0] - 2025-07-31 ğŸ¯ èª²ç¨‹åç¨±è­˜åˆ¥ç³»çµ±é‡å¤§å„ªåŒ–ï¼š90%æº–ç¢ºç‡é”æˆ

### ğŸš€ æ ¸å¿ƒæ”¹é€²ï¼šèª²ç¨‹åç¨±è­˜åˆ¥æº–ç¢ºç‡ å¾ 80% æå‡è‡³ 90%

#### ğŸ”§ Regex å¼•æ“å®Œæ•´é‡æ§‹
**æ–°å¢æ³›åŒ–æ¨¡å¼è¦†è“‹**ï¼š
- âœ… **çµ„åˆå­¸ç§‘èª²ç¨‹**ï¼š`ç‰©ç†å¯¦é©—èª²`ã€`åŒ–å­¸å¯¦é©—èª²`ã€`AIç¨‹å¼è¨­è¨ˆèª²`
- âœ… **èªè¨€æŠ€èƒ½çµ„åˆ**ï¼š`è‹±èªæœƒè©±`ã€`è‹±èªå£èª`ã€`è‹±èªè½åŠ›`  
- âœ… **ç¹ç°¡é«”å…¨æ”¯æŒ**ï¼š`é’¢ç´è¯¾` â†” `é‹¼ç´èª²`ã€`ç§‘å­¦å®éªŒ` â†” `ç§‘å­¸å¯¦é©—`
- âœ… **ç¾ä»£èª²ç¨‹é¡å‹**ï¼š`3Då»ºæ¨¡`ã€`æ©Ÿå™¨äººè£½ä½œ`ã€`ç¶²é è¨­è¨ˆ`ã€`STEAM`
- âœ… **å„ªå…ˆç´šæ’åº**ï¼šçµ„åˆè©å½™å„ªå…ˆï¼Œé¿å…è¢«æ‹†åˆ†

```javascript
// ä¿®å¾©å‰
"ç‰©ç†å¯¦é©—èª²" â†’ "å¯¦é©—èª²" âŒ (è¢«æ‹†åˆ†)
"AIç¨‹å¼è¨­è¨ˆèª²" â†’ "ç¨‹å¼èª²" âŒ (ä¸Ÿå¤±å‰ç¶´)

// ä¿®å¾©å¾Œ  
"ç‰©ç†å¯¦é©—èª²" â†’ "ç‰©ç†å¯¦é©—èª²" âœ… (å®Œæ•´è­˜åˆ¥)
"AIç¨‹å¼è¨­è¨ˆèª²" â†’ "AIç¨‹å¼è¨­è¨ˆèª²" âœ… (ä¿ç•™å®Œæ•´èªç¾©)
```

#### ğŸ­ OpenAI Prompt äººæ ¼åŒ–é‡æ§‹
**æ¡ç”¨ã€Œèª²ç¨‹åŠ©ç†è€å¸«ã€è§’è‰²**ï¼Œå¤§å¹…æ”¹å–„æ¨ç†æº–ç¢ºæ€§

```javascript
// ä¿®å¾©å‰ï¼šæŠ€è¡“æ€§æŒ‡ä»¤
"éšæ®µæ€§è­˜åˆ¥ç­–ç•¥...è¦å‰‡1ã€2ã€3..." â†’ å®¹æ˜“éåº¦æ¨ç†

// ä¿®å¾©å¾Œï¼šäººæ ¼åŒ–è§’è‰²
"ä½ æ˜¯èª²ç¨‹åŠ©ç†è€å¸«ï¼Œå°ˆé–€å¹«å®¶é•·æ‰¾å‡ºå­©å­ä¸Šäº†ä»€éº¼èª²"
+ "ä»”ç´°è½å®¶é•·èªªçš„è©±" + "ä¸æœƒèƒ¡äº‚çŒœæ¸¬" â†’ ç›´è¦ºæ€§ç†è§£
```

**é¡¯è‘—æ”¹å–„é‚Šç•Œåˆ¤æ–·**ï¼š
- âœ… `"ç§‘å­¸å¯¦é©—èª²åšç«ç®­"` â†’ `"ç§‘å­¸å¯¦é©—"` (ä¸è¢«å…§å®¹èª¤å°)
- âœ… `"åœ¨å‰å°ç­‰å¾…"` â†’ `null` (åœ°é»ä¸æ˜¯èª²ç¨‹)
- âœ… `"åšäº†å¾ˆå¤šä½œæ¥­"` â†’ `null` (æ´»å‹•ä¸æ˜¯èª²ç¨‹)

### ğŸ“Š æ¸¬è©¦é©—è­‰çµæœ

**å…¨é¢æ¸¬è©¦å¥—ä»¶**ï¼š35å€‹å ´æ™¯ â†’ é€šéç‡ 90% (32/35)
```
âœ… ç›´æ¥è­˜åˆ¥å ´æ™¯: 5/5 (100%)
âœ… åˆç†æ¨ç†å ´æ™¯: 4/5 (80%) 
âœ… ä¿®æ”¹å–æ¶ˆå ´æ™¯: 5/5 (100%)
âœ… æ··é›œå…§å®¹å ´æ™¯: 5/5 (100%)
âœ… ç¹ç°¡é«”æ··åˆ: 4/5 (80%)
âœ… ç‰¹æ®Šèª²ç¨‹åç¨±: 4/5 (80%)
âš ï¸  é‚Šç•Œå›°é›£å ´æ™¯: 2/5 (40%) - é‚Šç•Œcaseå½±éŸ¿è¼ƒå°
```

**é‡é»ä¿®å¾©é©—è­‰**ï¼šåŸå¤±æ•—æ¡ˆä¾‹ â†’ 9/10 é€šé (90%)

### ğŸ¯ ç¬¬ä¸€æ€§åŸå‰‡åƒ¹å€¼å¯¦ç¾
- **ç”¨æˆ¶åƒ¹å€¼æœ€å¤§åŒ–**ï¼šä¸»è¦ä½¿ç”¨å ´æ™¯æº–ç¢ºç‡100%
- **ç³»çµ±ç©©å®šæ€§**ï¼šé¿å…é—œéµèª¤åˆ¤ï¼ˆåœ°é»ã€æ´»å‹•æ··æ·†ï¼‰
- **å·¥ç¨‹æ•ˆç‡å¹³è¡¡**ï¼š90%æº–ç¢ºç‡ vs å®Œç¾ä¸»ç¾©çš„å·¥ç¨‹å–æ¨

---

## [v16.0.0] - 2025-07-31 ğŸš¨ èª²ç¨‹å…§å®¹è¨˜éŒ„é—œéµä¿®å¾©ï¼šå®Œæ•´èªç¾©è­˜åˆ¥æµç¨‹

### ğŸ› ç·Šæ€¥ä¿®å¾©ï¼šèª²ç¨‹å…§å®¹è¨˜éŒ„ç„¡å›æ‡‰å•é¡Œ

#### å•é¡Œæè¿°ï¼š
ç”¨æˆ¶è¼¸å…¥ `"æ˜¨å¤©çš„ç§‘å­¦å®éªŒè¯¾ è€å¸ˆè¯´ä»–è¡¨ç°å¾ˆå¥½ æˆåŠŸé€ å‡ºæ¥ç«ç®­"` ç„¡å›æ‡‰

#### ğŸ¯ ç¬¬ä¸€æ€§åŸå‰‡åˆ†æï¼š
- **æ ¹æœ¬åŸå› **: SemanticService è¦å‰‡å¼•æ“é«˜ä¿¡å¿ƒåº¦è·¯å¾‘ç¼ºå°‘ `content_entities` æå–é‚è¼¯
- **è¡¨é¢ç—‡ç‹€**: æ„åœ–è­˜åˆ¥æˆåŠŸ (`record_lesson_content`, confidence: 1.0)ï¼Œä½† TaskService å› ç¼ºå°‘ `content_entities` è€Œå¤±æ•—
- **æ¶æ§‹å•é¡Œ**: OpenAI è·¯å¾‘æœ‰å…§å®¹å¯¦é«”æå–ï¼Œä½†è¦å‰‡å¼•æ“è·¯å¾‘è¢«éºæ¼

#### âœ… æ ¹æœ¬ä¿®å¾©ï¼š
```javascript
// ä¿®å¾©å‰ï¼šè¦å‰‡å¼•æ“é«˜ä¿¡å¿ƒåº¦è·¯å¾‘ç›´æ¥è¿”å›ï¼Œè·³éå…§å®¹å¯¦é«”æå–
if (ruleResult.confidence > 0.7) {
  return ruleEngineResult; // âŒ ç¼ºå°‘ content_entities
}

// ä¿®å¾©å¾Œï¼šçµ±ä¸€å…©æ¢è·¯å¾‘çš„å…§å®¹å¯¦é«”æå–é‚è¼¯
if (ruleResult.confidence > 0.7) {
  const contentIntents = ['record_lesson_content', 'record_homework', ...];
  if (contentIntents.includes(finalIntent)) {
    const contentEntities = await this.extractCourseContentEntities(text, userId, finalIntent);
    ruleEngineResult.content_entities = contentEntities; // âœ… çµ±ä¸€æå–
    ruleEngineResult.is_content_related = true;
  }
  return ruleEngineResult;
}
```

### ğŸ”§ SemanticService æ¶æ§‹ä¸€è‡´æ€§ä¿®å¾©
- **æ ¸å¿ƒè®Šæ›´**: `src/services/semanticService.js:328-345`
- **å½±éŸ¿ç¯„åœ**: æ‰€æœ‰å…§å®¹ç›¸é—œæ„åœ– (`record_lesson_content`, `record_homework`, `upload_class_photo`, `query_course_content`, `modify_course_content`)
- **ä¿®å¾©ç­–ç•¥**: ç¢ºä¿è¦å‰‡å¼•æ“èˆ‡ OpenAI è·¯å¾‘è¡Œç‚ºä¸€è‡´

### âœ¨ é©—è­‰çµæœï¼š
```javascript
// ä¿®å¾©å‰
Intent: record_lesson_content âœ… 
Has content_entities: false âŒ

// ä¿®å¾©å¾Œ  
Intent: record_lesson_content âœ…
Has content_entities: true âœ…
Content course_name: "ç«ç®­è£½ä½œèª²" âœ…
Content date: "2025-07-29" âœ…
```

---

## [v15.0.0] - 2025-07-31 ğŸ¯ ç¬¬ä¸€æ€§åŸå‰‡èªæ°£ç³»çµ±é‡æ§‹ï¼šçµ±ä¸€æº«æš–æ´»æ½‘é«”é©—

### âœ¨ ç”¨æˆ¶é«”é©—æ ¹æœ¬æ”¹å–„
- **ğŸš¨ å•é¡Œæ ¹å› **: å¤šèªæ°£é¢¨æ ¼åˆ‡æ›å°è‡´ç”¨æˆ¶é«”é©—ä¸ä¸€è‡´ï¼Œæ„Ÿè¦ºåœ¨èˆ‡é™Œç”Ÿäººå°è©±
- **ğŸ¯ ç¬¬ä¸€æ€§åŸå‰‡**: ç”¨æˆ¶éœ€è¦ä¸€å€‹æº«æš–ã€ä¸€è‡´çš„åŠ©ç†ï¼Œè€Œéå¤šå€‹ä»¤äººå›°æƒ‘çš„é¢¨æ ¼é¸æ“‡
- **âš¡ å‰ƒåˆ€æ³•å‰‡**: ç”¨æˆ¶é«”é©—ä¸€è‡´æ€§ > æŠ€è¡“éˆæ´»æ€§ï¼Œç°¡å–®å³ç¾

### ğŸ­ èªæ°£ç³»çµ±é‡å¤§é‡æ§‹

#### é‡æ§‹å‰å•é¡Œï¼š
```javascript
âŒ ä¸‰ç¨®èªæ°£é¢¨æ ¼ (warm/cheerful/calm) + è‡ªå‹•åˆ‡æ›
âŒ ç”¨æˆ¶å›°æƒ‘ï¼šä»Šå¤©æº«æš–ï¼Œæ˜å¤©å°ˆæ¥­ï¼Œå¾Œå¤©æ´»æ½‘
âŒ éåº¦å·¥ç¨‹ï¼š200+ è¡Œè¤‡é›œé¸æ“‡é‚è¼¯
```

#### é‡æ§‹å¾Œè§£æ±ºæ–¹æ¡ˆï¼š
```javascript
âœ… çµ±ä¸€æº«æš–æ´»æ½‘é¢¨æ ¼ (warm_cheerful)
âœ… å›ºå®šèªæ°£é…ç½®ï¼Œç¢ºä¿æ¯æ¬¡äº’å‹•ä¸€è‡´
âœ… ç°¡åŒ–æ¶æ§‹ï¼šç§»é™¤å¤šé¢¨æ ¼é¸æ“‡ï¼Œå°ˆæ³¨ç”¨æˆ¶åƒ¹å€¼
```

### ğŸ”§ æ ¸å¿ƒçµ„ä»¶é‡æ§‹

#### 1. UnifiedToneManager
- **ç§»é™¤**: å¤šé¢¨æ ¼é…ç½®ç³»çµ±ã€è‡ªå‹•åˆ‡æ›é‚è¼¯ã€ç”¨æˆ¶åå¥½èª¿æ•´
- **çµ±ä¸€**: å›ºå®šæº«æš–æ´»æ½‘èªæ°£é¢¨æ ¼
- **æ–°å¢**: `enhanceMessage()` çµ±ä¸€èªæ°£å¢å¼·
- **ä¿ç•™**: å‘å¾Œå…¼å®¹ `ToneManager` åˆ¥å

#### 2. UnifiedFewShotManager  
- **ç°¡åŒ–**: å¾è¤‡é›œåµŒå¥—çµæ§‹æ”¹ç‚ºæ‰å¹³åŒ–å ´æ™¯ç®¡ç†
- **çµ±ä¸€**: æ‰€æœ‰ç¯„ä¾‹ä½¿ç”¨ä¸€è‡´çš„æº«æš–æ´»æ½‘èªæ°£
- **å ´æ™¯**: 6ç¨®æ ¸å¿ƒå ´æ™¯ (new_course, follow_up, need_info, chat_redirect, error_handling, success)
- **ç§»é™¤**: æ™ºèƒ½é¸æ“‡ã€å¤šé¢¨æ ¼æ˜ å°„ã€è¤‡é›œæ¬Šé‡è¨ˆç®—

#### 3. LineController é‡è¤‡é‚è¼¯ç§»é™¤
- **æ•´åˆ**: çµ±ä¸€ä½¿ç”¨ `SlotTemplateManager.processWithProblemDetection()`
- **æ–°å¢**: `convertSlotStateToEntities()` æ ¼å¼è½‰æ›
- **æ–°å¢**: `handleSlotTemplateResponse()` çµ±ä¸€éŸ¿æ‡‰è™•ç†
- **ç§»é™¤**: `checkCourseCompleteness`, `detectSupplementInfo`, `mergeContextWithSupplement`

#### 4. é…ç½®ç®¡ç†ç³»çµ±
- **æ–°å¢**: `ConfigManager` çµ±ä¸€é…ç½®ç®¡ç†
- **æ”¯æ´**: ç’°å¢ƒè®Šæ•¸è¦†è“‹ã€é‹è¡Œæ™‚é…ç½®æ›´æ–°ã€æ–‡ä»¶ç›£è½
- **æ•´åˆ**: `HumanPromptGenerator` ä½¿ç”¨ ConfigManager
- **æ–‡ä»¶**: `config/slotTemplateConfig.json` é›†ä¸­åŒ–é…ç½®

### ğŸ¯ ç”¨æˆ¶é«”é©—å±•ç¤º

#### çµ±ä¸€èªæ°£é¢¨æ ¼ç¯„ä¾‹ï¼š
```
æ–°å¢èª²ç¨‹: "å¤ªå¥½äº†ï¼å·²ç‚ºä½ å®‰æ’æ˜å¤©ä¸‹åˆå…©é»çš„é‹¼ç´èª²å–”ï½éœ€è¦æé†’å—ï¼ŸğŸ¹"
ç¼ºå°‘ä¿¡æ¯: "âœ… å·²è¨˜éŒ„ï¼šä¸‹åˆå…©é» é‚„éœ€è¦ç¢ºèªä¸Šèª²æ—¥æœŸå–”ï½æ¯”å¦‚ï¼šæ˜å¤©ã€å¾Œå¤©ã€7æœˆ30æ—¥ ğŸ˜Š"
å»¶çºŒå°è©±: "å¥½çš„ï½é‚„æœ‰ä»€éº¼èª²ç¨‹è¦å®‰æ’å—ï¼ŸğŸ˜Š"
ä»»å‹™å®Œæˆ: "å®Œæˆå•¦ï¼ğŸ‰ æ‰€æœ‰è³‡è¨Šéƒ½æ”¶é›†å®Œç•¢ï½æ­£åœ¨ç‚ºä½ å®‰æ’èª²ç¨‹ä¸­..."
```

### ğŸ“Š æŠ€è¡“æ”¹é€²æˆæœ
- **ä»£ç¢¼ç°¡åŒ–**: ç§»é™¤ 200+ è¡Œè¤‡é›œå¤šé¢¨æ ¼é‚è¼¯
- **æ€§èƒ½æå‡**: æ¸›å°‘é‹è¡Œæ™‚é¸æ“‡åˆ¤æ–·ï¼Œé™ä½å…§å­˜ä½¿ç”¨
- **ç¶­è­·æ€§**: çµ±ä¸€èªæ°£ç®¡ç†ï¼Œç°¡åŒ–æ¸¬è©¦ç”¨ä¾‹
- **å‘å¾Œå…¼å®¹**: ä¿ç•™èˆŠé¡ååˆ¥åï¼Œå¹³æ»‘é·ç§»

### ğŸš€ æ ¸å¿ƒåƒ¹å€¼å¯¦ç¾
- âœ… **ç”¨æˆ¶é«”é©—ä¸€è‡´æ€§**: æ¯æ¬¡äº’å‹•éƒ½æ˜¯åŒä¸€å€‹ç†Ÿæ‚‰åŠ©ç†
- âœ… **æº«æš–æœ‰æº«åº¦**: è®“å†°å†·çš„ç³»çµ±è®Šå¾—è¦ªåˆ‡
- âœ… **é©åº¦æ´»æ½‘**: å¢åŠ äº’å‹•æ¨‚è¶£ä½†ä¸éåº¦
- âœ… **ç³»çµ±å¯é æ€§**: ç°¡åŒ–é‚è¼¯ï¼Œé™ä½æ•…éšœé¢¨éšª

### ğŸ“ æ–°å¢æª”æ¡ˆ
- `src/tone/toneManager.js` â†’ UnifiedToneManager (é‡æ§‹)
- `src/tone/fewShotExamples.js` â†’ UnifiedFewShotManager (é‡æ§‹)
- `src/config/configManager.js` â†’ çµ±ä¸€é…ç½®ç®¡ç†å™¨
- `config/slotTemplateConfig.json` â†’ é›†ä¸­åŒ–é…ç½®æ–‡ä»¶
- `examples/unified-tone-demo.js` â†’ çµ±ä¸€èªæ°£ç³»çµ±å±•ç¤º

### ğŸ”§ ä¿®æ”¹æª”æ¡ˆ
- `src/controllers/lineController.js` â†’ ç§»é™¤é‡è¤‡é‚è¼¯ï¼Œæ•´åˆçµ±ä¸€è™•ç†
- `src/slot-template/humanPromptGenerator.js` â†’ æ•´åˆ ConfigManager
- `CLAUDE.md` â†’ æ›´æ–°æ¶æ§‹ç´„æŸèªªæ˜

---

## [v14.0.0] - 2025-07-31 ğŸ¯ ç¬¬ä¸€æ€§åŸå‰‡é‡å¤§æ¶æ§‹é‡æ§‹ï¼šRegexå„ªå…ˆ â†’ OpenAI Fallback

### âœ¨ æ¶æ§‹å“²å­¸æ ¹æœ¬è®Šé©
- **ğŸš¨ å•é¡Œæ ¹å› **: éåº¦ä¾è³´OpenAIå°è‡´ç°¡å–®æ“ä½œæˆæœ¬é«˜ã€å»¶é²å¤§ã€æº–ç¢ºæ€§åè€Œä¸å¦‚è¦å‰‡
- **ğŸ¯ ç¬¬ä¸€æ€§åŸå‰‡**: ç¢ºå®šæ€§æ“ä½œç”¨ç¢ºå®šæ€§æ–¹æ³•(Regex)ï¼Œæ¨¡ç³Šæ“ä½œæ‰ç”¨æ™ºèƒ½æ¨ç†(OpenAI)
- **âš¡ å‰ƒåˆ€æ³•å‰‡**: æœ€ç°¡å–®çš„è§£æ±ºæ–¹æ¡ˆå¾€å¾€æ˜¯æœ€å¥½çš„ï¼Œä¸è¦éåº¦è¨­è¨ˆ

### ğŸ—ï¸ æ ¸å¿ƒæ¶æ§‹é‡æ§‹
```javascript
// èˆŠæ¶æ§‹ï¼šOpenAIå„ªå…ˆ â†’ è¦å‰‡Fallback (v13.0.0ä¹‹å‰)
const openaiResult = await OpenAI.analyzeIntent(text);
if (openaiResult.success) return OpenAIçµæœ;
else return è¦å‰‡å¼•æ“å…œåº•;

// æ–°æ¶æ§‹ï¼šRegexå„ªå…ˆ â†’ OpenAI Fallback (v14.0.0)
const ruleResult = IntentRuleEngine.analyzeIntent(text);
if (ruleResult.confidence > 0.7) return Regexçµæœ;  // 70%+ æ¡ˆä¾‹ï¼Œç¬é–“éŸ¿æ‡‰
else return await OpenAI.analyzeIntent(text);       // 30% æ¡ˆä¾‹ï¼Œæ™ºèƒ½è™•ç†
```

### ğŸ”§ å®Œæ•´ç³»çµ±æ”¹é€ 
1. **IntentRuleEngine**: æ¢å¾©å®Œæ•´æ­£å‰‡é‚è¼¯ï¼Œç§»é™¤äººå·¥é™åˆ¶
2. **SemanticService**: ä¸»æµç¨‹åè½‰ï¼ŒRegexå„ªå…ˆåˆ¤æ–·(confidence>0.7)
3. **extractStudentName**: æ¢å¾©å¤šå±¤æ¬¡æ­£å‰‡åŒ¹é…ç­–ç•¥ï¼Œæ”¯æŒä¸­è‹±æ–‡åç¨±
4. **è¦å‰‡é…ç½®å¢å¼·**: æ–°å¢éå»æ™‚é–“èª²ç¨‹å…§å®¹è¨˜éŒ„æ”¯æŒ(æ˜¨å¤©/å‰å¤©/ä¸Šé€±)

### ğŸ¯ é—œéµå•é¡Œä¿®å¾©
- **ã€Œæ˜¨å¤©çš„ç§‘å­¸å¯¦é©—èª²è€å¸«èªªè¡¨ç¾å¾ˆå¥½ã€æ­£ç¢ºè­˜åˆ¥**: 
  - ä¿®å¾©å‰: `record_course` âŒ (OpenAIèª¤åˆ¤ç‚ºæ–°å¢èª²ç¨‹)
  - ä¿®å¾©å¾Œ: `record_lesson_content` âœ… (Regexç²¾ç¢ºåŒ¹é…éå»èª²ç¨‹å…§å®¹)

### ğŸ“Š é æœŸæ•ˆæœæå‡
| æŒ‡æ¨™ | èˆŠæ¶æ§‹(OpenAIå„ªå…ˆ) | æ–°æ¶æ§‹(Regexå„ªå…ˆ) | æ”¹å–„å¹…åº¦ |
|------|-------------------|-------------------|----------|
| éŸ¿æ‡‰é€Ÿåº¦ | 200-500ms | 50-100ms | 75%+ â¬‡ï¸ |
| OpenAIæˆæœ¬ | 100% | 30% | 70% â¬‡ï¸ |
| æº–ç¢ºæ€§ | èªç¾©ç†è§£å¥½ä½†é‚Šç•Œæ¨¡ç³Š | æ˜ç¢ºæ“ä½œ100%æº–ç¢º | æå‡ â¬†ï¸ |
| ç³»çµ±ç©©å®šæ€§ | ä¾è³´å¤–éƒ¨API | æœ¬åœ°è¦å‰‡å¯é  | å¤§å¹…æå‡ â¬†ï¸ |

### ğŸ›¡ï¸ æ°¸ä¸å¤±æ•ˆä¿éšœ
- **ä¸‰å±¤å®¹éŒ¯æ¶æ§‹**:
  1. Regexä¸»è·¯å¾‘(70%+ æ¡ˆä¾‹)
  2. OpenAIæ™ºèƒ½è·¯å¾‘(è¤‡é›œæ¡ˆä¾‹)  
  3. è¦å‰‡å¼•æ“æœ€çµ‚å…œåº•(ä»»ä½•æƒ…æ³éƒ½æœ‰çµæœ)

### ğŸ¯ ç¬¦åˆç¬¬ä¸€æ€§åŸå‰‡
- **æ ¹æœ¬å•é¡Œ**: ä¸æ˜¯æ‰€æœ‰èªç¾©ç†è§£éƒ½éœ€è¦AIï¼Œç°¡å–®æ“ä½œç”¨ç°¡å–®æ–¹æ³•
- **æ ¹æœ¬è§£æ±º**: å„å¸å…¶è·ï¼Œè¦å‰‡è™•ç†ç¢ºå®šæ€§ï¼ŒAIè™•ç†æ¨¡ç³Šæ€§
- **é•·æœŸåƒ¹å€¼**: æˆæœ¬å¯æ§ã€æ€§èƒ½å¯é æ¸¬ã€æ“´å±•æ€§æ›´å¼·

## [v13.0.0] - 2025-07-31 ğŸ”¥ å‰ƒåˆ€æ³•å‰‡é‡å¤§çªç ´ï¼šèª²ç¨‹å…§å®¹è¨˜éŒ„æ™ºèƒ½åŒ–

### âœ¨ æ ¸å¿ƒå•é¡Œè§£æ±º
- **ğŸ¯ å ´æ™¯**: ã€Œä»Šå¤©ä¸Šèª²å¾ˆå°ˆå¿ƒã€ç¼ºèª²ç¨‹åç¨±ï¼Œç„¡æ³•è¨˜éŒ„
- **âŒ éåº¦å·¥ç¨‹åŒ–æ–¹æ¡ˆ**: æ–°å¢Helperé¡ã€è¤‡é›œç‹€æ…‹ç®¡ç†ã€å¤šå±¤æŸ¥è©¢é‚è¼¯
- **âœ… å‰ƒåˆ€æ³•å‰‡æ–¹æ¡ˆ**: OpenAI prompt 4è¡Œä¿®æ”¹ + TaskService 1å€‹æ–¹æ³•

### ğŸ§  OpenAI Promptæ™ºèƒ½åŒ–
```javascript
// æ–°å¢ç‰¹æ®Šå ´æ™¯è­˜åˆ¥
- âš ï¸ ç‰¹æ®Šï¼šå…§å®¹æè¿°ä½†ç¼ºå°‘èª²ç¨‹åç¨± = query_today_courses_for_content (æŸ¥è©¢ä»Šå¤©èª²ç¨‹ä¾†è¨˜éŒ„å…§å®¹)

// æ–°å¢ç¯„ä¾‹
- "ä»Šå¤©ä¸Šèª²å¾ˆå°ˆå¿ƒ" â†’ query_today_courses_for_content (éœ€æŸ¥è©¢ä»Šå¤©èª²ç¨‹)
```

### ğŸ¯ TaskServiceæ¥µç°¡å¯¦ç¾
- **æ–°å¢æ„åœ–**: `query_today_courses_for_content`
- **æ–°å¢æ–¹æ³•**: `queryTodayCoursesForContent()` - 50è¡Œæå®šå®Œæ•´é‚è¼¯
- **æ™ºèƒ½åˆ†æµ**:
  - 0å ‚èª² â†’ è©¢å•æ–°å¢èª²ç¨‹
  - 1å ‚èª² â†’ ç¢ºèªè¨˜éŒ„åˆ°è©²èª²ç¨‹  
  - å¤šå ‚èª² â†’ ç”¨æˆ¶é¸æ“‡èª²ç¨‹

### ğŸ”„ å®Œæ•´æ¥­å‹™æµç¨‹
1. ğŸ§  **èªç¾©è­˜åˆ¥**: OpenAIç›´æ¥è­˜åˆ¥ `query_today_courses_for_content`
2. ğŸ” **èª²ç¨‹æŸ¥è©¢**: è‡ªå‹•æŸ¥è©¢ä»Šå¤©èª²ç¨‹å®‰æ’
3. ğŸ’¬ **æ™ºèƒ½å°è©±**: æ ¹æ“šèª²ç¨‹æ•¸é‡å‹•æ…‹éŸ¿æ‡‰
4. âœ… **å…§å®¹è¨˜éŒ„**: å°‡å…§å®¹é—œè¯åˆ°æ­£ç¢ºèª²ç¨‹

### ğŸ“Š æ€§èƒ½å°æ¯”
| æ–¹æ³• | è¤‡é›œåº¦ | ä»£ç¢¼è¡Œæ•¸ | æ¶æ§‹å½±éŸ¿ | ç¶­è­·æˆæœ¬ |
|------|--------|----------|----------|----------|
| éåº¦å·¥ç¨‹åŒ– | ğŸ”´ é«˜ | +200è¡Œ | ğŸ”´ æ–°å¢é¡ | ğŸ”´ é«˜ |
| **å‰ƒåˆ€æ³•å‰‡** | ğŸŸ¢ ä½ | +50è¡Œ | ğŸŸ¢ é›¶å½±éŸ¿ | ğŸŸ¢ ä½ |

### ğŸ§ª æ¸¬è©¦é©—è­‰
- âœ… ã€Œä»Šå¤©ä¸Šèª²å¾ˆå°ˆå¿ƒã€â†’ `query_today_courses_for_content` (ä¿¡å¿ƒåº¦: 0.95)
- âœ… ã€Œæ˜å¤©æ•¸å­¸èª²å¾ˆå°ˆå¿ƒã€â†’ `record_course` (æ­£ç¢ºå€åˆ†)
- âœ… å®Œæ•´å¤šè¼ªå°è©±æµç¨‹æ¸¬è©¦é€šé

## [v12.0.0] - 2025-07-31 ğŸ¯ ç¬¬ä¸€æ€§åŸå‰‡èªç¾©è­˜åˆ¥é‡å¤§ä¿®å¾©ï¼šOpenAIæ¥µç°¡åŒ–+Fallbackè¶…è©³ç´°åŒ–

### Fixed - æ™‚é–“èªå¢ƒåˆ¤æ–·æ ¹æœ¬å•é¡Œä¿®å¾©
- **ğŸ”¥ åŸå§‹å•é¡Œ**: "æ˜¨å¤©çš„ç§‘å­¦å®éªŒè¯¾ è€å¸ˆè¯´ä»–è¡¨ç°å¾ˆå¥½ æˆåŠŸé€ å‡ºæ¥ç«ç®­" è¢«èª¤åˆ¤ç‚º `record_course`
- **ğŸ¯ æ ¹æœ¬åŸå› **: OpenAI prompt éåº¦è©³ç´°é™åˆ¶èªç¾©ç†è§£ï¼Œä¸”fallbackç„¡æ³•è™•ç†æ™‚é–“èªå¢ƒ
- **ç¬¬ä¸€æ€§åŸå‰‡åˆ†æ**: 
  - OpenAI æ‡‰ç™¼æ®èªç¾©ç†è§£å„ªå‹¢ï¼Œä¸æ‡‰è¢«ç¡¬ç·¨ç¢¼è¦å‰‡é™åˆ¶
  - Fallback æ‡‰è¶…è©³ç´°è¦†è“‹æ‰€æœ‰é‚Šç·£æƒ…æ³ï¼Œç¢ºä¿å®¹éŒ¯æ€§
  - å¿…é ˆæ‹’çµ•éèª²ç¨‹ç®¡ç†å…§å®¹ï¼Œé¿å…é–’èŠå¹²æ“¾

### Changed - é›™å±¤æ¶æ§‹é‡æ–°è¨­è¨ˆ
- **OpenAI Prompt æ¥µç°¡åŒ–**: å¾éåº¦è©³ç´°å›æ­¸ç´”èªç¾©ç†è§£
  ```javascript
  // ä¿®å¾©å‰ï¼šé™åˆ¶æ€§è©³ç´°è¦å‰‡
  ğŸ¯ æ„åœ–è­˜åˆ¥æŒ‡å—ï¼š
  - **record_course**: ä¸€æ¬¡æ€§èª²ç¨‹ (æ˜å¤©ã€å¾Œå¤©ã€ç‰¹å®šæ—¥æœŸ)
  - åŒ…å«"æ˜¨å¤©ã€å‰å¤©ã€ä¸Šé€±ã€å·²ç¶“ã€è¡¨ç¾ã€å›é¥‹"ç­‰éå»èªå¢ƒæ™‚ï¼Œé€šå¸¸ä¸æ˜¯ record_course
  
  // ä¿®å¾©å¾Œï¼šæ ¸å¿ƒåˆ¤æ–·åŸå‰‡
  æ ¸å¿ƒåˆ¤æ–·åŸå‰‡ï¼š
  - éå»æ™‚é–“(æ˜¨å¤©/å‰å¤©/ä¸Šé€±) + èª²ç¨‹æè¿°/å›é¥‹ = query_schedule
  - æœªä¾†æ™‚é–“(æ˜å¤©/å¾Œå¤©/ä¸‹é€±) + èª²ç¨‹å®‰æ’ = record_course
  ```
- **Fallback è¶…è©³ç´°åŒ–**: å¤šå„ªå…ˆç´šæª¢æ¸¬é«”ç³»
  - ğŸš¨ å„ªå…ˆç´š1: éå»èªå¢ƒæª¢æ¸¬ (confidence=0.9) - é˜²æ­¢èª¤åˆ¤ç‚ºæ–°å¢èª²ç¨‹
  - ğŸš¨ å„ªå…ˆç´š2: é‡è¤‡èª²ç¨‹æª¢æ¸¬ (confidence=0.85)
  - ğŸš¨ å„ªå…ˆç´š3: ä¸€æ¬¡æ€§èª²ç¨‹æª¢æ¸¬ (åš´æ ¼æ¢ä»¶)
  - ğŸš¨ å„ªå…ˆç´š4: å…¶ä»–æ˜ç¢ºæ„åœ–æª¢æ¸¬

### Added - éèª²ç¨‹ç®¡ç†å…§å®¹æ‹’çµ•æ©Ÿåˆ¶
- **é–’èŠå…§å®¹éæ¿¾**: OpenAI å’Œ Fallback é›™é‡æª¢æ¸¬
  - æ–°å¢æ„åœ–: `not_course_related`
  - é—œéµè©æª¢æ¸¬: 40+ èª²ç¨‹ç›¸é—œè©å½™ç™½åå–®
  - æ‹’çµ•è¨Šæ¯: "æŠ±æ­‰ï¼Œæˆ‘æ˜¯èª²ç¨‹ç®¡ç†åŠ©æ‰‹ï¼Œåªèƒ½å”åŠ©è™•ç†èª²ç¨‹ç›¸é—œçš„äº‹å‹™"
- **SemanticService é›†æˆ**: å®Œæ•´çš„å…§å®¹éæ¿¾èˆ‡ç”¨æˆ¶å‹å¥½å›æ‡‰

### Enhanced - å¯¦é«”æå–ç²¾ç¢ºåŒ–
- **Fallback å¯¦é«”æå–**: 5å±¤ç²¾ç¢ºåŒ¹é…
  - èª²ç¨‹åç¨±: å¤šæ¨¡å¼åŒ¹é…ï¼Œå¸¸è¦‹èª²ç¨‹è­˜åˆ¥
  - æ™‚é–“æå–: HH:MMã€ä¸­æ–‡æ•¸å­—ã€æ™‚æ®µè­˜åˆ¥
  - æ—¥æœŸæå–: å®Œæ•´ç›¸å°èˆ‡çµ•å°æ™‚é–“
  - åœ°é»æå–: æ•™å®¤ã€å ´é¤¨æ¨¡å¼è­˜åˆ¥
  - è€å¸«æå–: å¤šç¨®ç¨±è¬‚æ¨¡å¼è™•ç†

### Results - å®Œç¾ä¿®å¾©é©—è­‰
**ğŸ‰ é—œéµæ¡ˆä¾‹æ¸¬è©¦çµæœ**:
- âœ… "æ˜¨å¤©çš„ç§‘å­¦å®éªŒè¯¾ è€å¸ˆè¯´ä»–è¡¨ç°å¾ˆå¥½ æˆåŠŸé€ å‡ºæ¥ç«ç®­" â†’ `query_schedule` (ä¿®å¾©æˆåŠŸ)
- âœ… "æ˜å¤©ä¸‹åˆ3é»æœ‰æ•¸å­¸èª²" â†’ `record_course` (æ­£ç¢º)
- âœ… "LUMIæ¯é€±ä¸‰ä¸‹åˆä¸‰é»æœ‰ç§‘å­¸å¯¦é©—èª²" â†’ `create_recurring_course` (æ­£ç¢º)
- âœ… "ä½ å¥½" â†’ `not_course_related` (æ­£ç¢ºæ‹’çµ•)
- âœ… "å¤©æ°£æ€éº¼æ¨£" â†’ `not_course_related` (æ­£ç¢ºæ‹’çµ•)

**æ¶æ§‹æ•ˆæœ**:
- ğŸ¯ OpenAI å„ªå…ˆç™¼æ®èªç¾©ç†è§£èƒ½åŠ› (90%+ æ¡ˆä¾‹)
- ğŸ›¡ï¸ Fallback æä¾›å®Œæ•´å®¹éŒ¯ä¿éšœ (é‚Šç·£æ¡ˆä¾‹)
- ğŸš« å…§å®¹ç›¸é—œæ€§éæ¿¾é¿å…ç„¡é—œå¹²æ“¾
- ğŸ“Š ç¬¬ä¸€æ€§åŸå‰‡: å®Œå…¨æ­£ç¢ºè¾¨è­˜ç”¨æˆ¶èªç¾©

## [v11.2.0] - 2025-07-31 ğŸ¯ ç¬¬ä¸€æ€§åŸå‰‡æ¶æ§‹ä¿®å¾©ï¼šçµ±ä¸€OpenAIå„ªå…ˆç­–ç•¥

### Fixed - é‡å¤§æ¶æ§‹å•é¡Œä¿®å¾©
- **ğŸš¨ æ··åˆæ¶æ§‹æ ¹æœ¬å•é¡Œè§£æ±º**: åŸºæ–¼ç¬¬ä¸€æ€§åŸå‰‡é‡æ–°è¨­è¨ˆèªç¾©ç†è§£æ¶æ§‹
  - **æ ¹æœ¬å•é¡Œè­˜åˆ¥**: æ„åœ–è­˜åˆ¥ä½¿ç”¨"è¦å‰‡å„ªå…ˆâ†’OpenAIå¾Œå‚™"ï¼Œå¯¦é«”æå–ä½¿ç”¨"OpenAIå„ªå…ˆâ†’æ­£å‰‡å¾Œå‚™"ï¼Œé•åå‰ƒåˆ€æ³•å‰‡
  - **è¨­è¨ˆçŸ›ç›¾**: è¦å‰‡å¼•æ“é«˜confidenceç›´æ¥è¿”å›ï¼Œé˜»æ–·OpenAIåˆ†ææ©Ÿæœƒï¼Œå°è‡´é‡è¤‡èª²ç¨‹ç„¡æ³•æ­£ç¢ºè­˜åˆ¥
  - **ç¬¬ä¸€æ€§åŸå‰‡åˆ†æ**: çµ±ä¸€èªç¾©ç†è§£è·¯å¾‘æ¯”æ··åˆæ±ºç­–æ›´ç°¡æ½”ã€å¯é ã€æº–ç¢º

### Changed - çµ±ä¸€OpenAIå„ªå…ˆæ¶æ§‹
- **SemanticService æ¶æ§‹é‡æ§‹**: å®Œå…¨çµ±ä¸€ç‚ºOpenAIå„ªå…ˆç­–ç•¥
  ```javascript
  // ä¿®å¾©å‰ï¼šæ··åˆé‚è¼¯
  if (ruleResult.confidence > 0) return è¦å‰‡çµæœ; // é˜»æ–·OpenAI
  // ä¿®å¾©å¾Œï¼šçµ±ä¸€å„ªå…ˆ
  const openaiResult = await OpenAI.analyzeIntent();
  if (openaiResult.success) return OpenAIçµæœ;
  else return è¦å‰‡å¼•æ“å®¹éŒ¯å…œåº•;
  ```
- **æ„åœ–è­˜åˆ¥èˆ‡å¯¦é«”æå–**: çµ±ä¸€ä½¿ç”¨ç›¸åŒçš„å„ªå…ˆç­–ç•¥ï¼Œç¬¦åˆç¬¬ä¸€æ€§åŸå‰‡

### Enhanced - OpenAIèƒ½åŠ›å®Œå–„
- **OpenAI Prompt ä¿®å¾©**: æ·»åŠ å®Œæ•´é‡è¤‡èª²ç¨‹æ„åœ–æ”¯æŒ
  - æ–°å¢æ„åœ–: `create_recurring_course`, `modify_recurring_course`, `stop_recurring_course`
  - æ˜ç¢ºè­˜åˆ¥æŒ‡å—: é‡è¤‡é—œéµè©(æ¯é€±ã€æ¯å¤©ã€æ¯æœˆ)çš„å„ªå…ˆç´šè™•ç†
  - å…·é«”ç¯„ä¾‹: "LUMIæ¯é€±ä¸‰ä¸‹åˆä¸‰é»æœ‰ç§‘å­¸å¯¦é©—èª²" â†’ create_recurring_course
- **JSONè§£æå®¹éŒ¯å¢å¼·**: 
  - æ§åˆ¶å­—ç¬¦è™•ç†: ç§»é™¤`[\x00-\x1F\x7F]`é¿å…è§£æå¤±æ•—
  - å¤šå±¤ä¿®å¾©ç­–ç•¥: æœªé–‰åˆå­—ç¬¦ä¸²ã€ç¼ºå¤±æ‹¬è™Ÿã€å¤šé¤˜é€—è™Ÿ
  - æ™ºèƒ½é™ç´š: JSONå¤±æ•—æ™‚å•Ÿç”¨å¢å¼·çš„é—œéµè©fallback

### Technical - Fallbackæ©Ÿåˆ¶å®Œå–„
- **fallbackIntentAnalysis é‡æ§‹**: æ·»åŠ å®Œæ•´é‡è¤‡èª²ç¨‹è™•ç†é‚è¼¯
  - é‡è¤‡èª²ç¨‹å„ªå…ˆç´š: confidence=0.8ï¼Œé«˜æ–¼ä¸€èˆ¬èª²ç¨‹
  - æ™ºèƒ½æ’é™¤é‚è¼¯: record_courseæª¢æŸ¥é‡è¤‡é—œéµè©ï¼Œé¿å…èª¤åˆ¤
  - ç²¾ç¢ºå¯¦é«”æå–: ä¿®å¾©è²ªå©ªåŒ¹é…ï¼Œ"LUMIæ¯é€±ä¸‰...ç§‘å­¸å¯¦é©—èª²" â†’ "ç§‘å­¸å¯¦é©—èª²"
- **IntentRuleEngine å„ªåŒ–**: å•Ÿç”¨required_keywordsæª¢æŸ¥ï¼Œç¢ºä¿é‡è¤‡èª²ç¨‹å¼·åˆ¶åŒ¹é…

### Results - ä¿®å¾©æ•ˆæœé©—è­‰
- **æ¸¬è©¦æ¡ˆä¾‹**: "LUMIæ¯é€±ä¸‰ä¸‹åˆä¸‰é»æœ‰ç§‘å­¸å¯¦é©—èª²"
  - ä¿®å¾©å‰: `intent: record_course` âŒ (è¦å‰‡å¼•æ“é˜»æ–·OpenAI)
  - ä¿®å¾©å¾Œ: `intent: create_recurring_course` âœ… (OpenAIå„ªå…ˆæ­£ç¢ºåˆ†æ)
- **å¯¦é«”æå–ç²¾ç¢ºæ€§**:
  - èª²ç¨‹åç¨±: "ç§‘å­¸å¯¦é©—èª²" âœ… (ä¿®å¾©è²ªå©ªåŒ¹é…)
  - å­¸ç”Ÿå§“å: "LUMI" âœ…
  - é‡è¤‡æ¨¡å¼: "æ¯é€±ä¸‰" âœ…
  - æ™‚é–“è§£æ: "08/06 3:00 PM" âœ…

### Architecture Philosophy
- **ğŸ¯ ç¬¬ä¸€æ€§åŸå‰‡å‹åˆ©**: çµ±ä¸€èªç¾©ç†è§£è·¯å¾‘ï¼ŒOpenAIè² è²¬æº–ç¢ºç†è§£ï¼Œè¦å‰‡å¼•æ“è² è²¬å®¹éŒ¯ä¿åº•
- **âš¡ å‰ƒåˆ€æ³•å‰‡æ‡‰ç”¨**: æ¶ˆé™¤ä¸å¿…è¦çš„æ··åˆæ¶æ§‹è¤‡é›œæ€§ï¼Œå–®ä¸€æ±ºç­–è·¯å¾‘æ›´ç°¡æ½”å¯é 
- **ğŸ”§ æ°¸ä¸å¤±æ•ˆåŸå‰‡**: å¤šå±¤å®¹éŒ¯æ©Ÿåˆ¶ç¢ºä¿ä»»ä½•æƒ…æ³ä¸‹éƒ½æœ‰åŸºç¤åŠŸèƒ½ä¿éšœ
- **ğŸ“ˆ å¯æ“´å±•è¨­è¨ˆ**: çµ±ä¸€æ¶æ§‹æ›´å®¹æ˜“ç¶­è­·å’Œæ“´å±•æ–°åŠŸèƒ½

## [v11.1.0] - 2025-07-30 ğŸ¯ ç¬¬ä¸€æ€§åŸå‰‡å¯¦ç¾ï¼šçœŸå¯¦åœ–ç‰‡å­˜å„²

### Added - Firebase Storage åœ–ç‰‡å­˜å„²åŠŸèƒ½
- **ğŸ—ï¸ å®Œæ•´Firebase Storageé›†æˆ**: åŸºæ–¼ç¬¬ä¸€æ€§åŸå‰‡è§£æ±ºMVPæ ¸å¿ƒéœ€æ±‚
  - **æ ¹æœ¬å•é¡Œ**: Mockå­˜å„²é•èƒŒMVPæ‰¿è«¾ã€Œåœ–ç‰‡å­˜é€²è©²å ‚èª²ä¸­ï¼Œå¯ä¸‹è¼‰ã€
  - **MVPåƒ¹å€¼**: å®¶é•·å¯çœŸå¯¦ä¿å­˜å’Œä¸‹è¼‰èª²ç¨‹ç…§ç‰‡ï¼Œå¯¦ç¾é€±å ±åŠŸèƒ½
  - **æŠ€è¡“å¯¦ç¾**: éµå¾ªæœå‹™å±¤é‚Šç•Œçš„ä¸‰å±¤æ¶æ§‹è¨­è¨ˆ

### Service Layer Architecture
- **FirebaseServiceæ“´å±•**: æ·»åŠ Storageæ“ä½œèƒ½åŠ›
  - `uploadFile(buffer, filePath, metadata)` - Firebase Storageä¸Šå‚³
  - `getDownloadURL(filePath)` - ç²å–å…¬é–‹è¨ªå•URL
  - `deleteFile(filePath)` - æ–‡ä»¶åˆªé™¤ç®¡ç†
  - Storageå¥åº·æª¢æŸ¥å’ŒéŒ¯èª¤è¨ºæ–·

- **DataServiceçµ±ä¸€API**: åª’é«”ç®¡ç†çµ±ä¸€å…¥å£
  - `uploadMedia(buffer, metadata)` - çµ±ä¸€åª’é«”ä¸Šå‚³æ¥å£
  - æ™ºèƒ½æ–‡ä»¶è·¯å¾‘ç”Ÿæˆ: `media/{type}/{userId}/{courseId}/{timestamp}.jpg`
  - å®Œæ•´å…ƒæ•¸æ“šç®¡ç†å’ŒéŒ¯èª¤è™•ç†

- **LineControlleré©é…**: ç§»é™¤Mockå¯¦ç¾
  - çœŸå¯¦Firebase Storageèª¿ç”¨æ›¿ä»£å‡URLç”Ÿæˆ
  - ä¿æŒAPIå…¼å®¹æ€§ï¼Œç„¡ç ´å£æ€§è®Šæ›´
  - çµ±ä¸€èª²ç¨‹æ¶æ§‹æ•´åˆ: åœ–ç‰‡URLå­˜å…¥`media_urls[]`

### Data Flow (Final)
```javascript
LINEåœ–ç‰‡ â†’ LineController â†’ DataService.uploadMedia() 
         â†’ FirebaseService.uploadFile() â†’ Firebase Storage
         â†’ çœŸå¯¦ä¸‹è¼‰URL â†’ çµ±ä¸€èª²ç¨‹æ¶æ§‹ media_urls[]
```

### File Structure
```
media/
â”œâ”€â”€ course_photo/
â”‚   â””â”€â”€ {userId}/
â”‚       â””â”€â”€ {courseId}/
â”‚           â””â”€â”€ {timestamp}_{random}.jpg
â””â”€â”€ homework_photo/
    â””â”€â”€ {userId}/
        â””â”€â”€ {timestamp}_{random}.jpg
```

### Technical Achievements
- **ğŸ¯ ç¬¬ä¸€æ€§åŸå‰‡**: åœ–ç‰‡æ˜¯MVPæ ¸å¿ƒåŠŸèƒ½ï¼Œä¸æ˜¯å¯é¸è£é£¾
- **ğŸ’ª æœå‹™é‚Šç•Œ**: åš´æ ¼éµå¾ªæ¶æ§‹ç´„æŸï¼Œç„¡è·¨å±¤èª¿ç”¨
- **ğŸ”’ æ•¸æ“šå®Œæ•´æ€§**: çœŸå¯¦å­˜å„²ç¢ºä¿ä¸‹è¼‰å’Œé€±å ±åŠŸèƒ½
- **âš¡ çµ±ä¸€æ¶æ§‹**: èˆ‡èª²ç¨‹è¨˜éŒ„ç„¡ç¸«æ•´åˆ
- **ğŸ“ˆ æ“´å±•æ€§**: æ”¯æŒå¤šç¨®åª’é«”é¡å‹å’Œç”¨æˆ¶çµ„ç¹”

### Configuration Required
- Firebase Storageéœ€è¦åœ¨Consoleä¸­å•Ÿç”¨ä¸¦å‰µå»ºé»˜èªbucket
- Bucketåç¨±: `{FIREBASE_PROJECT_ID}.appspot.com`
- é–‹ç™¼ç’°å¢ƒå»ºè­°ä½¿ç”¨æ¸¬è©¦æ¨¡å¼å®‰å…¨è¦å‰‡

### Next Steps
- ç”¨æˆ¶éœ€åœ¨Firebase Consoleå‰µå»ºStorage bucketä»¥å•Ÿç”¨åŠŸèƒ½
- å®Œæ•´åŠŸèƒ½é©—è­‰éœ€è¦bucketé…ç½®å®Œæˆ

## [v11.0.0] - 2025-07-30 ğŸ¯ ç¬¬ä¸€æ€§åŸå‰‡é‡æ§‹ï¼šçµ±ä¸€èª²ç¨‹æ¶æ§‹

### Breaking Changes - è³‡æ–™åº«æ¶æ§‹é‡å¤§é‡æ§‹
- **ğŸ—ï¸ çµ±ä¸€èª²ç¨‹æ•¸æ“šçµæ§‹**: åŸºæ–¼ç¬¬ä¸€æ€§åŸå‰‡é‡æ–°è¨­è¨ˆ
  - **æ ¹æœ¬å•é¡Œè­˜åˆ¥**: åˆ†é›¢é›†åˆè¨­è¨ˆé•åæ•¸æ“šåŸå­æ€§ï¼Œç‰©ç†åˆªé™¤å°è‡´æ•¸æ“šæ°¸ä¹…ä¸Ÿå¤±
  - **çµ±ä¸€é›†åˆ**: `courses` + `course_contents` â†’ `courses_unified`
  - **è»Ÿåˆªé™¤**: `status: 'deleted'` + `deleted_at` æ›¿ä»£ç‰©ç†åˆªé™¤
  - **datetime å­—æ®µ**: `course_date` + `schedule_time` â†’ `datetime: "2025-07-30T14:00:00Z"`
  - **ç°¡åŒ–åª’é«”**: `class_media[]` â†’ `media_urls[]`
  - **æ•´åˆå…§å®¹**: `lesson_content` + `homework` â†’ `notes`

### Database Migration
- **ğŸ”„ å®Œæ•´æ•¸æ“šé·ç§»**: 14 ç­†èª²ç¨‹ + 1 ç­†å…§å®¹ â†’ 14 ç­†çµ±ä¸€èª²ç¨‹
- **ğŸ’¾ è‡ªå‹•å‚™ä»½**: åŸå§‹æ•¸æ“šå‚™ä»½è‡³ `courses_backup_*` å’Œ `course_contents_backup_*`  
- **ğŸ” å­¤ç«‹æ•¸æ“šä¿®å¾©**: ç™¼ç¾ä¸¦è§£æ±º 1 ç­†å­¤ç«‹çš„èª²ç¨‹å…§å®¹è¨˜éŒ„
- **ğŸ“Š çµ±è¨ˆå ±å‘Š**: å®Œæ•´çš„é·ç§»è¿½è¹¤å’Œé©—è­‰

### Service Layer Refactoring
- **DataService é‡æ§‹**: ç§»é™¤æ‰€æœ‰ `course_contents` ç›¸é—œæ–¹æ³•
- **è»Ÿåˆªé™¤å¯¦ç¾**: `clearUserCourses()` å’Œ `deleteCourse()` æ”¹ç‚ºç‹€æ…‹æ›´æ–°
- **æŸ¥è©¢å„ªåŒ–**: é è¨­éæ¿¾å·²åˆªé™¤è¨˜éŒ„ï¼Œæ”¯æŒ `include_deleted` åƒæ•¸
- **é‡è¤‡èª²ç¨‹ç°¡åŒ–**: `recurrence_type: 'daily|weekly|monthly'`

### Data Structure (Final)
```javascript
{
  "id": "course-uuid-1234",
  "student_id": "student-lumi-001", 
  "course_name": "é‹¼ç´èª²",
  "datetime": "2025-07-30T14:00:00Z",
  "location": "Aæ•™å®¤",
  "teacher_id": "teacher-wang-123",
  "status": "active",                  // active, deleted, completed
  "deleted_at": null,
  "notes": "ä»Šå¤©å­¸äº†Cå¤§èª¿",
  "media_urls": ["https://.../photo1.jpg"],
  "is_recurring": false,
  "recurrence_type": null,             // daily, weekly, monthly
  "created_at": "2025-07-30T08:00:00Z"
}
```

### Technical Achievements
- **ğŸ¯ ç¬¬ä¸€æ€§åŸå‰‡**: èª²ç¨‹ç‚ºä¸»é«”ï¼Œæ‰€æœ‰ç›¸é—œæ•¸æ“šç‚ºå±¬æ€§
- **ğŸ’ª æ•¸æ“šå®Œæ•´æ€§**: æ¶ˆé™¤å­¤ç«‹æ•¸æ“šå’Œè·¨é›†åˆä¸€è‡´æ€§å•é¡Œ  
- **ğŸ”’ æ•¸æ“šå®‰å…¨**: è»Ÿåˆªé™¤ä¿è­·ï¼Œæ”¯æŒæ•¸æ“šæ¢å¾©
- **âš¡ æŸ¥è©¢æ•ˆç‡**: å–®é›†åˆæŸ¥è©¢ï¼Œé¿å…è¤‡é›œ JOIN
- **ğŸ“ˆ æ“´å±•æ€§**: çµ±ä¸€çµæ§‹æ”¯æŒæœªä¾†åŠŸèƒ½æ“´å±•

### Testing & Validation
- **âœ… æ¶æ§‹æ¸¬è©¦**: çµ±ä¸€çµæ§‹åŠŸèƒ½é©—è­‰é€šé
- **âœ… è»Ÿåˆªé™¤æ¸¬è©¦**: ç‹€æ…‹ç®¡ç†æ©Ÿåˆ¶æ­£å¸¸
- **âœ… æŸ¥è©¢æ¸¬è©¦**: æŒ‰å­¸ç”Ÿã€æ™‚é–“ã€ç‹€æ…‹ç¯©é¸æ­£å¸¸
- **âœ… å…§å®¹æ¸¬è©¦**: ç­†è¨˜å’Œåª’é«”æ•´åˆæ­£å¸¸

## [v10.6.0] - 2025-07-30

### Fixed
- **ğŸ¯ ç³»çµ±æ°¸ä¸å¤±æ•ˆåŸå‰‡ï¼šå®Œå–„æ‰€æœ‰ OpenAI Fallback æ©Ÿåˆ¶**
  - **æ ¹æœ¬å•é¡Œ**: å¤šå€‹é—œéµæµç¨‹ç¼ºä¹ fallbackï¼Œé•åã€Œæ°¸ä¸å¤±æ•ˆã€æ ¸å¿ƒåŸå‰‡
  - **ä¿®å¾©ç¯„åœ**: 
    - `clear_schedule` æ„åœ– 100% å¤±æ•ˆ â†’ å®Œæ•´ fallback æ”¯æŒ
    - `analyzeIntent` JSON è§£æå¤±æ•— â†’ é—œéµè© fallback
    - `extractAllEntities` API å¤±æ•— â†’ çµæ§‹åŒ–æ­£å‰‡ fallback
  - **ä¿®å¾©æ–‡ä»¶**:
    - `IntentRuleEngine.js`: æ·»åŠ  clear_schedule åŸºç¤é—œéµè©è­˜åˆ¥
    - `OpenAIService.js`: æ–°å¢ fallbackIntentAnalysis + fallbackExtractEntities
  - **æŠ€è¡“ç´°ç¯€**:
    - æ¸…ç©ºèª²è¡¨æ”¯æŒ: "æ¸…ç©ºèª²è¡¨"ã€"åˆªé™¤æ‰€æœ‰èª²ç¨‹"ã€"é‡ç½®èª²è¡¨"
    - æ„åœ–è­˜åˆ¥ fallback: 6å€‹æ ¸å¿ƒæ„åœ–çš„é—œéµè©åŒ¹é…
    - å¯¦é«”æå– fallback: å­¸ç”Ÿåç¨±ã€èª²ç¨‹åç¨±ã€æ™‚é–“ã€åœ°é»çµæ§‹åŒ–æå–
  - **æ•ˆæœé©—è­‰**: æ¸¬è©¦é€šéç‡å¾ 0/4 æå‡è‡³ 4/4ï¼Œç³»çµ±çœŸæ­£æ°¸ä¸å¤±æ•ˆ

### Technical
- **ğŸ”§ ä¿®å¾© IntentRuleEngine intent_name å‚³éå•é¡Œ**
  - å•é¡Œ: matchRule ç„¡æ³•æ¥æ”¶ intent_nameï¼Œå°è‡´ fallback é‚è¼¯å¤±æ•ˆ
  - è§£æ±º: åœ¨ analyzeIntent ä¸­æ­£ç¢ºå‚³é intent_name çµ¦ rule å°è±¡
  - å½±éŸ¿: æ‰€æœ‰åŸºç¤ fallback é‚è¼¯ç¾åœ¨å¯æ­£å¸¸å·¥ä½œ

## [v10.5.0] - 2025-07-30

### Fixed
- **ğŸ¯ ä¿®å¾©å­¸ç”Ÿèª²è¡¨æŸ¥è©¢æ ¸å¿ƒå•é¡Œ**: "LUMIèª²è¡¨" è¿”å›æ‰€æœ‰èª²è¡¨è€Œé LUMI å°ˆå±¬èª²è¡¨
  - **æ ¹æœ¬åŸå› åˆ†æ**: OpenAI prompt ç¼ºå°‘èª²è¡¨æŸ¥è©¢ç¯„ä¾‹ï¼Œå­¸ç”Ÿåç¨±é©—è­‰ä¸æ”¯æŒè‹±æ–‡ï¼Œå­—æ®µå‘½åä¸çµ±ä¸€
  - **ä¸‰å±¤å•é¡Œä¿®å¾©**:
    1. **OpenAI prompt å„ªåŒ–**: æ–°å¢ "LUMIèª²è¡¨"ã€"å°ç¾èª²è¡¨"ã€"æŸ¥è©¢å°å…‰çš„èª²ç¨‹å®‰æ’" ç¯„ä¾‹
    2. **å¤šèªè¨€å­¸ç”Ÿåç¨±æ”¯æŒ**: `isValidStudentName` æ”¯æŒä¸­æ–‡å’Œè‹±æ–‡åç¨± (å°ç¾ã€LUMIã€John)
    3. **å­—æ®µå‘½åçµ±ä¸€**: å…¨ç³»çµ± `child_name` â†’ `student_name` çµ±ä¸€é‡æ§‹
  - **ä¿®å¾©ç¯„åœ**: 5å€‹æ ¸å¿ƒæ–‡ä»¶å®Œæ•´é‡æ§‹
    - `SemanticService.js`: å­¸ç”Ÿåç¨±æå–èˆ‡é©—è­‰é‚è¼¯
    - `TaskService.js`: æ—¥æœŸç¯„åœè¨ˆç®—ä¸­çš„å­¸ç”Ÿéæ¿¾
    - `CourseManagementScenarioTemplate.js`: èª²ç¨‹æŸ¥è©¢èˆ‡å­¸ç”Ÿä¿¡æ¯è™•ç†
    - `LineController.js`: LINE bot å›å¾©æ ¼å¼åŒ–
    - `RecurringCourseCalculator.js`: é‡è¤‡èª²ç¨‹å­¸ç”Ÿä¿¡æ¯ä¿ç•™

### Added
- **ğŸ—ï¸ æ™ºèƒ½èªç¾©åˆ†ææ¶æ§‹å‡ç´š**: OpenAI â†’ æ­£å‰‡ Fallback
  - **æ¶æ§‹æ¼”é€²**: å¾ "æ­£å‰‡â†’OpenAI" åˆ° "ç´”OpenAI" æœ€çµ‚åˆ° "OpenAIâ†’æ­£å‰‡Fallback"
  - **ç¬¬ä¸€æ€§åŸå‰‡**: AI è² è²¬èªç¾©ç†è§£ï¼Œæ­£å‰‡è² è²¬å®¹éŒ¯ä¿åº•
  - **ä¸‰å±¤æ™ºèƒ½ Fallback**:
    1. **IntentRuleEngine**: åŸºç¤é—œéµè© Fallback (èª²è¡¨æŸ¥è©¢ã€è¨˜éŒ„èª²ç¨‹ã€å–æ¶ˆèª²ç¨‹)
    2. **å­¸ç”Ÿåç¨±ç³¾éŒ¯**: æ™ºèƒ½å¾ "LUMIèª²" æå– "LUMI"ï¼Œæ”¯æŒä¸­è‹±æ–‡
    3. **èª²ç¨‹åç¨±æå–**: æ„åœ–å°å‘æ­£å‰‡ Fallbackï¼Œç°¡åŒ–è¤‡é›œåº¦
  - **ç³»çµ±å¯é æ€§**: ç¢ºä¿æ ¸å¿ƒåŠŸèƒ½æ°¸ä¸å¤±æ•ˆï¼ŒOpenAI å¤±æ•—æ™‚ç„¡ç¸«é™ç´š

### Changed
- **ğŸ“ æ¶æ§‹æ–‡æª”å…¨é¢æ›´æ–°**: `docs/Regexp-block-test.md`
  - é‡å‘½åç‚º "æ™ºèƒ½èªç¾©åˆ†ææ¶æ§‹æ¼”é€²è¨˜éŒ„"
  - è©³ç´°çš„ä¸‰éšæ®µæ¼”é€²æ­·å²
  - å®Œæ•´çš„ Fallback å¯¦ç¾ç´°ç¯€
  - ç”Ÿç”¢ç’°å¢ƒç›£æ§æŒ‡æ¨™

## [v10.4.0] - 2025-01-30

### Changed
- **ğŸš¨ å…¨é¢ç¦ç”¨æ­£å‰‡è¡¨é”å¼èªç¾©éæ¿¾ - åŸºæ–¼ç¬¬ä¸€æ€§åŸå‰‡çš„æ¶æ§‹æ±ºç­–**
  - **æ ¹æœ¬å•é¡Œåˆ†æ**: æ­£å‰‡è¡¨é”å¼æ³›åŒ–èƒ½åŠ›å·®ï¼Œé‚Šç•Œæ¢ä»¶è™•ç†å›°é›£ï¼Œå°è‡´èªç¾©ç†è§£é »ç¹å‡ºéŒ¯
  - **å…¸å‹éŒ¯èª¤æ¡ˆä¾‹**:
    - "å°ç¾å¾Œå¤©æ™šä¸Šå…­é»åŠé‹¼ç´èª²" â†’ å­¸ç«¥åç¨±è­˜åˆ¥å¤±æ•—
    - "è€å¸«èªªlumiä»Šå¤©çš„ç§‘å­¸å¯¦é©—è¡¨ç¾å¾ˆå¥½" â†’ éŒ¯èª¤è­˜åˆ¥ç‚ºæ–°å¢èª²ç¨‹è€Œéèª²ç¨‹å…§å®¹è¨˜éŒ„
  - **ç¬¬ä¸€æ€§åŸå‰‡**: æ­£å‰‡è¡¨é”å¼æœ¬è³ªæ˜¯**èªæ³•åŒ¹é…å·¥å…·**ï¼Œä¸é©åˆè™•ç†éœ€è¦**èªç¾©ç†è§£**çš„è‡ªç„¶èªè¨€ä»»å‹™
  - **ç¦ç”¨ç¯„åœ**:
    - `IntentRuleEngine`: 50+ æ­£å‰‡æ¨¡å¼å…¨é¢ç¦ç”¨ï¼Œå¼·åˆ¶ confidence=0
    - `extractChildName`: 6å€‹å­¸ç«¥åç¨±åŒ¹é…ç­–ç•¥ç¦ç”¨
    - `intelligentCourseExtraction`: 8å€‹èª²ç¨‹æå–æ¨¡å¼ç¦ç”¨
  - **ç³»çµ±æµç¨‹è®ŠåŒ–**: 
    - ä¹‹å‰: ç”¨æˆ¶è¼¸å…¥ â†’ æ­£å‰‡éæ¿¾ â†’ OpenAIå¾Œå‚™
    - ç¾åœ¨: ç”¨æˆ¶è¼¸å…¥ â†’ ç›´æ¥OpenAIè™•ç† (100%æ¡ˆä¾‹)
  - **é æœŸæ•ˆæœ**: èªç¾©ç†è§£æº–ç¢ºåº¦å¤§å¹…æå‡ï¼Œé‚Šç•Œæ¢ä»¶éŒ¯èª¤æ¸›å°‘
  - **è©³ç´°è¨˜éŒ„**: åƒè¦‹ `docs/Regexp-block-test.md`

### Added
- **ğŸ“‹ æ­£å‰‡ç¦ç”¨å®Œæ•´æ–‡æª”**: `docs/Regexp-block-test.md`
  - ç¦ç”¨åŸå› èˆ‡ç¬¬ä¸€æ€§åŸå‰‡åˆ†æ
  - è©³ç´°çš„ä»£ç¢¼ä¿®æ”¹è¨˜éŒ„
  - é‡æ–°å•Ÿç”¨çš„æ™‚æ©Ÿèˆ‡æ¢ä»¶
  - ç›£æ§æŒ‡æ¨™èˆ‡æ¸¬è©¦æ–¹æ³•

## [v10.3.1] - 2025-07-30

### Fixed
- **ğŸ¯ åŸºæ–¼ç¬¬ä¸€æ€§åŸå‰‡ä¿®å¾©å­¸ç«¥åç¨±è­˜åˆ¥å•é¡Œ**: è§£æ±ºèª²ç¨‹å‰µå»ºæ™‚å­¸ç«¥åç¨±ä¸Ÿå¤±çš„æ ¹æœ¬åŸå› 
  - **å•é¡Œåˆ†æ**: 
    - è¼¸å…¥ã€Œå°ç¾å¾Œå¤©æ™šä¸Šå…­é»åŠé‹¼ç´èª²ã€å›è¦†æ²’æœ‰é¡¯ç¤ºå­¸ç«¥åç¨±
    - èª²ç¨‹åç¨±å’Œæ™‚é–“æ­£ç¢ºæå–ï¼Œå”¯ç¨å­¸ç«¥åç¨±ç¼ºå¤±
  - **ç¬¬ä¸€æ€§åŸå‰‡æ·±åº¦åˆ†æ**:
    - **è¡¨é¢å•é¡Œ**: å­¸ç«¥åç¨±æœªé¡¯ç¤ºåœ¨å›è¦†ä¸­
    - **æ ¹æœ¬åŸå› **: `SemanticService.extractChildName` æ­£å‰‡è¡¨é”å¼éæ–¼åš´æ ¼ + å­—æ®µæ˜ å°„ç¼ºå¤±
  - **é›™é‡ä¿®å¾©**:
    1. **ä¿®å¾©æ­£å‰‡è¡¨é”å¼**: æ”¯æŒã€Œå°ç¾å¾Œå¤©ã€æ¨¡å¼ï¼Œä½¿ç”¨æ­£å‘å…ˆè¡Œæ–·è¨€ `(?=å¾Œå¤©|æ˜å¤©|...)`
    2. **ä¿®å¾©å­—æ®µæ˜ å°„**: ç•¶ `extractChildName` å¤±æ•—æ™‚ï¼Œå°‡ OpenAI è­˜åˆ¥çš„ `entities.student` æ˜ å°„åˆ° `child_name`
  - **æŠ€è¡“å¯¦ç¾**: `src/services/semanticService.js:596,536-540,553-557`
  - **å½±éŸ¿**: å¾¹åº•è§£æ±ºä¸­è‹±æ–‡å­¸ç«¥åç¨±è­˜åˆ¥å•é¡Œï¼Œæ”¯æŒæ›´è‡ªç„¶çš„èªè¨€è¼¸å…¥æ¨¡å¼

## [v10.3.0] - 2025-07-30

### Added
- **ğŸ“¸ èª²ç¨‹å…§å®¹æ¨¡çµ„ (Course Content Module)**: å®Œæ•´å¯¦ç¾å®¶é•·è¨˜éŒ„èª²ç¨‹å…§å®¹ã€ä½œæ¥­å’Œç…§ç‰‡åŠŸèƒ½
  - **æ ¸å¿ƒåŠŸèƒ½**: 
    - æ”¯æŒæ–‡å­—è¨˜éŒ„èª²ç¨‹å…§å®¹å’Œä½œæ¥­æé†’
    - ç…§ç‰‡ä¸Šå‚³èˆ‡èª²ç¨‹é—œè¯
    - Quick ReplyæŒ‰éˆ•é¸æ“‡èª²ç¨‹ï¼ˆåŒ…å«å­¸ç”Ÿè§’è‰²ä¿¡æ¯å¦‚"å°æ˜çš„æ•¸å­¸èª²"ï¼‰
    - 30ç§’è¶…æ™‚è‡ªå‹•æ¸…ç†æ©Ÿåˆ¶
  - **ç”¨æˆ¶æµç¨‹**:
    - æ–¹å¼1: ç”¨æˆ¶ç™¼é€èª²ç¨‹æ–‡å­— â†’ ç³»çµ±è¨˜éŒ„ â†’ è©¢å•æ˜¯å¦æœ‰ç…§ç‰‡ â†’ Quick Replyé¸æ“‡
    - æ–¹å¼2: ç”¨æˆ¶ä¸Šå‚³ç…§ç‰‡ â†’ ç³»çµ±ç”Ÿæˆèª²ç¨‹æŒ‰éˆ• â†’ ç”¨æˆ¶é¸æ“‡èª²ç¨‹ â†’ è‡ªå‹•ä¿å­˜
  - **æŠ€è¡“å¯¦ç¾**:
    - `SemanticService`: æ–°å¢èª²ç¨‹å…§å®¹èªç¾©è­˜åˆ¥ï¼ˆrecord_lesson_content, record_homework, upload_class_photoï¼‰
    - `TaskService`: å®Œæ•´çš„èª²ç¨‹å…§å®¹æ¥­å‹™é‚è¼¯è™•ç†
    - `DataService`: èª²ç¨‹å…§å®¹CRUDæ“ä½œå’Œæ•¸æ“šæ¨¡å‹æ“´å±•
    - `LineController`: Quick ReplyæŒ‰éˆ•éŸ¿æ‡‰å’Œåœ–ç‰‡è™•ç†æµç¨‹
    - `LineService`: Quick Replyæ¶ˆæ¯æ ¼å¼å®Œæ•´æ”¯æ´
  - **ç¬¬ä¸€æ€§åŸå‰‡è¨­è¨ˆ**:
    - ç°¡åŒ–pendingç‹€æ…‹ç®¡ç†ï¼Œç§»é™¤è¤‡é›œçš„æ··åˆå…§å®¹è™•ç†
    - ä½¿ç”¨Occam's razoråŸå‰‡ï¼Œå…§å®¹ä¸Ÿå¤±æ²’é—œä¿‚ï¼Œé™ä½è¤‡é›œåº¦
    - 5åˆ†é˜èª²ç¨‹æ•¸æ“šç·©å­˜ï¼Œæå‡Quick ReplyæŒ‰éˆ•ç”Ÿæˆæ€§èƒ½
  - **å®Œæ•´æµç¨‹**: æ–‡å­—/ç…§ç‰‡è¼¸å…¥ â†’ èªç¾©è­˜åˆ¥ â†’ ä»»å‹™åŸ·è¡Œ â†’ æ•¸æ“šå­˜å„² â†’ ç”¨æˆ¶åé¥‹

## [v10.2.15] - 2025-07-30

### Fixed  
- **ğŸ¯ åŸºæ–¼ç¬¬ä¸€æ€§åŸå‰‡ä¿®å¾©é‡è¤‡èª²ç¨‹æ¨¡æ¿å•é¡Œ**: é‡æ–°å®šç¾©é‡è¤‡å‰µå»ºèªç¾©ï¼Œå¾"æ‹’çµ•é‡è¤‡"æ”¹ç‚º"å‰µå»ºæˆ–ç²å–"
  - **ç¬¬ä¸€æ€§åŸå‰‡**: é‡è¤‡èª²ç¨‹æ¨¡æ¿æ˜¯å”¯ä¸€èªç¾©å¯¦é«”ï¼Œç›¸åŒæ¨¡æ¿æœ¬è³ªä¸Šæ˜¯åŒä¸€å€‹å¯¦é«”
  - **å•é¡Œ**: å°å…‰é­”è¡“èª²æ¯å€‹æ—¥æœŸé¡¯ç¤ºå…©æ¬¡ï¼Œå› ç‚ºè³‡æ–™åº«å­˜åœ¨2å€‹ç›¸åŒæ¨¡æ¿
  - **æ ¹æœ¬åŸå› **: ç³»çµ±å…è¨±å‰µå»ºé‡è¤‡çš„èªç¾©å¯¦é«”ï¼Œé•åå”¯ä¸€æ€§åŸå‰‡
  - **èªç¾©é‡æ–°å®šç¾©**: 
    - **èˆŠèªç¾©**: ç”¨æˆ¶é‡è¤‡è¼¸å…¥ â†’ ç³»çµ±æ‹’çµ• â†’ ç”¨æˆ¶å›°æƒ‘
    - **æ–°èªç¾©**: ç”¨æˆ¶é‡è¤‡è¼¸å…¥ â†’ ç³»çµ±ç¢ºèªç¾æœ‰ â†’ ç”¨æˆ¶å®‰å¿ƒ
  - **ç¬¬ä¸€æ€§åŸå‰‡ä¿®å¾©**:
    - å¯¦ç¾"å‰µå»ºæˆ–ç²å–"èªç¾©è€Œé"æ‹’çµ•é‡è¤‡"
    - é‡è¤‡è¼¸å…¥æ™‚è¿”å›æˆåŠŸç¢ºèªè€ŒééŒ¯èª¤
    - ä¿æŒé‡è¤‡èª²ç¨‹æ¨¡æ¿çš„å”¯ä¸€æ€§ç´„æŸ
    - ç”¨æˆ¶é«”é©—æ›´è‡ªç„¶ï¼ˆä¸æœƒçœ‹åˆ°éŒ¯èª¤æ¶ˆæ¯ï¼‰
  - **æŠ€è¡“å¯¦ç¾**: `CourseManagementScenarioTemplate.createRecurringEntity:566-603`
  - **å½±éŸ¿**: å¾¹åº•è§£æ±ºèª²è¡¨é‡è¤‡é¡¯ç¤ºï¼Œæå‡ç”¨æˆ¶é«”é©—ï¼Œç¬¦åˆç¬¬ä¸€æ€§åŸå‰‡

## [v10.2.14] - 2025-07-30

### Refactored  
- **ğŸ¯ å­¸ç«¥åç¨±è­˜åˆ¥ç³»çµ±é‡æ–°è¨­è¨ˆ**: åŸºæ–¼ç¬¬ä¸€æ€§åŸå‰‡å¾¹åº•é‡æ§‹ extractChildNameï¼Œå¤§å¹…æå‡æ³›ç”¨æ€§å’Œå®¹éŒ¯æ€§
  - **å•é¡Œ**: èˆŠæ­£å‰‡è¡¨é”å¼åƒµåŒ–ï¼Œè¦æ±‚å­¸ç«¥åç¨±åœ¨å¥é¦–ä¸”å¾Œè·Ÿé å®šç¾©è©å½™åˆ—è¡¨
  - **ç¬¬ä¸€æ€§åŸå‰‡**: å­¸ç«¥åç¨±æ˜¯ç¨ç«‹èªç¾©å¯¦é«”ï¼Œæ‡‰å¯åœ¨ä»»ä½•ä½ç½®ã€ä»»ä½•ä¸Šä¸‹æ–‡ä¸­è¢«è­˜åˆ¥
  - **é‡æ–°è¨­è¨ˆ**:
    - **å¤šç­–ç•¥åŒ¹é…**: å¥é¦–ç­–ç•¥ + å¥ä¸­ç­–ç•¥ï¼Œæ¶µè“‹æ›´å¤šè‡ªç„¶è¡¨é”
    - **æ’é™¤æ³•é©—è­‰**: ä½¿ç”¨æ’é™¤è©å½™åˆ—è¡¨è€ŒéåŒ…å«åˆ—è¡¨ï¼Œæ›´åŠ éˆæ´»
    - **ä½ç½®ç„¡é—œ**: æ”¯æŒä»»æ„ä½ç½®çš„å­¸ç«¥åç¨±è­˜åˆ¥
    - **ä¸Šä¸‹æ–‡æ™ºèƒ½**: æ”¯æŒã€ŒæŸ¥è©¢å°ç¾ã€ã€Œå°ç¾æ€éº¼æ¨£ã€ã€Œå°ç¾çš„å®‰æ’ã€ç­‰è‡ªç„¶è¡¨é”
  - **ä¸‰å±¤ Fallback ç­–ç•¥**:
    - **ä¸»è¦ç­–ç•¥**: extractChildName å¤šç­–ç•¥åŒ¹é…ï¼ˆå¥é¦–+å¥ä¸­ï¼‰
    - **Fallback 1**: OpenAIèª¤è­˜åˆ¥ç³¾æ­£ï¼ˆå°‡éŒ¯èª¤çš„course_nameç³¾æ­£ç‚ºå­¸ç«¥åç¨±ï¼‰
    - **Fallback 2**: æ­£å‰‡è¡¨é”å¼å…œåº•ï¼ˆä¿æŒå‘ä¸‹å…¼å®¹ï¼‰
  - **æ”¯æŒçš„æ–°æ ¼å¼**:
    - å¥é¦–: ã€Œå°ç¾èª²è¡¨ã€ã€Œæ˜æ˜å®‰æ’ã€ã€Œå¤§å¯¶æ™‚é–“ã€
    - å¥ä¸­: ã€ŒæŸ¥è©¢å°ç¾èª²è¡¨ã€ã€Œçœ‹çœ‹æ˜æ˜æ€éº¼æ¨£ã€ã€Œæª¢æŸ¥å¤§å¯¶ç‹€æ³ã€  
    - è‡ªç„¶èªè¨€: ã€Œå°ç¾çš„èª²ç¨‹ã€ã€Œå°ç¾æœ‰ä»€éº¼èª²ã€
  - **æŠ€è¡“å„ªå‹¢**:
    - **å®¹éŒ¯æ€§å¼·**: å¤šå±¤ç­–ç•¥ç¢ºä¿ä¸æœƒéºæ¼å­¸ç«¥åç¨±
    - **æ™ºèƒ½ç³¾éŒ¯**: èƒ½ç³¾æ­£OpenAIçš„å¸¸è¦‹èª¤è­˜åˆ¥
    - **ç¶­è­·æˆæœ¬ä½**: ç„¡éœ€æ‰‹å‹•æ·»åŠ è©å½™åˆ°ç¡¬ç·¨ç¢¼åˆ—è¡¨
    - **æ“´å±•æ€§å¼·**: æ”¯æŒæœªä¾†çš„æ–°è¡¨é”æ–¹å¼
    - **èª¿è©¦å‹å¥½**: æ¯å€‹ç­–ç•¥éƒ½æœ‰æ˜ç¢ºçš„æ—¥èªŒè¼¸å‡º

---

## [v10.2.13] - 2025-07-30

### Added
- **ğŸ¯ ç¨ç«‹å­¸ç«¥èª²è¡¨æŸ¥è©¢åŠŸèƒ½**: åŸºæ–¼ç¬¬ä¸€æ€§åŸå‰‡å¯¦ç¾æŒ‰å­¸ç«¥åç¨±éæ¿¾èª²è¡¨æŸ¥è©¢
  - **åŠŸèƒ½**: æ”¯æŒã€ŒæŸ¥è©¢å°ç¾èª²è¡¨ã€ç­‰è‡ªç„¶èªè¨€ï¼Œåªé¡¯ç¤ºæŒ‡å®šå­¸ç«¥çš„èª²ç¨‹
  - **å¯¦ç¾åŸç†**:
    - TaskService._calculateDateRange: å¾entitiesä¸­æå–child_nameä¸¦å‚³éçµ¦æŸ¥è©¢é¸é …
    - CourseManagementScenarioTemplate.queryEntities: æ·»åŠ child_nameéæ¿¾æ¢ä»¶åˆ°åŸºç¤æŸ¥è©¢
    - é‡è¤‡èª²ç¨‹å¯¦ä¾‹é›™é‡éæ¿¾: æ¨¡æ¿éæ¿¾ + å¯¦ä¾‹ç”Ÿæˆå¾ŒäºŒæ¬¡éæ¿¾ç¢ºä¿æº–ç¢ºæ€§
  - **ç¬¬ä¸€æ€§åŸå‰‡**: å­¸ç«¥æ˜¯èª²ç¨‹çš„å±¬æ€§ç¶­åº¦ï¼Œæ‡‰ä½œç‚ºç¨ç«‹çš„éæ¿¾æ¢ä»¶è™•ç†
  - **å½±éŸ¿ç¯„åœ**: 
    - ä¸€èˆ¬èª²ç¨‹æŸ¥è©¢: æ”¯æŒchild_nameéæ¿¾
    - é‡è¤‡èª²ç¨‹æŸ¥è©¢: æ¨¡æ¿å’Œå¯¦ä¾‹éƒ½æ”¯æŒchild_nameéæ¿¾
    - çµ±è¨ˆä¿¡æ¯: åŒ…å«child_nameéæ¿¾ç‹€æ…‹
  - **ä½¿ç”¨ç¤ºä¾‹**: 
    - ã€ŒæŸ¥è©¢å°ç¾èª²è¡¨ã€â†’ åªé¡¯ç¤ºå°ç¾çš„æ‰€æœ‰èª²ç¨‹
    - ã€Œå°æ˜ä¸‹é€±èª²è¡¨ã€â†’ åªé¡¯ç¤ºå°æ˜ä¸‹é€±çš„èª²ç¨‹
    - ã€Œèª²è¡¨ã€â†’ é¡¯ç¤ºæ‰€æœ‰å­¸ç«¥èª²ç¨‹ï¼ˆä¿æŒå‘å¾Œå…¼å®¹ï¼‰

---

## [v10.2.12] - 2025-07-30

### Fixed
- **ğŸš¨ é‡è¤‡èª²ç¨‹æŸ¥è©¢é‚è¼¯æ ¹æœ¬ä¿®å¾©**: åŸºæ–¼ç¬¬ä¸€æ€§åŸå‰‡ä¿®å¾©æŸ¥è©¢èª²è¡¨æ™‚è·³éæ­£ç¢ºæ—¥æœŸçš„å•é¡Œ
  - **å•é¡Œ**: æŸ¥è©¢èª²è¡¨æ™‚ï¼Œé­”è¡“èª²ç¨‹ï¼ˆæ¯é€±å…­ï¼‰ç¬¬ä¸€å ‚é¡¯ç¤º8/9è€Œé8/2
  - **æ ¹æœ¬å•é¡Œåˆ†æ**:
    - 8/2æ˜¯é€±å…­(6)ï¼Œ8/3æ˜¯é€±æ—¥(0)ï¼Œ8/9æ˜¯é€±å…­(6)
    - é‡è¤‡èª²ç¨‹çš„ start_date è¢«éŒ¯èª¤è¨­ç½®ç‚º8/3ï¼ˆé€±æ—¥ï¼‰ï¼Œä½†æ¨¡å¼æ˜¯æ¯é€±å…­
    - RecurringCourseCalculator æŸ¥è©¢æ™‚å¾ `Math.max(start, courseStartDate)` é–‹å§‹
    - é€™å°è‡´æŸ¥è©¢è¢«éŒ¯èª¤çš„ courseStartDate é™åˆ¶ï¼Œè·³éäº†æŸ¥è©¢ç¯„åœå…§çš„æ­£ç¢ºå¯¦ä¾‹
  - **ä¿®å¾©å…§å®¹**:
    - **TimeService.parseDateOffset**: ä¿®æ­£æ¢ä»¶ç‚º `offset < 0`ï¼Œå…è¨±ä»Šå¤©æ˜¯ç›®æ¨™æ—¥
    - **RecurringCourseCalculator.calculateFutureOccurrences**: æŸ¥è©¢å¾æŸ¥è©¢èµ·å§‹æ—¥æœŸé–‹å§‹ï¼Œä¸å—éŒ¯èª¤ start_date å½±éŸ¿
  - **ä¿®å¾©æ•ˆæœ**: 
    - èˆŠé‚è¼¯: æŸ¥è©¢èª²è¡¨ â†’ é­”è¡“èª²ç¨‹ç¬¬ä¸€å ‚8/9ï¼ˆè¢«éŒ¯èª¤start_dateé™åˆ¶ï¼‰
    - æ–°é‚è¼¯: æŸ¥è©¢èª²è¡¨ â†’ é­”è¡“èª²ç¨‹ç¬¬ä¸€å ‚8/2ï¼ˆæŸ¥è©¢ç¯„åœå…§çš„æ­£ç¢ºå¯¦ä¾‹ï¼‰
  - **ç¬¬ä¸€æ€§åŸå‰‡**: æŸ¥è©¢æ‡‰è©²é¡¯ç¤ºæŸ¥è©¢ç¯„åœå…§æ‰€æœ‰ç¬¦åˆé‡è¤‡è¦å‰‡çš„å¯¦ä¾‹ï¼Œä¸å—å­˜å„²çš„ start_date éŒ¯èª¤å½±éŸ¿
  - **å½±éŸ¿ç¯„åœ**: æ‰€æœ‰é‡è¤‡èª²ç¨‹çš„æŸ¥è©¢å’Œé¡¯ç¤º

---

## [v10.2.11] - 2025-07-29

### Fixed
- **ğŸš¨ é‡è¤‡èª²ç¨‹æ¨¡å¼æå–æ ¹æœ¬ä¿®å¾©**: åŸºæ–¼ç¬¬ä¸€æ€§åŸå‰‡å¾¹åº•ä¿®å¾©é‡è¤‡èª²ç¨‹æ¨¡å¼æå–å’Œé¡¯ç¤ºçš„å­¸ç«¥ä¿¡æ¯æ±¡æŸ“å•é¡Œ
  - **å•é¡Œ**: "ğŸ“š èª²ç¨‹ï¼šé­”è¡“ (æ¯é€±å…­å°å…‰ä¸‹åˆå…­ é‡è¤‡)" - å­¸ç«¥ä¿¡æ¯æ±¡æŸ“é‡è¤‡æ¨¡å¼ï¼Œé•åç¬¬ä¸€æ€§åŸå‰‡
  - **æ ¹æœ¬å•é¡Œ**: 
    - èªç¾©æå–: recurrence_pattern åŒ…å«å­¸ç«¥ä¿¡æ¯ "æ¯é€±å…­å°å…‰ä¸‹åˆå…­"
    - é¡¯ç¤ºæ ¼å¼: formatRecurrenceDescription æ·»åŠ  "é‡è¤‡" å¾Œç¶´é€ æˆå†—é¤˜
  - **ä¿®å¾©å…§å®¹**:
    - **SemanticService.buildEntityResult**: ä¿®å¾©é€±é‡è¤‡æ¨¡å¼æå–é‚è¼¯ï¼Œåªæå–ç´”æ·¨çš„ "æ¯é€±X" æ ¼å¼
    - **CourseManagementScenarioTemplate**: æ–°å¢ getRecurrenceLabel æ–¹æ³•ï¼Œçµ±ä¸€ä½¿ç”¨ RecurringCourseCalculator æ ¼å¼
    - **çµ±ä¸€é¡¯ç¤ºæ ¼å¼**: æ‰€æœ‰é‡è¤‡èª²ç¨‹å›è¦†æ”¹ç‚º "(æ¯é€±å…­)" æ ¼å¼ï¼Œèˆ‡æŸ¥è©¢é¡¯ç¤ºä¸€è‡´
  - **ä¿®å¾©æ•ˆæœ**: 
    - èˆŠæ ¼å¼: "ğŸ“š èª²ç¨‹ï¼šé­”è¡“ (æ¯é€±å…­å°å…‰ä¸‹åˆå…­ é‡è¤‡)"
    - æ–°æ ¼å¼: "ğŸ“š èª²ç¨‹ï¼šé­”è¡“ (æ¯é€±å…­)"
  - **ç¬¬ä¸€æ€§åŸå‰‡**: é‡è¤‡æ¨¡å¼æ‡‰è©²ç´”æ·¨ç„¡æ±¡æŸ“ï¼Œèª²ç¨‹é¡¯ç¤ºæ ¼å¼æ‡‰è©²å…¨ç³»çµ±ä¸€è‡´
  - **å½±éŸ¿ç¯„åœ**: é‡è¤‡èª²ç¨‹å‰µå»ºã€ä¿®æ”¹ã€åœæ­¢å›è¦†ï¼Œç¢ºä¿èˆ‡æŸ¥è©¢é¡¯ç¤ºæ ¼å¼çµ±ä¸€

---

## [v10.2.10] - 2025-07-29

### Fixed
- **ğŸ¯ é‡è¤‡èª²ç¨‹æ¨™è¨˜æ ¼å¼çµ±ä¸€ä¿®å¾©**: åŸºæ–¼ç¬¬ä¸€æ€§åŸå‰‡å°‡æ‰€æœ‰é‡è¤‡èª²ç¨‹æ¨™è¨˜çµ±ä¸€ç‚º "(æ¯é€±X)" æ ¼å¼
  - **å•é¡Œ**: é‡è¤‡èª²ç¨‹æ¨™è¨˜é¡¯ç¤ºç‚º "(é€±äºŒ)" ç¼ºå°‘ "æ¯" å‰ç¶´ï¼Œä¸ç¬¦åˆç”¨æˆ¶èªçŸ¥
  - **ä¿®å¾©å…§å®¹**: 
    - RecurringCourseCalculator.getRecurrenceLabel: é€±é‡è¤‡èª²ç¨‹æ·»åŠ  "æ¯" å‰ç¶´
    - ä¿®å¾©æ•ˆæœ: "(é€±äºŒ)" â†’ "(æ¯é€±äºŒ)"
  - **ç¬¬ä¸€æ€§åŸå‰‡**: é‡è¤‡èª²ç¨‹æ¨™è¨˜æ‡‰æ˜ç¢ºè¡¨é”é‡è¤‡æ€§è³ªï¼Œ"æ¯é€±äºŒ" æ¯” "é€±äºŒ" æ›´æº–ç¢º
  - **å½±éŸ¿ç¯„åœ**: æ‰€æœ‰é‡è¤‡èª²ç¨‹çš„æŸ¥è©¢ã€å‰µå»ºã€ä¿®æ”¹ã€åœæ­¢ç­‰é¡¯ç¤ºå ´æ™¯

---

## [v10.2.9] - 2025-07-29

### Fixed
- **ğŸš¨ é‡è¤‡èª²ç¨‹å…¨å ´æ™¯å­¸ç«¥ä¿¡æ¯ç¼ºå¤±æ ¹æœ¬ä¿®å¾©**: åŸºæ–¼ç¬¬ä¸€æ€§åŸå‰‡å¾¹åº•ä¿®å¾©é‡è¤‡èª²ç¨‹æ‰€æœ‰æ“ä½œæµç¨‹ä¸­çš„å­¸ç«¥ä¿¡æ¯è™•ç†
  - **å•é¡Œ**: é‡è¤‡èª²ç¨‹çš„å‰µå»ºã€ä¿®æ”¹ã€åœæ­¢åŠŸèƒ½å®Œå…¨å¿½ç•¥å­¸ç«¥ä¿¡æ¯ï¼Œåš´é‡é•åç¬¬ä¸€æ€§åŸå‰‡
  - **å…¨é¢æª¢æŸ¥ç™¼ç¾çš„å•é¡Œ**:
    - âŒ å‰µå»ºé‡è¤‡èª²ç¨‹ï¼šå¯¦é«”æå–ã€æ•¸æ“šæ§‹å»ºã€å›è¦†æ¶ˆæ¯éƒ½ç¼ºå¤±å­¸ç«¥ä¿¡æ¯
    - âŒ ä¿®æ”¹é‡è¤‡èª²ç¨‹ï¼šmodifyRecurringEntity, modifyEntireRecurringSeries, modifySingleRecurringInstance éƒ½ç¼ºå¤±
    - âŒ åœæ­¢é‡è¤‡èª²ç¨‹ï¼šstopRecurringEntity å¯¦é«”æå–å’Œå›è¦†æ¶ˆæ¯éƒ½ç¼ºå¤±
    - âŒ å­—æ®µä¸ä¸€è‡´ï¼šåŒæ™‚ä½¿ç”¨ `student` å’Œ `child_name`ï¼Œé€ æˆæ··äº‚
  - **ä¿®å¾©å…§å®¹**:
    - **å‰µå»ºé‡è¤‡èª²ç¨‹**: createRecurringEntity + buildRecurringCourseData å®Œæ•´ä¿®å¾©
    - **ä¿®æ”¹é‡è¤‡èª²ç¨‹**: ä¸‰å€‹ä¿®æ”¹å‡½æ•¸å®Œæ•´ä¿®å¾©ï¼ŒåŒ…æ‹¬ä¾‹å¤–è¨˜éŒ„å‰µå»º
    - **åœæ­¢é‡è¤‡èª²ç¨‹**: stopRecurringEntity å®Œæ•´ä¿®å¾©
    - **å‘å¾Œå…¼å®¹**: çµ±ä¸€ä½¿ç”¨ `child_name`ï¼Œå…¼å®¹èˆŠçš„ `student` å­—æ®µ
    - **å‹•æ…‹æ ¼å¼**: æ‰€æœ‰æˆåŠŸå›è¦†æ”¹ç‚ºå‹•æ…‹æ ¼å¼ï¼ŒåŒ…å«å­¸ç«¥ä¿¡æ¯é¡¯ç¤º
  - **ç¬¬ä¸€æ€§åŸå‰‡**: é‡è¤‡èª²ç¨‹èˆ‡ä¸€èˆ¬èª²ç¨‹å¿…é ˆå…·æœ‰å®Œå…¨ä¸€è‡´çš„å­¸ç«¥ä¿¡æ¯è™•ç†é‚è¼¯
  - **ä¿®å¾©æ•ˆæœ**: 
    - å‰µå»º: `ğŸ‘¶ å­¸ç«¥: å°ç¾\nğŸ“š èª²ç¨‹ï¼šå°æç´èª² (æ¯é€±äºŒ)`
    - ä¿®æ”¹: `ğŸ‘¶ å­¸ç«¥: å°ç¾\nğŸ“š èª²ç¨‹ï¼šå°æç´èª² (æ¯é€±äºŒ)\nğŸ“ ä¿®æ”¹å…§å®¹ï¼šæ™‚é–“`
    - åœæ­¢: `ğŸ‘¶ å­¸ç«¥: å°ç¾\nğŸ“š èª²ç¨‹ï¼šå°æç´èª² (æ¯é€±äºŒ)\nğŸ“Š å½±éŸ¿çš„æœªä¾†èª²ç¨‹ï¼šç´„ 5 å ‚`

---

## [v10.2.7] - 2025-07-29

### Fixed
- **ğŸ¯ é‡è¤‡èª²ç¨‹é¡¯ç¤ºæ ¼å¼ä¿®å¾©**: åŸºæ–¼ç¬¬ä¸€æ€§åŸå‰‡ä¿®æ­£é‡è¤‡èª²ç¨‹æ¨™è¨˜ä½ç½®
  - **å•é¡Œ**: é‡è¤‡èª²ç¨‹æ¨™è¨˜ ğŸ”„ é¡¯ç¤ºåœ¨æ™‚é–“å¾Œé¢ï¼Œé•åç¬¬ä¸€æ€§åŸå‰‡
  - **èˆŠæ ¼å¼**: `ğŸ“š è¥¿ç­ç‰™èª\nğŸ•’ æ™‚é–“ï¼š08/05 2:00 PM ğŸ”„`
  - **æ–°æ ¼å¼**: `ğŸ“š è¥¿ç­ç‰™èª (æ¯é€±äºŒ)\nğŸ•’ æ™‚é–“ï¼š08/05 2:00 PM`
  - **ä¿®å¾©å…§å®¹**:
    - RecurringCourseCalculator.getRecurrenceLabel: å»æ‰ ğŸ”„ ç¬¦è™Ÿï¼Œè¿”å›ç´”æ–‡å­—æè¿°
    - CourseManagementScenarioTemplate.formatCourseDisplay: å°‡é‡è¤‡æ¨™è¨˜æ”¾åœ¨èª²ç¨‹åç¨±å¾Œçš„æ‹¬è™Ÿå…§
    - æ™‚é–“è¡Œä¿æŒç´”æ·¨ï¼Œä¸å«é‡è¤‡æ¨™è¨˜
  - **ç¬¬ä¸€æ€§åŸå‰‡**: é‡è¤‡ä¿¡æ¯å±¬æ–¼èª²ç¨‹æœ¬èº«ï¼Œæ‡‰èˆ‡èª²ç¨‹åç¨±ç·Šå¯†çµåˆè€Œéæ™‚é–“
  - **å½±éŸ¿ç¯„åœ**: æ‰€æœ‰é‡è¤‡èª²ç¨‹çš„æŸ¥è©¢å’Œé¡¯ç¤º

---

## [v10.2.6] - 2025-07-29

### Added
- **ğŸ“š æ–‡æª”æ¶æ§‹é‡æ§‹**: å¯¦æ–½æ¨¡çµ„åŒ–æ–‡æª”çµæ§‹ï¼Œæå‡é–‹ç™¼æ•ˆç‡å’Œç¶­è­·æ€§
  - **CLAUDE.md é‡æ§‹**: ç°¡åŒ–ç‚ºæ ¸å¿ƒç´„æŸå’Œå¿«é€Ÿå°èˆªï¼Œç§»é™¤å†—é•·å…§å®¹
  - **åˆ†æ•£å¼æ–‡æª”ç³»çµ±**: æŒ‰åŠŸèƒ½åŸŸåˆ†é›¢è©³ç´°æ–‡æª”
    - `docs/ARCHITECTURE.md` - ç³»çµ±æ¶æ§‹è¨­è¨ˆå’Œ Scenario Layer è©³è§£
    - `docs/DEVELOPMENT.md` - é–‹ç™¼æµç¨‹ã€ç·¨ç¢¼è¦ç¯„ã€API ä½¿ç”¨æŒ‡å—
    - `docs/DEPLOYMENT.md` - éƒ¨ç½²é…ç½®ã€é‹ç¶­ç›£æ§ã€æ•…éšœæ’é™¤
    - `docs/USER_FLOWS.md` - ç”¨æˆ¶æµç¨‹ã€è™•ç†é‚è¼¯ã€æ•ˆèƒ½çµ±è¨ˆ
  - **è‹±ä¸­æ–‡æª”å°æ‡‰**: åŒæ™‚æä¾›ä¸­è‹±æ–‡ç‰ˆæœ¬ï¼Œä¾¿æ–¼ä¸åŒé–‹ç™¼è€…ä½¿ç”¨
  - **å°èˆªå¼è¨­è¨ˆ**: æ ¹æ“šå•é¡Œé¡å‹å¿«é€Ÿå®šä½ç›¸é—œæ–‡æª”
  - **é—œæ³¨é»åˆ†é›¢**: æ¶æ§‹ã€é–‹ç™¼ã€éƒ¨ç½²ã€æ¥­å‹™é‚è¼¯æ¸…æ™°åˆ†é›¢

---

## [v10.2.5] - 2025-07-29

### Fixed
- **ğŸ¯ å­¸ç«¥ä¿¡æ¯é¡¯ç¤ºå…¨å ´æ™¯ä¿®å¾©**: åŸºæ–¼ç¬¬ä¸€æ€§åŸå‰‡çš„ç³»çµ±æ€§ä¿®å¾©ï¼Œç¢ºä¿æ‰€æœ‰åŠŸèƒ½å ´æ™¯çš„å­¸ç«¥ä¿¡æ¯é¡¯ç¤ºä¸€è‡´æ€§
  - **å…¨é¢æª¢æŸ¥ç™¼ç¾çš„å•é¡Œ**:
    - âœ… å‰µå»ºèª²ç¨‹å›è¦† - å·²æ­£ç¢º
    - âŒ æŸ¥è©¢èª²è¡¨å›è¦† - lineService.js ç¡¬ç·¨ç¢¼æ ¼å¼
    - âŒ ä¿®æ”¹èª²ç¨‹å›è¦† - lineController.js æœªæª¢æŸ¥ child_name
    - âŒ å–æ¶ˆèª²ç¨‹å›è¦† - lineController.js æœªæª¢æŸ¥ child_name
    - âŒ é‡è¤‡èª²ç¨‹å¯¦ä¾‹ - RecurringCourseCalculator å®Œå…¨éºæ¼ child_name
  - **è§£æ±ºæ–¹æ¡ˆ**:
    - ä¿®å¾©æŸ¥è©¢èª²è¡¨æ ¼å¼é‚è¼¯ï¼šå„ªå…ˆä½¿ç”¨ `course.display_text`
    - ä¿®å¾©ä¿®æ”¹èª²ç¨‹å›è¦†ï¼šæ·»åŠ å­¸ç«¥ä¿¡æ¯æª¢æŸ¥å’Œé¡¯ç¤º
    - ä¿®å¾©å–æ¶ˆèª²ç¨‹å›è¦†ï¼šæ·»åŠ å­¸ç«¥ä¿¡æ¯æª¢æŸ¥å’Œé¡¯ç¤º  
    - ä¿®å¾©é‡è¤‡èª²ç¨‹å¯¦ä¾‹ï¼šåœ¨ `calculateFutureOccurrences` ä¸­ä¿ç•™ `child_name`
  - **ç¬¬ä¸€æ€§åŸå‰‡**: æ‰€æœ‰èª²ç¨‹æ“ä½œå›è¦†å¿…é ˆä¸€è‡´åœ°é¡¯ç¤ºå­¸ç«¥ä¿¡æ¯
  - **å½±éŸ¿ç¯„åœ**: èª²ç¨‹å‰µå»ºã€æŸ¥è©¢ã€ä¿®æ”¹ã€å–æ¶ˆã€é‡è¤‡èª²ç¨‹ç­‰æ‰€æœ‰å ´æ™¯

---

## [v10.2.4] - 2025-07-29

### Fixed
- **ğŸ¯ æŸ¥è©¢èª²è¡¨é¡¯ç¤ºæ ¼å¼æ ¹æœ¬ä¿®å¾©**: å¾¹åº•è§£æ±ºæŸ¥è©¢èª²è¡¨æ™‚å­¸ç«¥ä¿¡æ¯ä¸é¡¯ç¤ºçš„å•é¡Œ
  - **å•é¡Œ**: é›–ç„¶æ•¸æ“šæ­£ç¢ºä¸” `display_text` åŒ…å«å­¸ç«¥ä¿¡æ¯ï¼Œä½†æœ€çµ‚ç”¨æˆ¶çœ‹åˆ°çš„èª²è¡¨æ²’æœ‰å­¸ç«¥ä¿¡æ¯
  - **æ ¹å› **: `lineService.js` ä¸­ `formatCourseResponse` ä½¿ç”¨ç¡¬ç·¨ç¢¼æ ¼å¼ï¼Œå¿½ç•¥äº†æ­£ç¢ºçš„ `display_text`
  - **è§£æ±ºæ–¹æ¡ˆ**: ä¿®æ”¹èª²è¡¨æ ¼å¼åŒ–é‚è¼¯ï¼Œå„ªå…ˆä½¿ç”¨ `course.display_text` è€Œä¸æ˜¯ç¡¬ç·¨ç¢¼æ ¼å¼
  - **ç¬¬ä¸€æ€§åŸå‰‡**: çµ±ä¸€ä½¿ç”¨ CourseManagementScenarioTemplate çš„æ¨™æº–æ ¼å¼åŒ–çµæœ
  - **ä¿®å¾©æ•ˆæœ**: ç¾åœ¨æŸ¥è©¢èª²è¡¨å°‡æ­£ç¢ºé¡¯ç¤º `ğŸ‘¶ å­¸ç«¥: å°æ˜\nğŸ“š è¶³çƒ\nğŸ•’ æ™‚é–“ï¼š07/31 10:30 AM`

---

## [v10.2.3] - 2025-07-29

### Fixed
- **ğŸ¯ æŸ¥è©¢èª²è¡¨å­¸ç«¥ä¿¡æ¯é¡¯ç¤ºä¿®å¾©**: ä¿®å¾©æŸ¥è©¢èª²è¡¨æ™‚å­¸ç«¥ä¿¡æ¯ä¸é¡¯ç¤ºçš„å•é¡Œ
  - **å•é¡Œ**: é›–ç„¶å‰µå»ºèª²ç¨‹æ™‚å­¸ç«¥ä¿¡æ¯é¡¯ç¤ºæ­£å¸¸ï¼Œä½†æŸ¥è©¢èª²è¡¨æ™‚å­¸ç«¥ä¿¡æ¯éºå¤±
  - **æ ¹å› **: `formatCourseForDisplay` æ–¹æ³•æœªä¿ç•™ `child_name` å­—æ®µï¼Œå°è‡´æŸ¥è©¢çµæœä¸­å­¸ç«¥ä¿¡æ¯ä¸Ÿå¤±
  - **è§£æ±ºæ–¹æ¡ˆ**: åœ¨ `formatCourseForDisplay` æ–¹æ³•ä¸­æ˜ç¢ºä¿ç•™ `child_name` å­—æ®µ
  - **ç¬¬ä¸€æ€§åŸå‰‡**: ç¢ºä¿æŸ¥è©¢å’Œå‰µå»ºåŠŸèƒ½çš„å­¸ç«¥ä¿¡æ¯é¡¯ç¤ºä¸€è‡´æ€§
  - **å½±éŸ¿ç¯„åœ**: æ‰€æœ‰æŸ¥è©¢æ“ä½œï¼ˆèª²è¡¨æŸ¥è©¢ã€é€±èª²è¡¨æŸ¥è©¢ã€æœˆèª²è¡¨æŸ¥è©¢ç­‰ï¼‰

---

## [v10.2.2] - 2025-07-29

### Fixed
- **ğŸ¯ å¤šå­å¥³åŠŸèƒ½é¡¯ç¤ºé‚è¼¯ä¿®å¾©**: ä¿®å¾©å­¸ç«¥ä¿¡æ¯ä¸é¡¯ç¤ºçš„å•é¡Œ
  - **å•é¡Œ**: é›–ç„¶æ•¸æ“šçµæ§‹å·²æ­£ç¢ºåˆ†é›¢ï¼Œä½†å‰µå»ºèª²ç¨‹æˆåŠŸå›è¦†ä¸­å­¸ç«¥ä¿¡æ¯æ²’æœ‰é¡¯ç¤º
  - **æ ¹å› **: lineController ä½¿ç”¨ç¡¬ç·¨ç¢¼é¡¯ç¤ºæ ¼å¼ï¼Œæœªæª¢æŸ¥ `child_name` å­—æ®µ
  - **è§£æ±ºæ–¹æ¡ˆ**: æ›´æ–° lineController é¡¯ç¤ºé‚è¼¯ï¼Œå­¸ç«¥ä¿¡æ¯å„ªå…ˆé¡¯ç¤º
  - **æ­£ç¢ºæ ¼å¼**:
    ```
    âœ… èª²ç¨‹å·²æˆåŠŸæ–°å¢ï¼
    
    ğŸ‘¶ å­¸ç«¥: å°æ˜
    ğŸ“š èª²ç¨‹ï¼šè¶³çƒèª²
    ğŸ•’ æ™‚é–“ï¼š07/31 10:30 AM
    ğŸ“… æ—¥æœŸï¼š2025-07-31
    ```
  - **ç¬¬ä¸€æ€§åŸå‰‡**: å­¸ç«¥ä¿¡æ¯æ¸…æ™°å¯è¦‹ï¼Œèª²ç¨‹åç¨±ä¿æŒç´”æ·¨

---

## [v10.2.1] - 2025-07-29

### Fixed
- **ğŸš¨ å¤šå­å¥³åŠŸèƒ½æ ¹æœ¬è¨­è¨ˆéŒ¯èª¤ä¿®å¾©**: ä¿®å¾©é•åç¬¬ä¸€æ€§åŸå‰‡çš„åš´é‡è¨­è¨ˆç¼ºé™·
  - **å•é¡Œ**: ä¹‹å‰éŒ¯èª¤åœ°å°‡å­å¥³åç¨±åµŒå…¥èª²ç¨‹åç¨±ï¼ˆå¦‚ã€Œå°æ˜è¶³çƒèª²ã€ï¼‰ï¼Œæ±¡æŸ“äº†èª²ç¨‹æœ¬è³ª
  - **è§£æ±ºæ–¹æ¡ˆ**: é‡æ–°è¨­è¨ˆç‚ºæ­£ç¢ºçš„æ•¸æ“šåˆ†é›¢æ¶æ§‹
    - èª²ç¨‹åç¨±ä¿æŒç´”æ·¨ï¼š`è¶³çƒèª²` (ä¸å«å­å¥³ä¿¡æ¯)
    - å­¸ç«¥ä¿¡æ¯å–®ç¨å­˜å„²ï¼š`child_name: "å°æ˜"`
    - æ­£ç¢ºé¡¯ç¤ºæ ¼å¼ï¼š`å­¸ç«¥: å°æ˜\nğŸ“š è¶³çƒèª²\nğŸ•’ æ™‚é–“ï¼š07/31 10:30 AM`
  - **æ¶æ§‹ä¿®å¾©**:
    - SemanticService: ç§»é™¤èª²ç¨‹åç¨±æ±¡æŸ“é‚è¼¯ï¼Œæ–°å¢ `child_name` å­—æ®µå‚³é
    - CourseManagementScenarioTemplate: é‡å¯«é¡¯ç¤ºé‚è¼¯ï¼Œå­¸ç«¥ä¿¡æ¯å„ªå…ˆå–®ç¨é¡¯ç¤º
    - æ•¸æ“šå­˜å„²: æ·»åŠ  `child_name` å­—æ®µï¼Œä¿æŒèª²ç¨‹åç¨±ç´”æ·¨æ€§
  - **æ¸¬è©¦æ›´æ–°**: é‡å¯«æ‰€æœ‰å–®å…ƒæ¸¬è©¦ï¼Œç¬¦åˆæ­£ç¢ºè¨­è¨ˆåŸå‰‡
  - **ç¬¬ä¸€æ€§åŸå‰‡**: èª²ç¨‹å°±æ˜¯èª²ç¨‹ï¼Œå­¸ç«¥å°±æ˜¯å­¸ç«¥ï¼Œæ•¸æ“šçµæ§‹æ¸…æ™°åˆ†é›¢

---

## [v10.2.0] - 2025-07-29

### Added
- **å¤šå­å¥³èª²ç¨‹ç®¡ç†ï¼ˆç²¾ç°¡ç‰ˆï¼‰**: æ¡ç”¨èªç¾©åµŒå…¥æ³•ï¼Œæ”¯æŒåœ¨è‡ªç„¶èªè¨€ä¸­åŒ…å«å­å¥³åç¨±
  - **è‡ªå‹•è­˜åˆ¥å­å¥³åç¨±**: æ”¯æŒã€Œå°æ˜ã€ã€ã€Œå°ç¾ã€ã€ã€Œå¿—å¼·ã€ç­‰ 2-3 å­—ä¸­æ–‡åç¨±æ ¼å¼
  - **æ™ºèƒ½é¡¯ç¤ºåˆ†é›¢**: èª²ç¨‹é¡¯ç¤ºæ™‚è‡ªå‹•åˆ†é›¢å­å¥³ä¿¡æ¯å’Œèª²ç¨‹åç¨±
    - æœ‰å­å¥³: `ğŸ‘¦ å°æ˜\nğŸ“š é‹¼ç´èª²\nğŸ•’ æ™‚é–“ï¼š07/25 2:00 PM`
    - ç„¡å­å¥³: `ğŸ•’ 07/28 9:00 AM - ğŸ“š æ•¸å­¸èª²`
  - **é›¶æ¶æ§‹æ”¹å‹•**: ä½¿ç”¨èªç¾©åµŒå…¥æ³•ï¼Œç„¡éœ€ä¿®æ”¹æ•¸æ“šçµæ§‹å’ŒAPIæ¥å£
  - **å®Œå…¨å‘å¾Œå…¼å®¹**: ç¾æœ‰èª²ç¨‹ç®¡ç†åŠŸèƒ½ä¿æŒä¸è®Š
  - **è‡ªç„¶èªè¨€æ”¯æŒ**: å¯¦ç¾ã€Œå°æ˜æ˜å¤©ä¸‹åˆå…©é»é‹¼ç´èª²ã€ç­‰è‡ªç„¶è¡¨é”
  - **ç²¾ç¢ºå¯¦é«”æå–**: åœ¨ SemanticService ä¸­æ–°å¢ `extractChildName()` æ–¹æ³•
  - **å„ªåŒ–é¡¯ç¤ºé‚è¼¯**: åœ¨ CourseManagementScenarioTemplate ä¸­æ–°å¢é¡¯ç¤ºåˆ†é›¢åŠŸèƒ½
  - **å®Œæ•´æ¸¬è©¦è¦†è“‹**: åŒ…å«å–®å…ƒæ¸¬è©¦ã€é›†æˆæ¸¬è©¦å’Œå‘å¾Œå…¼å®¹æ€§æ¸¬è©¦

---

## [v10.1.3] - 2025-07-29

### Fixed
- **æ™‚é–“ç¯„åœæŸ¥è©¢å®Œæ•´ä¿®å¾©**: å¾¹åº•è§£æ±ºé€±èª²è¡¨å’Œæœˆèª²è¡¨æŸ¥è©¢çš„æ‰€æœ‰å•é¡Œã€‚
  - **åŸå§‹æ–‡æœ¬ä¿ç•™**: å°‡ç”¨æˆ¶åŸå§‹è¼¸å…¥ `originalUserInput` å‚³éçµ¦ TaskServiceï¼Œé¿å…èªç¾©åˆ†æä¸Ÿå¤±æ™‚é–“ä¿¡æ¯
  - **å„ªå…ˆç´šæª¢æ¸¬é‚è¼¯**: `_calculateDateRange` æŒ‰å„ªå…ˆç´šæª¢æŸ¥ï¼š`originalUserInput` > `course_name` > `raw_text` > `timeInfo.raw`
  - **æ ¹å› å•é¡Œè§£æ±º**: OpenAI å°‡ã€Œä¸‹é€±èª²è¡¨ã€åˆ†è§£ç‚º course_name="èª²è¡¨" + timeInfo=nullï¼Œå°è‡´æ™‚é–“ä¿¡æ¯ä¸Ÿå¤±
  - **ğŸš¨ é—œéµå­—åŒ¹é…é †åºä¿®å¾©**: ä¿®å¾©ã€Œä¸‹ä¸‹é€±èª²è¡¨ã€è¢«éŒ¯èª¤è­˜åˆ¥ç‚ºã€Œä¸‹é€±ã€çš„å­—ç¬¦ä¸²åŒ…å«åŒ¹é…å•é¡Œï¼Œå°‡æœ€å…·é«”çš„æ¢ä»¶æ”¾åœ¨å‰é¢
  - **ğŸ†• æœˆæŸ¥è©¢åŠŸèƒ½**: æ–°å¢å®Œæ•´çš„æœˆæŸ¥è©¢æ”¯æŒï¼Œä¿®å¾©ã€Œæœ¬æœˆèª²è¡¨ã€éŒ¯èª¤è¿”å›8æœˆèª²ç¨‹çš„å•é¡Œ
    - æ”¯æŒã€Œæœ¬æœˆèª²è¡¨ã€â†’ è¿”å›ç•¶æœˆ1æ—¥åˆ°æœ€å¾Œä¸€å¤©
    - æ”¯æŒã€Œä¸‹æœˆèª²è¡¨ã€â†’ è¿”å›ä¸‹æœˆ1æ—¥åˆ°æœ€å¾Œä¸€å¤©  
    - æ”¯æŒã€Œä¸‹ä¸‹æœˆèª²è¡¨ã€â†’ è¿”å›ä¸‹ä¸‹æœˆå®Œæ•´ç¯„åœ
  - **TimeService å¢å¼·**: æ–°å¢ `getStartOfMonth` å’Œ `getEndOfMonth` æ–¹æ³•ï¼Œç¢ºä¿ç²¾ç¢ºçš„æœˆç¯„åœè¨ˆç®—

---

## [v10.1.2] - 2025-07-29

### Fixed  
- **ç”Ÿç”¢ç’°å¢ƒé—œéµéŒ¯èª¤ä¿®å¾©**: ä¿®å¾© TaskService ä¸­ç¼ºå¤±çš„ `_calculateDateRange` æ–¹æ³•å°è‡´çš„é‹è¡Œæ™‚éŒ¯èª¤ã€‚
  - **æ–¹æ³•å¯¦ç¾å®Œæˆ**: æ–°å¢å®Œæ•´çš„ `_calculateDateRange` æ–¹æ³•å¯¦ç¾ï¼Œæ”¯æŒç²¾ç¢ºçš„é€±ç¯„åœè¨ˆç®—
  - **æ™ºèƒ½æ™‚é–“ç¯„åœæª¢æ¸¬**: æ ¹æ“šç”¨æˆ¶è¼¸å…¥è‡ªå‹•è­˜åˆ¥ã€Œé€™é€±ã€ã€ã€Œä¸‹é€±ã€ã€ã€Œä¸‹ä¸‹é€±ã€ç­‰æ™‚é–“ç¯„åœæ„åœ–
  - **çµ±ä¸€æ™‚é–“è™•ç†**: ä½¿ç”¨ TimeService çš„æ¨™æº–æ–¹æ³•ç¢ºä¿æ™‚é–“è¨ˆç®—çš„ä¸€è‡´æ€§å’Œæº–ç¢ºæ€§
  - **ç”Ÿç”¢éƒ¨ç½²é©—è­‰**: è§£æ±º "'_calculateDateRange' is not a function" å’Œæ¨¡çµ„è¼‰å…¥éŒ¯èª¤
  - **èª¿è©¦å·¥å…·å¢å¼·**: æ–°å¢ Render æ—¥èªŒç›£æ§è…³æœ¬ï¼Œä¾¿æ–¼å¿«é€Ÿå®šä½å’Œè§£æ±ºç”Ÿç”¢å•é¡Œ

### Added
- **èª¿è©¦å·¥å…·é›†**: æ–°å¢å®Œæ•´çš„ Render å¹³å°èª¿è©¦å·¥å…·éˆ
  - `scripts/get-app-logs.sh`: æ‡‰ç”¨ç¨‹åºæ—¥èªŒå¿«é€Ÿç²å–è…³æœ¬
  - `scripts/render-events.sh`: æœå‹™äº‹ä»¶æŸ¥è©¢å·¥å…·
  - `scripts/test-render-log-endpoints.js`: API ç«¯é»æ¸¬è©¦å·¥å…·

---

## [v10.1.1] - 2025-07-29

### Fixed
- **é€±èª²è¡¨æŸ¥è©¢ç²¾æº–ä¿®å¾©**: ä¿®å¾©ã€Œä¸‹ä¸‹é€±èª²è¡¨ã€ã€ã€Œä¸‹é€±èª²è¡¨ã€ã€ã€Œé€™é€±èª²è¡¨ã€è¿”å›å¤šé€±è€ŒéæŒ‡å®šé€±çš„å•é¡Œã€‚
  - **TaskService é‚è¼¯ä¿®å¾©**: æ¢å¾© `_calculateDateRange` æ–¹æ³•èª¿ç”¨ï¼Œç¢ºä¿å‚³éæ­£ç¢ºæ—¥æœŸç¯„åœ
  - **TimeService å¢å¼·**: æ–°å¢ `getStartOfWeek` å’Œ `getEndOfWeek` æ–¹æ³•ï¼Œæ­£ç¢ºè¨ˆç®—é€±çš„é–‹å§‹/çµæŸæ—¥æœŸ
  - **ç¯„åœæ§åˆ¶å„ªåŒ–**: ç”¨æˆ¶æŸ¥è©¢ç‰¹å®šé€±æ™‚åªè¿”å›è©²é€±èª²ç¨‹ï¼Œé¿å…é¡¯ç¤º4é€±å…§å®¹
  - è§£æ±ºèª²è¡¨æŸ¥è©¢è¿”å›éå¤šç„¡é—œèª²ç¨‹çš„ç”¨æˆ¶é«”é©—å•é¡Œ

---

## [v10.1.0] - 2025-07-29

### Added
- **Render æ—¥èªŒç²å–å·¥å…·**: æ–°å¢æœ¬åœ°å‘½ä»¤è¡Œå·¥å…·ï¼Œç„¡éœ€ç™»å…¥ Dashboard å³å¯æŸ¥çœ‹æœå‹™äº‹ä»¶ã€‚
  - æ”¯æ´äº‹ä»¶éæ¿¾ï¼šå¯æŒ‰é—œéµè©éæ¿¾éƒ¨ç½²ã€å»ºç½®ç‹€æ…‹
  - éˆæ´»æ•¸é‡æ§åˆ¶ï¼šå¯æŒ‡å®šç²å–çš„äº‹ä»¶æ•¸é‡
  - å‹å¥½æ ¼å¼åŒ–ï¼šè‡ªå‹•æ ¼å¼åŒ–æ™‚é–“æˆ³å’Œäº‹ä»¶é¡å‹
  - å‘½ä»¤ï¼š`npm run logs [--limit N] [--filter keyword]`

---

## [v10.0.5] - 2025-07-29

### Fixed  
- **é‡è¤‡èª²ç¨‹å‰µå»ºæ ¹æœ¬ä¿®å¾©**: è§£æ±ºé‡è¤‡èª²ç¨‹ç„¡æ³•æ­£ç¢ºå‰µå»ºçš„æ ¸å¿ƒå•é¡Œã€‚
  - **èªç¾©åˆ†æä¿®å¾©**: ä¿ç•™å®Œæ•´é‡è¤‡æ¨¡å¼ä¿¡æ¯ï¼ˆã€Œæ¯é€±äºŒã€è€Œéç°¡åŒ–ç‚ºã€Œæ¯é€±ã€ï¼‰
  - **æ•¸æ“šçµæ§‹ä¿®å¾©**: æ·»åŠ å¿…è¦çš„å¸ƒæ—æ¬„ä½å’Œ `recurrence_details`
  - **æ¨¡å¼è§£æå¢å¼·**: æ­£ç¢ºæå–æ˜ŸæœŸå¹¾ã€æ™‚é–“ã€æœˆæ—¥ä¿¡æ¯
  - ä¿®å¾©ã€Œæ¯é€±äºŒä¸‹åˆå…©é»è¥¿ç­ç‰™èªèª²ã€ç„¡æ³•å‰µå»ºçš„å•é¡Œ

---

## [v10.0.4] - 2025-07-29

### Fixed
- **é‡è¤‡èª²ç¨‹å›è¦†ä¿®å¾©**: æ·»åŠ ç¼ºå¤±çš„é‡è¤‡èª²ç¨‹æ„åœ–è™•ç†ï¼Œè§£æ±ºã€Œæ­£åœ¨è™•ç†ä¸­ã€fallback å•é¡Œã€‚
  - æ·»åŠ  `create_recurring_course` caseï¼šæ­£ç¢ºé¡¯ç¤ºé‡è¤‡èª²ç¨‹å‰µå»ºæˆåŠŸè¨Šæ¯
  - æ·»åŠ  `modify_recurring_course` caseï¼šè™•ç†é‡è¤‡èª²ç¨‹ä¿®æ”¹å›è¦†
  - æ·»åŠ  `stop_recurring_course` caseï¼šè™•ç†é‡è¤‡èª²ç¨‹åœæ­¢å›è¦†

---

## [v10.0.3] - 2025-07-29

### Fixed
- **æ¨¡çµ„å°å…¥ä¿®å¾©**: ä¿®å¾© `CourseManagementScenarioTemplate.js` ä¸­çš„å¤§å°å¯«æ•æ„Ÿå•é¡Œï¼Œè§£æ±ºæŸ¥è©¢èª²è¡¨åŠŸèƒ½éŒ¯èª¤ã€‚

### Added  
- **è¦å‰‡å¼•æ“æ³›åŒ–**: å¯¦æ–½äºŒé€²åˆ¶åˆ¤æ–·é‚è¼¯ï¼Œæå‡è¦å‰‡è¦†è“‹ç‡è‡³75%ï¼Œå¹³å‡å»¶é²é™è‡³82.5msã€‚
  - ç°¡åŒ–ä¿¡å¿ƒåº¦åˆ¤æ–·ï¼š`confidence > 0` å°±ç”¨è¦å‰‡å¼•æ“
  - æ“´å±•é‡è¤‡èª²ç¨‹è¦å‰‡ï¼šç›´æ¥æ”¯æ´é€±ä¸€åˆ°é€±æ—¥åŒ¹é…
  - å¢å¼·æŸ¥è©¢æ„åœ–è¦å‰‡ï¼šæ·»åŠ æ›´å¤šå¸¸è¦‹è¡¨é”æ–¹å¼

---

## [v10.0.2] - 2025-07-29

### Fixed
- **é‡è¤‡èª²ç¨‹æ„åœ–è­˜åˆ¥ä¿®å¾©**: ä¿®å¾© "æ¯å‘¨äºŒä¸‹åˆå…©é»ä¸Šæ•¸å­¸èª²" ç„¡æ³•è§¸ç™¼é‡è¤‡èª²ç¨‹åŠŸèƒ½çš„å•é¡Œã€‚
  - æ”¯æ´ç°¡é«”ä¸­æ–‡å­—ç¬¦ï¼šæ–°å¢ "æ¯å‘¨"ã€"å‘¨ä¸€"ã€"å‘¨äºŒ" ç­‰å­—ç¬¦è®Šé«”
  - æ›´æ–°æ„åœ–è¦å‰‡é…ç½®æ”¯æ´ç¹é«”èˆ‡ç°¡é«”ä¸­æ–‡æ··ç”¨
  - ä¿®å¾©èªç¾©åˆ†æå™¨é‡è¤‡æ¨¡å¼è­˜åˆ¥é‚è¼¯

---

## [v10.0.1] - 2025-07-29

### Fixed
- **ç”Ÿç”¢ç’°å¢ƒä¿®å¾©**: ä¿®å¾©æ¨¡çµ„å°å…¥å¤§å°å¯«æ•æ„Ÿå•é¡Œï¼Œè§£æ±º Linux ä¼ºæœå™¨ä¸Š `RecurringCourseCalculator` æ¨¡çµ„æ‰¾ä¸åˆ°çš„éŒ¯èª¤ã€‚

---

## [v10.0.0] - 2025-07-29

### Added
- **é‡è¤‡èª²ç¨‹åŠŸèƒ½**: å…¨æ–°çš„é‡è¤‡èª²ç¨‹ç®¡ç†ç³»çµ±ï¼Œæ”¯æ´æ¯å¤©ã€æ¯é€±ã€æ¯æœˆé‡è¤‡èª²ç¨‹ã€‚
  - æ™ºèƒ½èµ·å§‹æ—¥æœŸåˆ¤æ–·ï¼šæ ¹æ“šç•¶å‰æ™‚é–“è‡ªå‹•é¿å…éæœŸèª²ç¨‹
  - å‹•æ…‹è¨ˆç®—æ¶æ§‹ï¼šæŸ¥è©¢æ™‚å³æ™‚è¨ˆç®—ï¼Œä¸é å…ˆå‰µå»ºèª²ç¨‹å¯¦ä¾‹
  - å®Œæ•´ç®¡ç†ä»‹é¢ï¼šå‰µå»ºã€ä¿®æ”¹ã€åœæ­¢é‡è¤‡èª²ç¨‹
  - å¸ƒæ—æ¬„ä½æ¨™è¨»ï¼šä½¿ç”¨ `daily_recurring`ã€`weekly_recurring`ã€`monthly_recurring` æ¨™è¨˜é‡è¤‡é¡å‹
  - ğŸ”„ æ¨™ç±¤é¡¯ç¤ºï¼šé‡è¤‡èª²ç¨‹åœ¨æŸ¥è©¢æ™‚è‡ªå‹•é¡¯ç¤ºé‡è¤‡æ¨™ç±¤

### Enhanced
- **èªç¾©åˆ†æå¢å¼·**: æ–°å¢é‡è¤‡èª²ç¨‹èªç¾©è­˜åˆ¥ï¼Œæ”¯æ´ã€Œæ¯é€±ä¸‰ã€ã€ã€Œæ¯å¤©ã€ã€ã€Œæ¯æœˆ15è™Ÿã€ç­‰è‡ªç„¶èªè¨€è¡¨é”ã€‚
- **æ„åœ–è¦å‰‡æ“´å±•**: æ–°å¢ `create_recurring_course`ã€`modify_recurring_course`ã€`stop_recurring_course` æ„åœ–ã€‚
- **æ™‚é–“æœå‹™æ“´å±•**: æ–°å¢æ™ºèƒ½èµ·å§‹æ—¥æœŸè¨ˆç®—æ–¹æ³• `calculateSmartStartDate`ã€‚
- **å‹•æ…‹è¡çªæª¢æ¸¬**: æ”¯æ´é‡è¤‡èª²ç¨‹çš„æ™‚é–“è¡çªæª¢æ¸¬ï¼Œè¨ˆç®—æœªä¾†4é€±æ™‚é–“é»ã€‚

### Technical
- **RecurringCourseCalculator**: æ–°å¢å‹•æ…‹èª²ç¨‹è¨ˆç®—å¼•æ“ï¼Œæ”¯æ´é«˜æ•ˆçš„é‡è¤‡èª²ç¨‹å¯¦ä¾‹ç”Ÿæˆã€‚
- **è³‡æ–™æ¨¡å‹æ“´å±•**: åœ¨ `courses` é›†åˆä¸­æ–°å¢é‡è¤‡èª²ç¨‹ç›¸é—œæ¬„ä½ã€‚
- **æ€§èƒ½å„ªåŒ–**: æ™ºèƒ½è¿­ä»£æ¬¡æ•¸æ§åˆ¶ï¼Œé¿å…ç„¡é™å¾ªç’°ï¼Œè¨ˆç®—æ•ˆç‡ < 100msã€‚
- **æ¶æ§‹ç›¸å®¹**: å®Œå…¨éµå¾ªä¸‰å±¤èªç¾©æ¶æ§‹ï¼Œä¸å½±éŸ¿ç¾æœ‰åŠŸèƒ½ã€‚

---

## [v9.3.0] - 2025-07-28

### Changed
- **èªç¾©åˆ†æå„ªåŒ–**: åœ¨å¤šè¼ªå°è©±ä¸­ï¼Œè‹¥ç”¨æˆ¶åƒ…è¼¸å…¥æ™‚é–“ï¼ˆå¦‚ã€Œæ˜å¤©æ—©ä¸Šåé»ã€ï¼‰ï¼Œç³»çµ±å°‡æ‹’çµ•è™•ç†ä¸¦å¼•å°ç”¨æˆ¶æä¾›å®Œæ•´èª²ç¨‹è³‡è¨Šï¼Œé¿å…èª¤åˆ¤ã€‚

---

## [v9.2.0] - 2025-07-26

### Changed
- **æ€§èƒ½å„ªåŒ–**: é¡¯è‘—æ¸›å°‘äº† `EntityService` å’Œ `TaskService` çš„æ—¥èªŒè¼¸å‡ºï¼Œä¸¦å„ªåŒ–äº†å…§éƒ¨é©—è­‰é‚è¼¯ï¼Œæå‡é‹è¡Œæ•ˆç‡ã€‚

---

## [v9.1.0] - 2025-07-26

### Fixed
- **é‡å¤§æ¶æ§‹ä¿®æ­£**: ä¿®æ­£äº†éƒ¨ç½²æ¨¡å¼ï¼Œç¢ºä¿æ¯å€‹æœå‹™å¯¦ä¾‹åªåŠ è¼‰å…¶å°æ‡‰çš„å–®ä¸€æ¥­å‹™å ´æ™¯ï¼ˆå¦‚èª²ç¨‹ç®¡ç†ï¼‰ï¼Œå¤§å¹…é™ä½äº†å…§å­˜ä½¿ç”¨ä¸¦å¯¦ç¾äº†çœŸæ­£çš„å¾®æœå‹™éš”é›¢ã€‚

---

## [v9.0.0] - 2025-07-26

### Added
- **æ ¸å¿ƒæ¶æ§‹å‡ç´š (Scenario Layer)**: å¼•å…¥äº†ä»¥æ¨¡æ¿ç‚ºåŸºç¤çš„ `Scenario Layer` æ¶æ§‹ï¼Œå°‡æ¥­å‹™é‚è¼¯å¾æ ¸å¿ƒæœå‹™ä¸­åˆ†é›¢ï¼Œä½¿ç³»çµ±èƒ½å¤ æ”¯æŒå¤šç¨®æ¥­å‹™å ´æ™¯ï¼ˆå¦‚èª²ç¨‹ã€é•·ç…§ã€ä¿éšªï¼‰ã€‚
- **é€šç”¨å¯¦é«”æœå‹™ (`EntityService`)**: æ–°å¢äº†é€šç”¨çš„æ•¸æ“šåº«æ“ä½œæœå‹™ï¼Œä»¥æ”¯æŒä¸åŒé¡å‹çš„æ¥­å‹™å¯¦é«”ã€‚
- **é…ç½®é©…å‹•é–‹ç™¼**: æ¥­å‹™è¦å‰‡ã€è¨Šæ¯æ¨¡æ¿ç­‰ç¾åœ¨ç”± YAML æ–‡ä»¶é…ç½®ï¼Œæé«˜äº†éˆæ´»æ€§å’Œå¯ç¶­è­·æ€§ã€‚

### Changed
- **TaskService é‡æ§‹**: `TaskService` è¢«é‡æ§‹ç‚ºä¸€å€‹ç´”ç²¹çš„å§”è¨—å±¤ï¼Œå°‡æ‰€æœ‰æ¥­å‹™é‚è¼¯è½‰ç™¼çµ¦å°æ‡‰çš„ `Scenario` æ¨¡æ¿è™•ç†ã€‚

---

## [v8.0.0] - 2025-07-26

### Added
- **æœƒè©±ä¸Šä¸‹æ–‡èˆ‡ç³¾éŒ¯**: å¼•å…¥äº†5åˆ†é˜éæœŸçš„æœƒè©±ä¸Šä¸‹æ–‡æ©Ÿåˆ¶ã€‚ç¾åœ¨å¯ä»¥è™•ç†ç”¨æˆ¶çš„ç³¾éŒ¯æ„åœ–ï¼Œä¾‹å¦‚åœ¨ã€Œæ‰¯éˆ´æ”¹æˆå››é»30ã€ä¹‹å¾Œï¼Œç”¨æˆ¶å¯ä»¥èªªã€Œä¸å°ï¼Œæ˜¯ä¸‹åˆã€ï¼Œç³»çµ±èƒ½ç†è§£ä¸¦æ­£ç¢ºä¿®æ”¹ã€‚

---

## [v7.2.0] - 2025-07-26

### Fixed
- **èªç¾©èˆ‡æ™‚é–“è§£æä¿®æ­£**:
  - å¢å¼·äº†å°ã€ŒAIæ•™å­¸ã€ç­‰è¤‡åˆè©èª²ç¨‹çš„è­˜åˆ¥èƒ½åŠ›ã€‚
  - ä¿®æ­£äº† OpenAI å›æ‡‰ä¸­åŒ…å« Markdown æ¨™è¨˜å°è‡´çš„ JSON è§£æå¤±æ•—å•é¡Œã€‚
  - ä¿®æ­£äº†ã€Œå››é»åŠã€è¢«éŒ¯èª¤è§£æç‚ºã€Œ4:00ã€çš„å•é¡Œã€‚
  - ä¿®æ­£äº†ã€Œæ™šä¸Šå…«é»ã€è¢«éŒ¯èª¤è§£æç‚ºä¸Šåˆ (AM) çš„å•é¡Œã€‚
- **å›è¦†å…§å®¹å¢å¼·**: åœ¨æ“ä½œæˆåŠŸå¾Œçš„å›è¦†ä¸­åŠ å…¥æ›´è©³ç´°çš„èª²ç¨‹è³‡è¨Šï¼Œæå‡ç”¨æˆ¶é«”é©—ã€‚

---

## [v7.1.0] - 2025-07-26

### Added
- **å®Œæ•´èª¿è©¦æ—¥èªŒç³»çµ±**: åœ¨é–‹ç™¼æ¨¡å¼ä¸‹ï¼Œå¯¦ç¾äº†å¾ç”¨æˆ¶è¼¸å…¥åˆ°æ•¸æ“šåº«æ“ä½œçš„å…¨éˆè·¯æ—¥èªŒè¿½è¹¤ï¼Œå¤§å¹…æå‡äº†é–‹ç™¼å’Œé™¤éŒ¯æ•ˆç‡ã€‚

---

## [v7.0.0] - 2025-07-25

### Added
- **å¼•å…¥çœŸå¯¦ AI èªç¾©ç†è§£**:
  - æ­£å¼å°æ¥ OpenAI APIï¼Œå–ä»£äº†åŸæœ‰çš„ Mock æœå‹™å’Œç¡¬ç·¨ç¢¼è¦å‰‡ã€‚
  - ä½¿ç”¨å¤§å‹èªè¨€æ¨¡å‹ (LLM) é€²è¡Œå¯¦é«”æå–ï¼Œèƒ½æ›´æ™ºèƒ½åœ°è™•ç†å¤šæ¨£åŒ–çš„è‡ªç„¶èªè¨€è¡¨é”ã€‚
- **æ™ºèƒ½å¾Œå‚™æ©Ÿåˆ¶**: å¯¦ç¾äº†ã€Œè¦å‰‡å¼•æ“å„ªå…ˆï¼ŒAI å¾Œå‚™ã€çš„æ··åˆæ¨¡å¼ã€‚é«˜ç¢ºå®šæ€§çš„æŒ‡ä»¤ç”±æœ¬åœ°è¦å‰‡å¿«é€Ÿè™•ç†ï¼Œæ¨¡ç³ŠæŒ‡ä»¤å‰‡äº¤ç”± AI é€²è¡Œæ·±åº¦ç†è§£ã€‚

### Fixed
- **æ¶æ§‹ç´„æŸä¿®å¾©**: é€éå¼•å…¥æœ¬åœ° ESLint æ’ä»¶ï¼Œå®Œæ•´åœ°å¯¦ç¾äº†é–‹ç™¼æ™‚çš„è·¨å±¤å°å…¥æª¢æŸ¥ï¼Œç¢ºä¿äº†æ¶æ§‹çš„ç´”æ·¨æ€§ã€‚
- **CI/CD æµç¨‹ä¿®å¾©**: æäº¤äº† `package-lock.json` ä¸¦ä¿®æ­£äº† ESLint è¦å‰‡ï¼Œä½¿è‡ªå‹•åŒ–æµç¨‹æ¢å¾©æ­£å¸¸ã€‚

---

## [v6.3.0] - 2025-07-25

### Added
- **ä¿®æ”¹èª²ç¨‹åŠŸèƒ½**: å¯¦ç¾äº†ä¿®æ”¹ç¾æœ‰èª²ç¨‹æ™‚é–“ã€åœ°é»ã€è€å¸«ç­‰è³‡è¨Šçš„æ ¸å¿ƒæ¥­å‹™é‚è¼¯ã€‚
- **æ¸…ç©ºèª²è¡¨åŠŸèƒ½**: æ–°å¢äº†æ¸…ç©ºæ‰€æœ‰èª²ç¨‹çš„åŠŸèƒ½ï¼Œä¸¦è¨­è¨ˆäº†äºŒæ¬¡ç¢ºèªæ©Ÿåˆ¶ä»¥é˜²æ­¢èª¤æ“ä½œã€‚

---

## [v5.0.0] - 2025-07-25

### Added
- **LINE Bot é›†æˆ**: å¯¦ç¾äº†å®Œæ•´çš„ LINE Webhook å¾Œç«¯ï¼ŒåŒ…æ‹¬ Express æœå‹™å™¨ã€ç°½åé©—è­‰ã€æ¶ˆæ¯æ¥æ”¶èˆ‡å›è¦†çš„å®Œæ•´æµç¨‹ã€‚ç³»çµ±å·²å¯æ¥æ”¶çœŸå¯¦çš„ LINE è¨Šæ¯ä¸¦ä½œå‡ºå›æ‡‰ã€‚

---

## [v4.0.0] - 2025-07-25

### Added
- **Firebase æŒä¹…åŒ–**:
  - å°‡èª²ç¨‹æ•¸æ“šå¾è¨˜æ†¶é«”å­˜å„²é·ç§»è‡³ Firebase Firestoreï¼Œå¯¦ç¾äº†æ•¸æ“šçš„æ°¸ä¹…ä¿å­˜ã€‚
  - æ–°å¢ `token_usage` é›†åˆï¼Œç”¨æ–¼è¨˜éŒ„å’Œç›£æ§ OpenAI API çš„èª¿ç”¨æˆæœ¬ã€‚
- **éƒ¨ç½²é…ç½®ä¿®å¾©**: æä¾›äº†å®Œæ•´çš„ Render å¹³å°ç’°å¢ƒè®Šæ•¸è¨­ç½®æŒ‡å—ï¼Œè§£æ±ºäº†å› é…ç½®ç¼ºå¤±å°è‡´çš„ Firebase åˆå§‹åŒ–å¤±æ•—å•é¡Œã€‚

---

## [v3.0.0] - 2025-07-25

### Added
- **æ ¸å¿ƒæ¥­å‹™é‚è¼¯å¯¦ç¾ (è¨˜æ†¶é«”)**: åœ¨ `CourseService` å’Œ `DataService` ä¸­å®Œæ•´å¯¦ç¾äº†èª²ç¨‹çš„æ–°å¢ã€æŸ¥è©¢ã€æ›´æ–°ã€åˆªé™¤ (CRUD) æ“ä½œï¼Œä½†æ•¸æ“šæš«å­˜æ–¼ä¼ºæœå™¨è¨˜æ†¶é«”ä¸­ã€‚

---

## [v2.0.0] - 2025-07-25

### Added
- **è¦å‰‡å¼•æ“èˆ‡æ™‚é–“è§£æ**:
  - `IntentRuleEngine`: å¯¦ç¾äº†åŸºæ–¼ YAML é…ç½®çš„æœ¬åœ°è¦å‰‡å¼•æ“ï¼Œç”¨æ–¼å¿«é€Ÿã€æº–ç¢ºåœ°è­˜åˆ¥ç”¨æˆ¶æ„åœ–ã€‚
  - `TimeService`: å¯¦ç¾äº†å¼·å¤§çš„æ™‚é–“è§£æåŠŸèƒ½ï¼Œæ”¯æŒè‡ªç„¶èªè¨€ï¼ˆå¦‚ã€Œæ˜å¤©ä¸‹åˆä¸‰é»åŠã€ï¼‰å’Œå¤šç¨®æ™‚å€ã€‚

---

## [v1.0.0] - 2025-07-25

### Added
- **ä¸‰å±¤èªç¾©æ¶æ§‹éª¨æ¶**:
  - å»ºç«‹äº†å°ˆæ¡ˆçš„æ ¸å¿ƒæœå‹™å±¤ï¼ŒåŒ…æ‹¬ `SemanticService`ã€`TimeService` å’Œ `DataService` çš„æ¥å£å®šç¾©ã€‚
  - **å¼·åˆ¶æ¶æ§‹é‚Šç•Œ**: å¼•å…¥äº†è‡ªè¨‚çš„ ESLint è¦å‰‡ (`no-cross-layer-imports`)ï¼Œå¾æŠ€è¡“ä¸Šå¼·åˆ¶åˆ†é›¢äº†ä¸åŒå±¤ç´šçš„è·è²¬ï¼Œç¦æ­¢äº†ä¸åˆè¦çš„è·¨å±¤èª¿ç”¨ã€‚

---

## [v0.1.0] - 2025-07-25

### Added
- **å°ˆæ¡ˆåˆå§‹åŒ–**: å‰µå»ºå°ˆæ¡ˆéª¨æ¶ï¼Œé…ç½®äº† Node.jsã€ESLintã€Prettierã€Jestï¼Œä¸¦å»ºç«‹äº†åŸºæœ¬çš„ CI/CD æµç¨‹ã€‚