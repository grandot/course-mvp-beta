2025-08-10 10:45:26  🧪 Mock LINE Service 初始化（測試模式）
2025-08-10 10:45:26  ⚠️ 警告：USE_MOCK_LINE_SERVICE 未設定，建議明確指定
2025-08-10 10:45:26  📨 收到 1 個事件
2025-08-10 10:45:26  📋 事件類型: message
2025-08-10 10:45:26  🔍 完整事件 JSON: {
2025-08-10 10:45:26    "type": "message",
2025-08-10 10:45:26    "mode": "active",
2025-08-10 10:45:26    "timestamp": 1754822724268,
2025-08-10 10:45:26    "source": {
2025-08-10 10:45:26      "type": "user",
2025-08-10 10:45:26      "userId": "U_test_automation_user_12345_basic_001"
2025-08-10 10:45:26    },
2025-08-10 10:45:26    "replyToken": "reply_token_1754822724268",
2025-08-10 10:45:26    "message": {
2025-08-10 10:45:26      "type": "text",
2025-08-10 10:45:26      "id": "msg_1754822724268",
2025-08-10 10:45:26      "text": "小明明天下午3點數學課"
2025-08-10 10:45:26    }
2025-08-10 10:45:26  }
2025-08-10 10:45:26  {"ts":"2025-08-10T10:45:26.905Z","lvl":"info","direction":"inbound","channel":"line","traceId":"line_1754822726905_xbfj4o","userId":"U_test_automation_user_12345_basic_001","textIn":"小明明天下午3點數學課"}
2025-08-10 10:45:26  🔍 用戶ID類型: string
2025-08-10 10:45:26  🔍 是否測試用戶: true
2025-08-10 10:45:26  🚀 生產用戶，使用真實 LINE Service
2025-08-10 10:45:26  🎯 開始解析意圖: 小明明天下午3點數學課 (用戶: U_test_automation_user_12345_basic_001)
2025-08-10 10:45:26  ✅ Redis 連接成功
2025-08-10 10:45:27  ✅ 意圖規則載入成功，共 24 個意圖
2025-08-10 10:45:27  ✅ 規則匹配成功: add_course
2025-08-10 10:45:27  {"ts":"2025-08-10T10:45:27.371Z","lvl":"info","stage":"nlp","traceId":"line_1754822726905_xbfj4o","userId":"U_test_automation_user_12345_basic_001","intent":"add_course"}
2025-08-10 10:45:27  🔍 開始提取 slots - 意圖: add_course (用戶: U_test_automation_user_12345_basic_001)
2025-08-10 10:45:27  🕒 開始高級時間解析: 小明明天下午3點數學課
2025-08-10 10:45:27  ✅ 時間解析成功: {
2025-08-10 10:45:27    input: '小明明天下午3點數學課',
2025-08-10 10:45:27    output: '15:00',
2025-08-10 10:45:27    details: { hour: 15, minute: 0, matchType: 'arabic_period', periodInfo: '下午' }
2025-08-10 10:45:27  }
2025-08-10 10:45:27  🧠 使用對話上下文增強 slots 提取
2025-08-10 10:45:27  📊 規則提取置信度: 1.00
2025-08-10 10:45:27  🤖 啟用 AI 輔助提取...
2025-08-10 10:45:27  ✅ OpenAI 服務初始化完成
2025-08-10 10:45:28  ✅ 最終 slots: {
2025-08-10 10:45:28    studentName: '小明',
2025-08-10 10:45:28    courseName: '數學課',
2025-08-10 10:45:28    scheduleTime: '15:00',
2025-08-10 10:45:28    recurring: false,
2025-08-10 10:45:28    timeReference: 'tomorrow'
2025-08-10 10:45:28  }
2025-08-10 10:45:28  {"ts":"2025-08-10T10:45:28.723Z","lvl":"info","stage":"slots","traceId":"line_1754822726905_xbfj4o","userId":"U_test_automation_user_12345_basic_001","intent":"add_course","slotsSummary":["studentName","courseName","scheduleTime","recurring","timeReference"]}
2025-08-10 10:45:28  🎯 執行任務: add_course
2025-08-10 10:45:28  🎯 開始處理新增課程任務
2025-08-10 10:45:28  📋 接收參數: {
2025-08-10 10:45:28    studentName: '小明',
2025-08-10 10:45:28    courseName: '數學課',
2025-08-10 10:45:28    scheduleTime: '15:00',
2025-08-10 10:45:28    recurring: false,
2025-08-10 10:45:28    timeReference: 'tomorrow'
2025-08-10 10:45:28  }
2025-08-10 10:45:28  ✅ Firebase 服務初始化完成
2025-08-10 10:45:30  👤 學生日曆: 1aabca6deed2ac300c2372c7886356841fce53c8e8af35079b8546faca3e2873@group.calendar.google.com
2025-08-10 10:45:30  🧪 使用 Mock Calendar 服務
2025-08-10 10:45:30  ✅ Google Calendar 服務初始化完成
2025-08-10 10:45:30  ✅ 已創建課程事件: mock-event-1754822730012
2025-08-10 10:45:30  📅 Google Calendar 事件已創建: mock-event-1754822730012
2025-08-10 10:45:30  ✅ 課程資料已儲存: YnRyKKdAXv2oId6giWvy
2025-08-10 10:45:30  💾 Firebase 課程資料已儲存: YnRyKKdAXv2oId6giWvy
2025-08-10 10:45:30  📊 任務執行結果: {
2025-08-10 10:45:30    success: true,
2025-08-10 10:45:30    code: 'ADD_COURSE_OK',
2025-08-10 10:45:30    message: '✅ 課程已安排成功！\n\n👦 學生：小明\n📚 課程：數學課\n📅 日期：2025-08-11\n🕐 時間：下午3:00',
2025-08-10 10:45:30    data: {
2025-08-10 10:45:30      courseId: 'YnRyKKdAXv2oId6giWvy',
2025-08-10 10:45:30      eventId: 'mock-event-1754822730012'
2025-08-10 10:45:30    },
2025-08-10 10:45:30    quickReply: [ { label: '✅ 確認', text: '確認' }, { label: '❌ 取消操作', text: '取消操作' } ]
2025-08-10 10:45:30  }
2025-08-10 10:45:30  {"ts":"2025-08-10T10:45:30.504Z","lvl":"info","stage":"task","traceId":"line_1754822726905_xbfj4o","userId":"U_test_automation_user_12345_basic_001","intent":"add_course","success":true,"code":"ADD_COURSE_OK","latencyMs":1781}
2025-08-10 10:45:30  🔍 檢查 replyToken: reply_token_1754822724268
2025-08-10 10:45:30  ❌ 訊息回覆失敗: { message: 'Invalid reply token' }
2025-08-10 10:45:30  {"ts":"2025-08-10T10:45:30.945Z","lvl":"error","direction":"inbound","channel":"line","traceId":"err_1754822730945_sdtylh","userId":"U_test_automation_user_12345_basic_001","textIn":"小明明天下午3點數學課","error":"Request failed with status code 400"}
2025-08-10 10:45:31  🚀 生產用戶，使用真實 LINE Service
2025-08-10 10:45:31  🔍 檢查 replyToken: reply_token_1754822724268
2025-08-10 10:45:31  ❌ 訊息回覆失敗: { message: 'Invalid reply token' }
2025-08-10 10:45:31  ❌ Webhook 處理失敗: AxiosError: Request failed with status code 400
2025-08-10 10:45:31      at settle (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:2090:12)
2025-08-10 10:45:31      at IncomingMessage.handleStreamEnd (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:3207:11)
2025-08-10 10:45:31      at IncomingMessage.emit (node:events:519:35)
2025-08-10 10:45:31      at endReadableNT (node:internal/streams/readable:1701:12)
2025-08-10 10:45:31      at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
2025-08-10 10:45:31      at Axios.request (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:4317:41)
2025-08-10 10:45:31      at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-10 10:45:31      at async Object.replyMessage (/opt/render/project/src/src/services/lineService.js:75:22)
2025-08-10 10:45:31      at async handleTextMessage (/opt/render/project/src/src/bot/webhook.js:149:5)
2025-08-10 10:45:31      at async handleWebhook (/opt/render/project/src/src/bot/webhook.js:438:13)
2025-08-10 10:45:31      at async /opt/render/project/src/src/index.js:34:5 {
2025-08-10 10:45:31    code: 'ERR_BAD_REQUEST',
2025-08-10 10:45:31    config: {
2025-08-10 10:45:31      transitional: {
2025-08-10 10:45:31        silentJSONParsing: true,
2025-08-10 10:45:31        forcedJSONParsing: true,
2025-08-10 10:45:31        clarifyTimeoutError: false
2025-08-10 10:45:31      },
2025-08-10 10:45:31  🚀 生產用戶，使用真實 LINE Service
2025-08-10 10:45:31  🔍 檢查 replyToken: reply_token_1754822724268
2025-08-10 10:45:31  ❌ 訊息回覆失敗: { message: 'Invalid reply token' }
2025-08-10 10:45:31  ❌ Webhook 處理失敗: AxiosError: Request failed with status code 400
2025-08-10 10:45:31      at settle (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:2090:12)
2025-08-10 10:45:31      at IncomingMessage.handleStreamEnd (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:3207:11)
2025-08-10 10:45:31      at IncomingMessage.emit (node:events:519:35)
2025-08-10 10:45:31      at endReadableNT (node:internal/streams/readable:1701:12)
2025-08-10 10:45:31      at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
2025-08-10 10:45:31      at Axios.request (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:4317:41)
2025-08-10 10:45:31      at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-10 10:45:31      at async Object.replyMessage (/opt/render/project/src/src/services/lineService.js:75:22)
2025-08-10 10:45:31      at async handleTextMessage (/opt/render/project/src/src/bot/webhook.js:149:5)
2025-08-10 10:45:31      at async handleWebhook (/opt/render/project/src/src/bot/webhook.js:438:13)
2025-08-10 10:45:31      at async /opt/render/project/src/src/index.js:34:5 {
2025-08-10 10:45:31    code: 'ERR_BAD_REQUEST',
2025-08-10 10:45:31    config: {
2025-08-10 10:45:31      transitional: {
2025-08-10 10:45:31        silentJSONParsing: true,
2025-08-10 10:45:31        forcedJSONParsing: true,
2025-08-10 10:45:31        clarifyTimeoutError: false
2025-08-10 10:45:31      },
2025-08-10 10:45:31      adapter: [ 'xhr', 'http', 'fetch' ],
2025-08-10 10:45:31      transformRequest: [ [Function: transformRequest] ],
2025-08-10 10:45:31      transformResponse: [ [Function: transformResponse] ],
2025-08-10 10:45:31      timeout: 0,
2025-08-10 10:45:31      xsrfCookieName: 'XSRF-TOKEN',
2025-08-10 10:45:31      xsrfHeaderName: 'X-XSRF-TOKEN',
2025-08-10 10:45:31      maxContentLength: -1,
2025-08-10 10:45:31      maxBodyLength: -1,
2025-08-10 10:45:31      env: { FormData: [Function [FormData]], Blob: [class Blob] },
2025-08-10 10:45:31      validateStatus: [Function: validateStatus],
2025-08-10 10:45:31      headers: Object [AxiosHeaders] {
2025-08-10 10:45:31        Accept: 'application/json, text/plain, */*',
2025-08-10 10:45:31        'Content-Type': 'application/json',
2025-08-10 10:45:31        Authorization: 'Bearer +LATS/cSYCUN4VVSpU/2TOWpDXGyYl2os+C99MgPfEnAG5pHrmY3fEGJoMik7hddPGBV+hQcpnypK0bDjW3x4FfTq1Iohow/cd3+PrGnpP/mEzymfa0VcComebCYH5z0a5FHQRjiv7Ggw8t+FKOo0wdB04t89/1O/w1cDnyilFU=',
2025-08-10 10:45:31        'User-Agent': 'axios/1.11.0',
2025-08-10 10:45:31        'Content-Length': '129',
2025-08-10 10:45:31        'Accept-Encoding': 'gzip, compress, deflate, br'
2025-08-10 10:45:31      },
2025-08-10 10:45:31      method: 'post',
2025-08-10 10:45:31      url: 'https://api.line.me/v2/bot/message/reply',
2025-08-10 10:45:31      data: '{"replyToken":"reply_token_1754822724268","messages":[{"type":"text","text":"處理訊息時發生錯誤，請稍後再試。"}]}',
2025-08-10 10:45:31      allowAbsoluteUrls: true
2025-08-10 10:45:31    },
2025-08-10 10:45:31    request: <ref *1> ClientRequest {
2025-08-10 10:45:31      _events: [Object: null prototype] {
2025-08-10 10:45:31        abort: [Function (anonymous)],
2025-08-10 10:45:31        aborted: [Function (anonymous)],
2025-08-10 10:45:31        connect: [Function (anonymous)],
2025-08-10 10:45:31        error: [Function (anonymous)],
2025-08-10 10:45:31        socket: [Function (anonymous)],
2025-08-10 10:45:31        timeout: [Function (anonymous)],
2025-08-10 10:45:31        finish: [Function: requestOnFinish]
2025-08-10 10:45:31      },
2025-08-10 10:45:31      _eventsCount: 7,
2025-08-10 10:45:31      _maxListeners: undefined,
2025-08-10 10:45:31      outputData: [],
2025-08-10 10:45:31      outputSize: 0,
2025-08-10 10:45:31      writable: true,
2025-08-10 10:45:31      destroyed: false,
2025-08-10 10:45:31      _last: false,
2025-08-10 10:45:31      chunkedEncoding: false,
2025-08-10 10:45:31      shouldKeepAlive: false,
2025-08-10 10:45:31      maxRequestsOnConnectionReached: false,
2025-08-10 10:45:31      _defaultKeepAlive: true,
2025-08-10 10:45:31      useChunkedEncodingByDefault: true,
2025-08-10 10:45:31      sendDate: false,
2025-08-10 10:45:31      _removedConnection: false,
2025-08-10 10:45:31      _removedContLen: false,
2025-08-10 10:45:31      _removedTE: false,
2025-08-10 10:45:31      strictContentLength: false,
2025-08-10 10:45:31      _contentLength: 129,
2025-08-10 10:45:31      _hasBody: true,
2025-08-10 10:45:31      _trailer: '',
2025-08-10 10:45:31      finished: true,
2025-08-10 10:45:31      _headerSent: true,
2025-08-10 10:45:31      _closed: false,
2025-08-10 10:45:31      _header: 'POST /v2/bot/message/reply HTTP/1.1\r\n' +
2025-08-10 10:45:31        'Accept: application/json, text/plain, */*\r\n' +
2025-08-10 10:45:31        'Content-Type: application/json\r\n' +
2025-08-10 10:45:31        'Authorization: Bearer +LATS/cSYCUN4VVSpU/2TOWpDXGyYl2os+C99MgPfEnAG5pHrmY3fEGJoMik7hddPGBV+hQcpnypK0bDjW3x4FfTq1Iohow/cd3+PrGnpP/mEzymfa0VcComebCYH5z0a5FHQRjiv7Ggw8t+FKOo0wdB04t89/1O/w1cDnyilFU=\r\n' +
2025-08-10 10:45:31        'User-Agent: axios/1.11.0\r\n' +
2025-08-10 10:45:31        'Content-Length: 129\r\n' +
2025-08-10 10:45:31        'Accept-Encoding: gzip, compress, deflate, br\r\n' +
2025-08-10 10:45:31        'Host: api.line.me\r\n' +
2025-08-10 10:45:31        'Connection: keep-alive\r\n' +
2025-08-10 10:45:31        '\r\n',
2025-08-10 10:45:31      _keepAliveTimeout: 0,
2025-08-10 10:45:31      _onPendingData: [Function: nop],
2025-08-10 10:45:31      agent: Agent {
2025-08-10 10:45:31        _events: [Object: null prototype],
2025-08-10 10:45:31        _eventsCount: 2,
2025-08-10 10:45:31        _maxListeners: undefined,
2025-08-10 10:45:31        options: [Object: null prototype],
2025-08-10 10:45:31        defaultPort: 443,
2025-08-10 10:45:31        protocol: 'https:',
2025-08-10 10:45:31        requests: [Object: null prototype] {},
2025-08-10 10:45:31        sockets: [Object: null prototype],
2025-08-10 10:45:31        freeSockets: [Object: null prototype] {},
2025-08-10 10:45:31  🚀 生產用戶，使用真實 LINE Service
2025-08-10 10:45:31  🔍 檢查 replyToken: reply_token_1754822724268
2025-08-10 10:45:31  ❌ 訊息回覆失敗: { message: 'Invalid reply token' }
2025-08-10 10:45:31  ❌ Webhook 處理失敗: AxiosError: Request failed with status code 400
2025-08-10 10:45:31      at settle (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:2090:12)
2025-08-10 10:45:31      at IncomingMessage.handleStreamEnd (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:3207:11)
2025-08-10 10:45:31      at IncomingMessage.emit (node:events:519:35)
2025-08-10 10:45:31      at endReadableNT (node:internal/streams/readable:1701:12)
2025-08-10 10:45:31      at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
2025-08-10 10:45:31      at Axios.request (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:4317:41)
2025-08-10 10:45:31      at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-10 10:45:31      at async Object.replyMessage (/opt/render/project/src/src/services/lineService.js:75:22)
2025-08-10 10:45:31      at async handleTextMessage (/opt/render/project/src/src/bot/webhook.js:149:5)
2025-08-10 10:45:31      at async handleWebhook (/opt/render/project/src/src/bot/webhook.js:438:13)
2025-08-10 10:45:31      at async /opt/render/project/src/src/index.js:34:5 {
2025-08-10 10:45:31    code: 'ERR_BAD_REQUEST',
2025-08-10 10:45:31    config: {
2025-08-10 10:45:31      transitional: {
2025-08-10 10:45:31        silentJSONParsing: true,
2025-08-10 10:45:31        forcedJSONParsing: true,
2025-08-10 10:45:31        clarifyTimeoutError: false
2025-08-10 10:45:31      },
2025-08-10 10:45:31      adapter: [ 'xhr', 'http', 'fetch' ],
2025-08-10 10:45:31      transformRequest: [ [Function: transformRequest] ],
2025-08-10 10:45:31      transformResponse: [ [Function: transformResponse] ],
2025-08-10 10:45:31      timeout: 0,
2025-08-10 10:45:31      xsrfCookieName: 'XSRF-TOKEN',
2025-08-10 10:45:31      xsrfHeaderName: 'X-XSRF-TOKEN',
2025-08-10 10:45:31      maxContentLength: -1,
2025-08-10 10:45:31      maxBodyLength: -1,
2025-08-10 10:45:31      env: { FormData: [Function [FormData]], Blob: [class Blob] },
2025-08-10 10:45:31      validateStatus: [Function: validateStatus],
2025-08-10 10:45:31      headers: Object [AxiosHeaders] {
2025-08-10 10:45:31        Accept: 'application/json, text/plain, */*',
2025-08-10 10:45:31        'Content-Type': 'application/json',
2025-08-10 10:45:31        Authorization: 'Bearer +LATS/cSYCUN4VVSpU/2TOWpDXGyYl2os+C99MgPfEnAG5pHrmY3fEGJoMik7hddPGBV+hQcpnypK0bDjW3x4FfTq1Iohow/cd3+PrGnpP/mEzymfa0VcComebCYH5z0a5FHQRjiv7Ggw8t+FKOo0wdB04t89/1O/w1cDnyilFU=',
2025-08-10 10:45:31        'User-Agent': 'axios/1.11.0',
2025-08-10 10:45:31        'Content-Length': '129',
2025-08-10 10:45:31        'Accept-Encoding': 'gzip, compress, deflate, br'
2025-08-10 10:45:31      },
2025-08-10 10:45:31      method: 'post',
2025-08-10 10:45:31      url: 'https://api.line.me/v2/bot/message/reply',
2025-08-10 10:45:31      data: '{"replyToken":"reply_token_1754822724268","messages":[{"type":"text","text":"處理訊息時發生錯誤，請稍後再試。"}]}',
2025-08-10 10:45:31      allowAbsoluteUrls: true
2025-08-10 10:45:31    },
2025-08-10 10:45:31    request: <ref *1> ClientRequest {
2025-08-10 10:45:31      _events: [Object: null prototype] {
2025-08-10 10:45:31        abort: [Function (anonymous)],
2025-08-10 10:45:31        aborted: [Function (anonymous)],
2025-08-10 10:45:31        connect: [Function (anonymous)],
2025-08-10 10:45:31        error: [Function (anonymous)],
2025-08-10 10:45:31        socket: [Function (anonymous)],
2025-08-10 10:45:31        timeout: [Function (anonymous)],
2025-08-10 10:45:31        finish: [Function: requestOnFinish]
2025-08-10 10:45:31      },
2025-08-10 10:45:31      _eventsCount: 7,
2025-08-10 10:45:31      _maxListeners: undefined,
2025-08-10 10:45:31      outputData: [],
2025-08-10 10:45:31      outputSize: 0,
2025-08-10 10:45:31      writable: true,
2025-08-10 10:45:31      destroyed: false,
2025-08-10 10:45:31      _last: false,
2025-08-10 10:45:31      chunkedEncoding: false,
2025-08-10 10:45:31      shouldKeepAlive: false,
2025-08-10 10:45:31      maxRequestsOnConnectionReached: false,
2025-08-10 10:45:31      _defaultKeepAlive: true,
2025-08-10 10:45:31      useChunkedEncodingByDefault: true,
2025-08-10 10:45:31      sendDate: false,
2025-08-10 10:45:31      _removedConnection: false,
2025-08-10 10:45:31      _removedContLen: false,
2025-08-10 10:45:31      _removedTE: false,
2025-08-10 10:45:31      strictContentLength: false,
2025-08-10 10:45:31      _contentLength: 129,
2025-08-10 10:45:31      _hasBody: true,
2025-08-10 10:45:31      _trailer: '',
2025-08-10 10:45:31      finished: true,
2025-08-10 10:45:31      _headerSent: true,
2025-08-10 10:45:31      _closed: false,
2025-08-10 10:45:31      _header: 'POST /v2/bot/message/reply HTTP/1.1\r\n' +
2025-08-10 10:45:31        'Accept: application/json, text/plain, */*\r\n' +
2025-08-10 10:45:31        'Content-Type: application/json\r\n' +
2025-08-10 10:45:31        'Authorization: Bearer +LATS/cSYCUN4VVSpU/2TOWpDXGyYl2os+C99MgPfEnAG5pHrmY3fEGJoMik7hddPGBV+hQcpnypK0bDjW3x4FfTq1Iohow/cd3+PrGnpP/mEzymfa0VcComebCYH5z0a5FHQRjiv7Ggw8t+FKOo0wdB04t89/1O/w1cDnyilFU=\r\n' +
2025-08-10 10:45:31        'User-Agent: axios/1.11.0\r\n' +
2025-08-10 10:45:31        'Content-Length: 129\r\n' +
2025-08-10 10:45:31        'Accept-Encoding: gzip, compress, deflate, br\r\n' +
2025-08-10 10:45:31        'Host: api.line.me\r\n' +
2025-08-10 10:45:31        'Connection: keep-alive\r\n' +
2025-08-10 10:45:31        '\r\n',
2025-08-10 10:45:31      _keepAliveTimeout: 0,
2025-08-10 10:45:31      _onPendingData: [Function: nop],
2025-08-10 10:45:31      agent: Agent {
2025-08-10 10:45:31        _events: [Object: null prototype],
2025-08-10 10:45:31        _eventsCount: 2,
2025-08-10 10:45:31        _maxListeners: undefined,
2025-08-10 10:45:31        options: [Object: null prototype],
2025-08-10 10:45:31        defaultPort: 443,
2025-08-10 10:45:31        protocol: 'https:',
2025-08-10 10:45:31        requests: [Object: null prototype] {},
2025-08-10 10:45:31        sockets: [Object: null prototype],
2025-08-10 10:45:31        freeSockets: [Object: null prototype] {},
2025-08-10 10:45:31  🚀 生產用戶，使用真實 LINE Service
2025-08-10 10:45:31  🔍 檢查 replyToken: reply_token_1754822724268
2025-08-10 10:45:31  ❌ 訊息回覆失敗: { message: 'Invalid reply token' }
2025-08-10 10:45:31  ❌ Webhook 處理失敗: AxiosError: Request failed with status code 400
2025-08-10 10:45:31      at settle (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:2090:12)
2025-08-10 10:45:31      at IncomingMessage.handleStreamEnd (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:3207:11)
2025-08-10 10:45:31      at IncomingMessage.emit (node:events:519:35)
2025-08-10 10:45:31      at endReadableNT (node:internal/streams/readable:1701:12)
2025-08-10 10:45:31      at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
2025-08-10 10:45:31      at Axios.request (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:4317:41)
2025-08-10 10:45:31      at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-10 10:45:31      at async Object.replyMessage (/opt/render/project/src/src/services/lineService.js:75:22)
2025-08-10 10:45:31      at async handleTextMessage (/opt/render/project/src/src/bot/webhook.js:149:5)
2025-08-10 10:45:31      at async handleWebhook (/opt/render/project/src/src/bot/webhook.js:438:13)
2025-08-10 10:45:31      at async /opt/render/project/src/src/index.js:34:5 {
2025-08-10 10:45:31    code: 'ERR_BAD_REQUEST',
2025-08-10 10:45:31    config: {
2025-08-10 10:45:31      transitional: {
2025-08-10 10:45:31        silentJSONParsing: true,
2025-08-10 10:45:31        forcedJSONParsing: true,
2025-08-10 10:45:31        clarifyTimeoutError: false
2025-08-10 10:45:31      },
2025-08-10 10:45:31      adapter: [ 'xhr', 'http', 'fetch' ],
2025-08-10 10:45:31      transformRequest: [ [Function: transformRequest] ],
2025-08-10 10:45:31      transformResponse: [ [Function: transformResponse] ],
2025-08-10 10:45:31      timeout: 0,
2025-08-10 10:45:31      xsrfCookieName: 'XSRF-TOKEN',
2025-08-10 10:45:31      xsrfHeaderName: 'X-XSRF-TOKEN',
2025-08-10 10:45:31      maxContentLength: -1,
2025-08-10 10:45:31      maxBodyLength: -1,
2025-08-10 10:45:31      env: { FormData: [Function [FormData]], Blob: [class Blob] },
2025-08-10 10:45:31      validateStatus: [Function: validateStatus],
2025-08-10 10:45:31      headers: Object [AxiosHeaders] {
2025-08-10 10:45:31        Accept: 'application/json, text/plain, */*',
2025-08-10 10:45:31        'Content-Type': 'application/json',
2025-08-10 10:45:31        Authorization: 'Bearer +LATS/cSYCUN4VVSpU/2TOWpDXGyYl2os+C99MgPfEnAG5pHrmY3fEGJoMik7hddPGBV+hQcpnypK0bDjW3x4FfTq1Iohow/cd3+PrGnpP/mEzymfa0VcComebCYH5z0a5FHQRjiv7Ggw8t+FKOo0wdB04t89/1O/w1cDnyilFU=',
2025-08-10 10:45:31        'User-Agent': 'axios/1.11.0',
2025-08-10 10:45:31        'Content-Length': '129',
2025-08-10 10:45:31        'Accept-Encoding': 'gzip, compress, deflate, br'
2025-08-10 10:45:31      },
2025-08-10 10:45:31      method: 'post',
2025-08-10 10:45:31      url: 'https://api.line.me/v2/bot/message/reply',
2025-08-10 10:45:31      data: '{"replyToken":"reply_token_1754822724268","messages":[{"type":"text","text":"處理訊息時發生錯誤，請稍後再試。"}]}',
2025-08-10 10:45:31      allowAbsoluteUrls: true
2025-08-10 10:45:31    },
2025-08-10 10:45:31    request: <ref *1> ClientRequest {
2025-08-10 10:45:31      _events: [Object: null prototype] {
2025-08-10 10:45:31        abort: [Function (anonymous)],
2025-08-10 10:45:31        aborted: [Function (anonymous)],
2025-08-10 10:45:31        connect: [Function (anonymous)],
2025-08-10 10:45:31        error: [Function (anonymous)],
2025-08-10 10:45:31        socket: [Function (anonymous)],
2025-08-10 10:45:31        timeout: [Function (anonymous)],
2025-08-10 10:45:31        finish: [Function: requestOnFinish]
2025-08-10 10:45:31      },
2025-08-10 10:45:31      _eventsCount: 7,
2025-08-10 10:45:31      _maxListeners: undefined,
2025-08-10 10:45:31      outputData: [],
2025-08-10 10:45:31      outputSize: 0,
2025-08-10 10:45:31      writable: true,
2025-08-10 10:45:31      destroyed: false,
2025-08-10 10:45:31      _last: false,
2025-08-10 10:45:31      chunkedEncoding: false,
2025-08-10 10:45:31      shouldKeepAlive: false,
2025-08-10 10:45:31      maxRequestsOnConnectionReached: false,
2025-08-10 10:45:31      _defaultKeepAlive: true,
2025-08-10 10:45:31      useChunkedEncodingByDefault: true,
2025-08-10 10:45:31      sendDate: false,
2025-08-10 10:45:31      _removedConnection: false,
2025-08-10 10:45:31      _removedContLen: false,
2025-08-10 10:45:31      _removedTE: false,
2025-08-10 10:45:31      strictContentLength: false,
2025-08-10 10:45:31      _contentLength: 129,
2025-08-10 10:45:31      _hasBody: true,
2025-08-10 10:45:31      _trailer: '',
2025-08-10 10:45:31      finished: true,
2025-08-10 10:45:31      _headerSent: true,
2025-08-10 10:45:31      _closed: false,
2025-08-10 10:45:31      _header: 'POST /v2/bot/message/reply HTTP/1.1\r\n' +
2025-08-10 10:45:31        'Accept: application/json, text/plain, */*\r\n' +
2025-08-10 10:45:31        'Content-Type: application/json\r\n' +
2025-08-10 10:45:31        'Authorization: Bearer +LATS/cSYCUN4VVSpU/2TOWpDXGyYl2os+C99MgPfEnAG5pHrmY3fEGJoMik7hddPGBV+hQcpnypK0bDjW3x4FfTq1Iohow/cd3+PrGnpP/mEzymfa0VcComebCYH5z0a5FHQRjiv7Ggw8t+FKOo0wdB04t89/1O/w1cDnyilFU=\r\n' +
2025-08-10 10:45:31        'User-Agent: axios/1.11.0\r\n' +
2025-08-10 10:45:31        'Content-Length: 129\r\n' +
2025-08-10 10:45:31        'Accept-Encoding: gzip, compress, deflate, br\r\n' +
2025-08-10 10:45:31        'Host: api.line.me\r\n' +
2025-08-10 10:45:31        'Connection: keep-alive\r\n' +
2025-08-10 10:45:31        '\r\n',
2025-08-10 10:45:31      _keepAliveTimeout: 0,
2025-08-10 10:45:31      _onPendingData: [Function: nop],
2025-08-10 10:45:31      agent: Agent {
2025-08-10 10:45:31        _events: [Object: null prototype],
2025-08-10 10:45:31        _eventsCount: 2,
2025-08-10 10:45:31        _maxListeners: undefined,
2025-08-10 10:45:31        options: [Object: null prototype],
2025-08-10 10:45:31        defaultPort: 443,
2025-08-10 10:45:31        protocol: 'https:',
2025-08-10 10:45:31        requests: [Object: null prototype] {},
2025-08-10 10:45:31        sockets: [Object: null prototype],
2025-08-10 10:45:31        freeSockets: [Object: null prototype] {},
2025-08-10 10:45:31  🚀 生產用戶，使用真實 LINE Service
2025-08-10 10:45:31  🔍 檢查 replyToken: reply_token_1754822724268
2025-08-10 10:45:31  ❌ 訊息回覆失敗: { message: 'Invalid reply token' }
2025-08-10 10:45:31  ❌ Webhook 處理失敗: AxiosError: Request failed with status code 400
2025-08-10 10:45:31      at settle (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:2090:12)
2025-08-10 10:45:31      at IncomingMessage.handleStreamEnd (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:3207:11)
2025-08-10 10:45:31      at IncomingMessage.emit (node:events:519:35)
2025-08-10 10:45:31      at endReadableNT (node:internal/streams/readable:1701:12)
2025-08-10 10:45:31      at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
2025-08-10 10:45:31      at Axios.request (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:4317:41)
2025-08-10 10:45:31      at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-10 10:45:31      at async Object.replyMessage (/opt/render/project/src/src/services/lineService.js:75:22)
2025-08-10 10:45:31      at async handleTextMessage (/opt/render/project/src/src/bot/webhook.js:149:5)
2025-08-10 10:45:31      at async handleWebhook (/opt/render/project/src/src/bot/webhook.js:438:13)
2025-08-10 10:45:31      at async /opt/render/project/src/src/index.js:34:5 {
2025-08-10 10:45:31    code: 'ERR_BAD_REQUEST',
2025-08-10 10:45:31    config: {
2025-08-10 10:45:31      transitional: {
2025-08-10 10:45:31        silentJSONParsing: true,
2025-08-10 10:45:31        forcedJSONParsing: true,
2025-08-10 10:45:31        clarifyTimeoutError: false
2025-08-10 10:45:31      },
2025-08-10 10:45:31      adapter: [ 'xhr', 'http', 'fetch' ],
2025-08-10 10:45:31      transformRequest: [ [Function: transformRequest] ],
2025-08-10 10:45:31      transformResponse: [ [Function: transformResponse] ],
2025-08-10 10:45:31      timeout: 0,
2025-08-10 10:45:31      xsrfCookieName: 'XSRF-TOKEN',
2025-08-10 10:45:31      xsrfHeaderName: 'X-XSRF-TOKEN',
2025-08-10 10:45:31      maxContentLength: -1,
2025-08-10 10:45:31      maxBodyLength: -1,
2025-08-10 10:45:31      env: { FormData: [Function [FormData]], Blob: [class Blob] },
2025-08-10 10:45:31      validateStatus: [Function: validateStatus],
2025-08-10 10:45:31      headers: Object [AxiosHeaders] {
2025-08-10 10:45:31        Accept: 'application/json, text/plain, */*',
2025-08-10 10:45:31        'Content-Type': 'application/json',
2025-08-10 10:45:31        Authorization: 'Bearer +LATS/cSYCUN4VVSpU/2TOWpDXGyYl2os+C99MgPfEnAG5pHrmY3fEGJoMik7hddPGBV+hQcpnypK0bDjW3x4FfTq1Iohow/cd3+PrGnpP/mEzymfa0VcComebCYH5z0a5FHQRjiv7Ggw8t+FKOo0wdB04t89/1O/w1cDnyilFU=',
2025-08-10 10:45:31        'User-Agent': 'axios/1.11.0',
2025-08-10 10:45:31        'Content-Length': '129',
2025-08-10 10:45:31        'Accept-Encoding': 'gzip, compress, deflate, br'
2025-08-10 10:45:31      },
2025-08-10 10:45:31      method: 'post',
2025-08-10 10:45:31      url: 'https://api.line.me/v2/bot/message/reply',
2025-08-10 10:45:31      data: '{"replyToken":"reply_token_1754822724268","messages":[{"type":"text","text":"處理訊息時發生錯誤，請稍後再試。"}]}',
2025-08-10 10:45:31      allowAbsoluteUrls: true
2025-08-10 10:45:31    },
2025-08-10 10:45:31    request: <ref *1> ClientRequest {
2025-08-10 10:45:31      _events: [Object: null prototype] {
2025-08-10 10:45:31        abort: [Function (anonymous)],
2025-08-10 10:45:31        aborted: [Function (anonymous)],
2025-08-10 10:45:31        connect: [Function (anonymous)],
2025-08-10 10:45:31        error: [Function (anonymous)],
2025-08-10 10:45:31        socket: [Function (anonymous)],
2025-08-10 10:45:31        timeout: [Function (anonymous)],
2025-08-10 10:45:31        finish: [Function: requestOnFinish]
2025-08-10 10:45:31      },
2025-08-10 10:45:31      _eventsCount: 7,
2025-08-10 10:45:31      _maxListeners: undefined,
2025-08-10 10:45:31      outputData: [],
2025-08-10 10:45:31      outputSize: 0,
2025-08-10 10:45:31      writable: true,
2025-08-10 10:45:31      destroyed: false,
2025-08-10 10:45:31      _last: false,
2025-08-10 10:45:31      chunkedEncoding: false,
2025-08-10 10:45:31      shouldKeepAlive: false,
2025-08-10 10:45:31      maxRequestsOnConnectionReached: false,
2025-08-10 10:45:31      _defaultKeepAlive: true,
2025-08-10 10:45:31      useChunkedEncodingByDefault: true,
2025-08-10 10:45:31      sendDate: false,
2025-08-10 10:45:31      _removedConnection: false,
2025-08-10 10:45:31      _removedContLen: false,
2025-08-10 10:45:31      _removedTE: false,
2025-08-10 10:45:31      strictContentLength: false,
2025-08-10 10:45:31      _contentLength: 129,
2025-08-10 10:45:31      _hasBody: true,
2025-08-10 10:45:31      _trailer: '',
2025-08-10 10:45:31      finished: true,
2025-08-10 10:45:31      _headerSent: true,
2025-08-10 10:45:31      _closed: false,
2025-08-10 10:45:31      _header: 'POST /v2/bot/message/reply HTTP/1.1\r\n' +
2025-08-10 10:45:31        'Accept: application/json, text/plain, */*\r\n' +
2025-08-10 10:45:31        'Content-Type: application/json\r\n' +
2025-08-10 10:45:31        'Authorization: Bearer +LATS/cSYCUN4VVSpU/2TOWpDXGyYl2os+C99MgPfEnAG5pHrmY3fEGJoMik7hddPGBV+hQcpnypK0bDjW3x4FfTq1Iohow/cd3+PrGnpP/mEzymfa0VcComebCYH5z0a5FHQRjiv7Ggw8t+FKOo0wdB04t89/1O/w1cDnyilFU=\r\n' +
2025-08-10 10:45:31        'User-Agent: axios/1.11.0\r\n' +
2025-08-10 10:45:31        'Content-Length: 129\r\n' +
2025-08-10 10:45:31        'Accept-Encoding: gzip, compress, deflate, br\r\n' +
2025-08-10 10:45:31        'Host: api.line.me\r\n' +
2025-08-10 10:45:31        'Connection: keep-alive\r\n' +
2025-08-10 10:45:31        '\r\n',
2025-08-10 10:45:31      _keepAliveTimeout: 0,
2025-08-10 10:45:31      _onPendingData: [Function: nop],
2025-08-10 10:45:31      agent: Agent {
2025-08-10 10:45:31        _events: [Object: null prototype],
2025-08-10 10:45:31        _eventsCount: 2,
2025-08-10 10:45:31        _maxListeners: undefined,
2025-08-10 10:45:31        options: [Object: null prototype],
2025-08-10 10:45:31        defaultPort: 443,
2025-08-10 10:45:31        protocol: 'https:',
2025-08-10 10:45:31        requests: [Object: null prototype] {},
2025-08-10 10:45:31        sockets: [Object: null prototype],
2025-08-10 10:45:31        freeSockets: [Object: null prototype] {},
2025-08-10 10:45:31  🚀 生產用戶，使用真實 LINE Service
2025-08-10 10:45:31  🔍 檢查 replyToken: reply_token_1754822724268
2025-08-10 10:45:31  ❌ 訊息回覆失敗: { message: 'Invalid reply token' }
2025-08-10 10:45:31  ❌ Webhook 處理失敗: AxiosError: Request failed with status code 400
2025-08-10 10:45:31      at settle (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:2090:12)
2025-08-10 10:45:31      at IncomingMessage.handleStreamEnd (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:3207:11)
2025-08-10 10:45:31      at IncomingMessage.emit (node:events:519:35)
2025-08-10 10:45:31      at endReadableNT (node:internal/streams/readable:1701:12)
2025-08-10 10:45:31      at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
2025-08-10 10:45:31      at Axios.request (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:4317:41)
2025-08-10 10:45:31      at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-10 10:45:31      at async Object.replyMessage (/opt/render/project/src/src/services/lineService.js:75:22)
2025-08-10 10:45:31      at async handleTextMessage (/opt/render/project/src/src/bot/webhook.js:149:5)
2025-08-10 10:45:31      at async handleWebhook (/opt/render/project/src/src/bot/webhook.js:438:13)
2025-08-10 10:45:31      at async /opt/render/project/src/src/index.js:34:5 {
2025-08-10 10:45:31    code: 'ERR_BAD_REQUEST',
2025-08-10 10:45:31    config: {
2025-08-10 10:45:31      transitional: {
2025-08-10 10:45:31        silentJSONParsing: true,
2025-08-10 10:45:31        forcedJSONParsing: true,
2025-08-10 10:45:31        clarifyTimeoutError: false
2025-08-10 10:45:31      },
2025-08-10 10:45:31      adapter: [ 'xhr', 'http', 'fetch' ],
2025-08-10 10:45:31      transformRequest: [ [Function: transformRequest] ],
2025-08-10 10:45:31      transformResponse: [ [Function: transformResponse] ],
2025-08-10 10:45:31      timeout: 0,
2025-08-10 10:45:31      xsrfCookieName: 'XSRF-TOKEN',
2025-08-10 10:45:31      xsrfHeaderName: 'X-XSRF-TOKEN',
2025-08-10 10:45:31      maxContentLength: -1,
2025-08-10 10:45:31      maxBodyLength: -1,
2025-08-10 10:45:31      env: { FormData: [Function [FormData]], Blob: [class Blob] },
2025-08-10 10:45:31      validateStatus: [Function: validateStatus],
2025-08-10 10:45:31      headers: Object [AxiosHeaders] {
2025-08-10 10:45:31        Accept: 'application/json, text/plain, */*',
2025-08-10 10:45:31        'Content-Type': 'application/json',
2025-08-10 10:45:31        Authorization: 'Bearer +LATS/cSYCUN4VVSpU/2TOWpDXGyYl2os+C99MgPfEnAG5pHrmY3fEGJoMik7hddPGBV+hQcpnypK0bDjW3x4FfTq1Iohow/cd3+PrGnpP/mEzymfa0VcComebCYH5z0a5FHQRjiv7Ggw8t+FKOo0wdB04t89/1O/w1cDnyilFU=',
2025-08-10 10:45:31        'User-Agent': 'axios/1.11.0',
2025-08-10 10:45:31        'Content-Length': '129',
2025-08-10 10:45:31        'Accept-Encoding': 'gzip, compress, deflate, br'
2025-08-10 10:45:31      },
2025-08-10 10:45:31      method: 'post',
2025-08-10 10:45:31      url: 'https://api.line.me/v2/bot/message/reply',
2025-08-10 10:45:31      data: '{"replyToken":"reply_token_1754822724268","messages":[{"type":"text","text":"處理訊息時發生錯誤，請稍後再試。"}]}',
2025-08-10 10:45:31      allowAbsoluteUrls: true
2025-08-10 10:45:31    },
2025-08-10 10:45:31    request: <ref *1> ClientRequest {
2025-08-10 10:45:31      _events: [Object: null prototype] {
2025-08-10 10:45:31        abort: [Function (anonymous)],
2025-08-10 10:45:31        aborted: [Function (anonymous)],
2025-08-10 10:45:31        connect: [Function (anonymous)],
2025-08-10 10:45:31        error: [Function (anonymous)],
2025-08-10 10:45:31        socket: [Function (anonymous)],
2025-08-10 10:45:31        timeout: [Function (anonymous)],
2025-08-10 10:45:31        finish: [Function: requestOnFinish]
2025-08-10 10:45:31      },
2025-08-10 10:45:31      _eventsCount: 7,
2025-08-10 10:45:31      _maxListeners: undefined,
2025-08-10 10:45:31      outputData: [],
2025-08-10 10:45:31      outputSize: 0,
2025-08-10 10:45:31      writable: true,
2025-08-10 10:45:31      destroyed: false,
2025-08-10 10:45:31      _last: false,
2025-08-10 10:45:31      chunkedEncoding: false,
2025-08-10 10:45:31      shouldKeepAlive: false,
2025-08-10 10:45:31      maxRequestsOnConnectionReached: false,
2025-08-10 10:45:31      _defaultKeepAlive: true,
2025-08-10 10:45:31      useChunkedEncodingByDefault: true,
2025-08-10 10:45:31      sendDate: false,
2025-08-10 10:45:31      _removedConnection: false,
2025-08-10 10:45:31      _removedContLen: false,
2025-08-10 10:45:31      _removedTE: false,
2025-08-10 10:45:31      strictContentLength: false,
2025-08-10 10:45:31      _contentLength: 129,
2025-08-10 10:45:31      _hasBody: true,
2025-08-10 10:45:31      _trailer: '',
2025-08-10 10:45:31      finished: true,
2025-08-10 10:45:31      _headerSent: true,
2025-08-10 10:45:31      _closed: false,
2025-08-10 10:45:31      _header: 'POST /v2/bot/message/reply HTTP/1.1\r\n' +
2025-08-10 10:45:31        'Accept: application/json, text/plain, */*\r\n' +
2025-08-10 10:45:31        'Content-Type: application/json\r\n' +
2025-08-10 10:45:31        'Authorization: Bearer +LATS/cSYCUN4VVSpU/2TOWpDXGyYl2os+C99MgPfEnAG5pHrmY3fEGJoMik7hddPGBV+hQcpnypK0bDjW3x4FfTq1Iohow/cd3+PrGnpP/mEzymfa0VcComebCYH5z0a5FHQRjiv7Ggw8t+FKOo0wdB04t89/1O/w1cDnyilFU=\r\n' +
2025-08-10 10:45:31        'User-Agent: axios/1.11.0\r\n' +
2025-08-10 10:45:31        'Content-Length: 129\r\n' +
2025-08-10 10:45:31        'Accept-Encoding: gzip, compress, deflate, br\r\n' +
2025-08-10 10:45:31        'Host: api.line.me\r\n' +
2025-08-10 10:45:31        'Connection: keep-alive\r\n' +
2025-08-10 10:45:31        '\r\n',
2025-08-10 10:45:31      _keepAliveTimeout: 0,
2025-08-10 10:45:31      _onPendingData: [Function: nop],
2025-08-10 10:45:31      agent: Agent {
2025-08-10 10:45:31        _events: [Object: null prototype],
2025-08-10 10:45:31        _eventsCount: 2,
2025-08-10 10:45:31        _maxListeners: undefined,
2025-08-10 10:45:31        options: [Object: null prototype],
2025-08-10 10:45:31        defaultPort: 443,
2025-08-10 10:45:31        protocol: 'https:',
2025-08-10 10:45:31        requests: [Object: null prototype] {},
2025-08-10 10:45:31        sockets: [Object: null prototype],
2025-08-10 10:45:31        freeSockets: [Object: null prototype] {},
2025-08-10 10:45:31  🚀 生產用戶，使用真實 LINE Service
2025-08-10 10:45:31  🔍 檢查 replyToken: reply_token_1754822724268
2025-08-10 10:45:31  ❌ 訊息回覆失敗: { message: 'Invalid reply token' }
2025-08-10 10:45:31  ❌ Webhook 處理失敗: AxiosError: Request failed with status code 400
2025-08-10 10:45:31      at settle (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:2090:12)
2025-08-10 10:45:31      at IncomingMessage.handleStreamEnd (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:3207:11)
2025-08-10 10:45:31      at IncomingMessage.emit (node:events:519:35)
2025-08-10 10:45:31      at endReadableNT (node:internal/streams/readable:1701:12)
2025-08-10 10:45:31      at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
2025-08-10 10:45:31      at Axios.request (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:4317:41)
2025-08-10 10:45:31      at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-10 10:45:31      at async Object.replyMessage (/opt/render/project/src/src/services/lineService.js:75:22)
2025-08-10 10:45:31      at async handleTextMessage (/opt/render/project/src/src/bot/webhook.js:149:5)
2025-08-10 10:45:31      at async handleWebhook (/opt/render/project/src/src/bot/webhook.js:438:13)
2025-08-10 10:45:31      at async /opt/render/project/src/src/index.js:34:5 {
2025-08-10 10:45:31    code: 'ERR_BAD_REQUEST',
2025-08-10 10:45:31    config: {
2025-08-10 10:45:31      transitional: {
2025-08-10 10:45:31        silentJSONParsing: true,
2025-08-10 10:45:31        forcedJSONParsing: true,
2025-08-10 10:45:31        clarifyTimeoutError: false
2025-08-10 10:45:31      },
2025-08-10 10:45:31      adapter: [ 'xhr', 'http', 'fetch' ],
2025-08-10 10:45:31      transformRequest: [ [Function: transformRequest] ],
2025-08-10 10:45:31      transformResponse: [ [Function: transformResponse] ],
2025-08-10 10:45:31      timeout: 0,
2025-08-10 10:45:31      xsrfCookieName: 'XSRF-TOKEN',
2025-08-10 10:45:31      xsrfHeaderName: 'X-XSRF-TOKEN',
2025-08-10 10:45:31      maxContentLength: -1,
2025-08-10 10:45:31      maxBodyLength: -1,
2025-08-10 10:45:31      env: { FormData: [Function [FormData]], Blob: [class Blob] },
2025-08-10 10:45:31      validateStatus: [Function: validateStatus],
2025-08-10 10:45:31      headers: Object [AxiosHeaders] {
2025-08-10 10:45:31        Accept: 'application/json, text/plain, */*',
2025-08-10 10:45:31        'Content-Type': 'application/json',
2025-08-10 10:45:31        Authorization: 'Bearer +LATS/cSYCUN4VVSpU/2TOWpDXGyYl2os+C99MgPfEnAG5pHrmY3fEGJoMik7hddPGBV+hQcpnypK0bDjW3x4FfTq1Iohow/cd3+PrGnpP/mEzymfa0VcComebCYH5z0a5FHQRjiv7Ggw8t+FKOo0wdB04t89/1O/w1cDnyilFU=',
2025-08-10 10:45:31        'User-Agent': 'axios/1.11.0',
2025-08-10 10:45:31        'Content-Length': '129',
2025-08-10 10:45:31        'Accept-Encoding': 'gzip, compress, deflate, br'
2025-08-10 10:45:31      },
2025-08-10 10:45:31      method: 'post',
2025-08-10 10:45:31      url: 'https://api.line.me/v2/bot/message/reply',
2025-08-10 10:45:31      data: '{"replyToken":"reply_token_1754822724268","messages":[{"type":"text","text":"處理訊息時發生錯誤，請稍後再試。"}]}',
2025-08-10 10:45:31      allowAbsoluteUrls: true
2025-08-10 10:45:31    },
2025-08-10 10:45:31    request: <ref *1> ClientRequest {
2025-08-10 10:45:31      _events: [Object: null prototype] {
2025-08-10 10:45:31        abort: [Function (anonymous)],
2025-08-10 10:45:31        aborted: [Function (anonymous)],
2025-08-10 10:45:31        connect: [Function (anonymous)],
2025-08-10 10:45:31        error: [Function (anonymous)],
2025-08-10 10:45:31        socket: [Function (anonymous)],
2025-08-10 10:45:31        timeout: [Function (anonymous)],
2025-08-10 10:45:31        finish: [Function: requestOnFinish]
2025-08-10 10:45:31      },
2025-08-10 10:45:31      _eventsCount: 7,
2025-08-10 10:45:31      _maxListeners: undefined,
2025-08-10 10:45:31      outputData: [],
2025-08-10 10:45:31      outputSize: 0,
2025-08-10 10:45:31      writable: true,
2025-08-10 10:45:31      destroyed: false,
2025-08-10 10:45:31      _last: false,
2025-08-10 10:45:31      chunkedEncoding: false,
2025-08-10 10:45:31      shouldKeepAlive: false,
2025-08-10 10:45:31      maxRequestsOnConnectionReached: false,
2025-08-10 10:45:31      _defaultKeepAlive: true,
2025-08-10 10:45:31      useChunkedEncodingByDefault: true,
2025-08-10 10:45:31      sendDate: false,
2025-08-10 10:45:31      _removedConnection: false,
2025-08-10 10:45:31      _removedContLen: false,
2025-08-10 10:45:31      _removedTE: false,
2025-08-10 10:45:31      strictContentLength: false,
2025-08-10 10:45:31      _contentLength: 129,
2025-08-10 10:45:31      _hasBody: true,
2025-08-10 10:45:31      _trailer: '',
2025-08-10 10:45:31      finished: true,
2025-08-10 10:45:31      _headerSent: true,
2025-08-10 10:45:31      _closed: false,
2025-08-10 10:45:31      _header: 'POST /v2/bot/message/reply HTTP/1.1\r\n' +
2025-08-10 10:45:31        'Accept: application/json, text/plain, */*\r\n' +
2025-08-10 10:45:31        'Content-Type: application/json\r\n' +
2025-08-10 10:45:31        'Authorization: Bearer +LATS/cSYCUN4VVSpU/2TOWpDXGyYl2os+C99MgPfEnAG5pHrmY3fEGJoMik7hddPGBV+hQcpnypK0bDjW3x4FfTq1Iohow/cd3+PrGnpP/mEzymfa0VcComebCYH5z0a5FHQRjiv7Ggw8t+FKOo0wdB04t89/1O/w1cDnyilFU=\r\n' +
2025-08-10 10:45:31        'User-Agent: axios/1.11.0\r\n' +
2025-08-10 10:45:31        'Content-Length: 129\r\n' +
2025-08-10 10:45:31        'Accept-Encoding: gzip, compress, deflate, br\r\n' +
2025-08-10 10:45:31        'Host: api.line.me\r\n' +
2025-08-10 10:45:31        'Connection: keep-alive\r\n' +
2025-08-10 10:45:31        '\r\n',
2025-08-10 10:45:31      _keepAliveTimeout: 0,
2025-08-10 10:45:31      _onPendingData: [Function: nop],
2025-08-10 10:45:31      agent: Agent {
2025-08-10 10:45:31        _events: [Object: null prototype],
2025-08-10 10:45:31        _eventsCount: 2,
2025-08-10 10:45:31        _maxListeners: undefined,
2025-08-10 10:45:31        options: [Object: null prototype],
2025-08-10 10:45:31        defaultPort: 443,
2025-08-10 10:45:31        protocol: 'https:',
2025-08-10 10:45:31        requests: [Object: null prototype] {},
2025-08-10 10:45:31        sockets: [Object: null prototype],
2025-08-10 10:45:31        freeSockets: [Object: null prototype] {},
2025-08-10 10:45:31  🚀 生產用戶，使用真實 LINE Service
2025-08-10 10:45:31  🔍 檢查 replyToken: reply_token_1754822724268
2025-08-10 10:45:31  ❌ 訊息回覆失敗: { message: 'Invalid reply token' }
2025-08-10 10:45:31  ❌ Webhook 處理失敗: AxiosError: Request failed with status code 400
2025-08-10 10:45:31      at settle (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:2090:12)
2025-08-10 10:45:31      at IncomingMessage.handleStreamEnd (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:3207:11)
2025-08-10 10:45:31      at IncomingMessage.emit (node:events:519:35)
2025-08-10 10:45:31      at endReadableNT (node:internal/streams/readable:1701:12)
2025-08-10 10:45:31      at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
2025-08-10 10:45:31      at Axios.request (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:4317:41)
2025-08-10 10:45:31      at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-10 10:45:31      at async Object.replyMessage (/opt/render/project/src/src/services/lineService.js:75:22)
2025-08-10 10:45:31      at async handleTextMessage (/opt/render/project/src/src/bot/webhook.js:149:5)
2025-08-10 10:45:31      at async handleWebhook (/opt/render/project/src/src/bot/webhook.js:438:13)
2025-08-10 10:45:31      at async /opt/render/project/src/src/index.js:34:5 {
2025-08-10 10:45:31    code: 'ERR_BAD_REQUEST',
2025-08-10 10:45:31    config: {
2025-08-10 10:45:31      transitional: {
2025-08-10 10:45:31        silentJSONParsing: true,
2025-08-10 10:45:31        forcedJSONParsing: true,
2025-08-10 10:45:31        clarifyTimeoutError: false
2025-08-10 10:45:31      },
2025-08-10 10:45:31      adapter: [ 'xhr', 'http', 'fetch' ],
2025-08-10 10:45:31      transformRequest: [ [Function: transformRequest] ],
2025-08-10 10:45:31      transformResponse: [ [Function: transformResponse] ],
2025-08-10 10:45:31      timeout: 0,
2025-08-10 10:45:31      xsrfCookieName: 'XSRF-TOKEN',
2025-08-10 10:45:31      xsrfHeaderName: 'X-XSRF-TOKEN',
2025-08-10 10:45:31      maxContentLength: -1,
2025-08-10 10:45:31      maxBodyLength: -1,
2025-08-10 10:45:31      env: { FormData: [Function [FormData]], Blob: [class Blob] },
2025-08-10 10:45:31      validateStatus: [Function: validateStatus],
2025-08-10 10:45:31      headers: Object [AxiosHeaders] {
2025-08-10 10:45:31        Accept: 'application/json, text/plain, */*',
2025-08-10 10:45:31        'Content-Type': 'application/json',
2025-08-10 10:45:31        Authorization: 'Bearer +LATS/cSYCUN4VVSpU/2TOWpDXGyYl2os+C99MgPfEnAG5pHrmY3fEGJoMik7hddPGBV+hQcpnypK0bDjW3x4FfTq1Iohow/cd3+PrGnpP/mEzymfa0VcComebCYH5z0a5FHQRjiv7Ggw8t+FKOo0wdB04t89/1O/w1cDnyilFU=',
2025-08-10 10:45:31        'User-Agent': 'axios/1.11.0',
2025-08-10 10:45:31        'Content-Length': '129',
2025-08-10 10:45:31        'Accept-Encoding': 'gzip, compress, deflate, br'
2025-08-10 10:45:31      },
2025-08-10 10:45:31      method: 'post',
2025-08-10 10:45:31      url: 'https://api.line.me/v2/bot/message/reply',
2025-08-10 10:45:31      data: '{"replyToken":"reply_token_1754822724268","messages":[{"type":"text","text":"處理訊息時發生錯誤，請稍後再試。"}]}',
2025-08-10 10:45:31      allowAbsoluteUrls: true
2025-08-10 10:45:31    },
2025-08-10 10:45:31    request: <ref *1> ClientRequest {
2025-08-10 10:45:31      _events: [Object: null prototype] {
2025-08-10 10:45:31        abort: [Function (anonymous)],
2025-08-10 10:45:31        aborted: [Function (anonymous)],
2025-08-10 10:45:31        connect: [Function (anonymous)],
2025-08-10 10:45:31        error: [Function (anonymous)],
2025-08-10 10:45:31        socket: [Function (anonymous)],
2025-08-10 10:45:31        timeout: [Function (anonymous)],
2025-08-10 10:45:31        finish: [Function: requestOnFinish]
2025-08-10 10:45:31      },
2025-08-10 10:45:31      _eventsCount: 7,
2025-08-10 10:45:31      _maxListeners: undefined,
2025-08-10 10:45:31      outputData: [],
2025-08-10 10:45:31      outputSize: 0,
2025-08-10 10:45:31      writable: true,
2025-08-10 10:45:31      destroyed: false,
2025-08-10 10:45:31      _last: false,
2025-08-10 10:45:31      chunkedEncoding: false,
2025-08-10 10:45:31      shouldKeepAlive: false,
2025-08-10 10:45:31      maxRequestsOnConnectionReached: false,
2025-08-10 10:45:31      _defaultKeepAlive: true,
2025-08-10 10:45:31      useChunkedEncodingByDefault: true,
2025-08-10 10:45:31      sendDate: false,
2025-08-10 10:45:31      _removedConnection: false,
2025-08-10 10:45:31      _removedContLen: false,
2025-08-10 10:45:31      _removedTE: false,
2025-08-10 10:45:31      strictContentLength: false,
2025-08-10 10:45:31      _contentLength: 129,
2025-08-10 10:45:31      _hasBody: true,
2025-08-10 10:45:31      _trailer: '',
2025-08-10 10:45:31      finished: true,
2025-08-10 10:45:31      _headerSent: true,
2025-08-10 10:45:31      _closed: false,
2025-08-10 10:45:31      _header: 'POST /v2/bot/message/reply HTTP/1.1\r\n' +
2025-08-10 10:45:31        'Accept: application/json, text/plain, */*\r\n' +
2025-08-10 10:45:31        'Content-Type: application/json\r\n' +
2025-08-10 10:45:31        'Authorization: Bearer +LATS/cSYCUN4VVSpU/2TOWpDXGyYl2os+C99MgPfEnAG5pHrmY3fEGJoMik7hddPGBV+hQcpnypK0bDjW3x4FfTq1Iohow/cd3+PrGnpP/mEzymfa0VcComebCYH5z0a5FHQRjiv7Ggw8t+FKOo0wdB04t89/1O/w1cDnyilFU=\r\n' +
2025-08-10 10:45:31        'User-Agent: axios/1.11.0\r\n' +
2025-08-10 10:45:31        'Content-Length: 129\r\n' +
2025-08-10 10:45:31        'Accept-Encoding: gzip, compress, deflate, br\r\n' +
2025-08-10 10:45:31        'Host: api.line.me\r\n' +
2025-08-10 10:45:31        'Connection: keep-alive\r\n' +
2025-08-10 10:45:31        '\r\n',
2025-08-10 10:45:31      _keepAliveTimeout: 0,
2025-08-10 10:45:31      _onPendingData: [Function: nop],
2025-08-10 10:45:31      agent: Agent {
2025-08-10 10:45:31        _events: [Object: null prototype],
2025-08-10 10:45:31        _eventsCount: 2,
2025-08-10 10:45:31        _maxListeners: undefined,
2025-08-10 10:45:31        options: [Object: null prototype],
2025-08-10 10:45:31        defaultPort: 443,
2025-08-10 10:45:31        protocol: 'https:',
2025-08-10 10:45:31        requests: [Object: null prototype] {},
2025-08-10 10:45:31        sockets: [Object: null prototype],
2025-08-10 10:45:31        freeSockets: [Object: null prototype] {},
2025-08-10 10:45:31  🚀 生產用戶，使用真實 LINE Service
2025-08-10 10:45:31  🔍 檢查 replyToken: reply_token_1754822724268
2025-08-10 10:45:31  ❌ 訊息回覆失敗: { message: 'Invalid reply token' }
2025-08-10 10:45:31  ❌ Webhook 處理失敗: AxiosError: Request failed with status code 400
2025-08-10 10:45:31      at settle (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:2090:12)
2025-08-10 10:45:31      at IncomingMessage.handleStreamEnd (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:3207:11)
2025-08-10 10:45:31      at IncomingMessage.emit (node:events:519:35)
2025-08-10 10:45:31      at endReadableNT (node:internal/streams/readable:1701:12)
2025-08-10 10:45:31      at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
2025-08-10 10:45:31      at Axios.request (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:4317:41)
2025-08-10 10:45:31      at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-10 10:45:31      at async Object.replyMessage (/opt/render/project/src/src/services/lineService.js:75:22)
2025-08-10 10:45:31      at async handleTextMessage (/opt/render/project/src/src/bot/webhook.js:149:5)
2025-08-10 10:45:31      at async handleWebhook (/opt/render/project/src/src/bot/webhook.js:438:13)
2025-08-10 10:45:31      at async /opt/render/project/src/src/index.js:34:5 {
2025-08-10 10:45:31    code: 'ERR_BAD_REQUEST',
2025-08-10 10:45:31    config: {
2025-08-10 10:45:31      transitional: {
2025-08-10 10:45:31        silentJSONParsing: true,
2025-08-10 10:45:31        forcedJSONParsing: true,
2025-08-10 10:45:31        clarifyTimeoutError: false
2025-08-10 10:45:31      },
2025-08-10 10:45:31      adapter: [ 'xhr', 'http', 'fetch' ],
2025-08-10 10:45:31      transformRequest: [ [Function: transformRequest] ],
2025-08-10 10:45:31      transformResponse: [ [Function: transformResponse] ],
2025-08-10 10:45:31      timeout: 0,
2025-08-10 10:45:31      xsrfCookieName: 'XSRF-TOKEN',
2025-08-10 10:45:31      xsrfHeaderName: 'X-XSRF-TOKEN',
2025-08-10 10:45:31      maxContentLength: -1,
2025-08-10 10:45:31      maxBodyLength: -1,
2025-08-10 10:45:31      env: { FormData: [Function [FormData]], Blob: [class Blob] },
2025-08-10 10:45:31      validateStatus: [Function: validateStatus],
2025-08-10 10:45:31      headers: Object [AxiosHeaders] {
2025-08-10 10:45:31        Accept: 'application/json, text/plain, */*',
2025-08-10 10:45:31        'Content-Type': 'application/json',
2025-08-10 10:45:31        Authorization: 'Bearer +LATS/cSYCUN4VVSpU/2TOWpDXGyYl2os+C99MgPfEnAG5pHrmY3fEGJoMik7hddPGBV+hQcpnypK0bDjW3x4FfTq1Iohow/cd3+PrGnpP/mEzymfa0VcComebCYH5z0a5FHQRjiv7Ggw8t+FKOo0wdB04t89/1O/w1cDnyilFU=',
2025-08-10 10:45:31        'User-Agent': 'axios/1.11.0',
2025-08-10 10:45:31        'Content-Length': '129',
2025-08-10 10:45:31        'Accept-Encoding': 'gzip, compress, deflate, br'
2025-08-10 10:45:31      },
2025-08-10 10:45:31      method: 'post',
2025-08-10 10:45:31      url: 'https://api.line.me/v2/bot/message/reply',
2025-08-10 10:45:31      data: '{"replyToken":"reply_token_1754822724268","messages":[{"type":"text","text":"處理訊息時發生錯誤，請稍後再試。"}]}',
2025-08-10 10:45:31      allowAbsoluteUrls: true
2025-08-10 10:45:31    },
2025-08-10 10:45:31    request: <ref *1> ClientRequest {
2025-08-10 10:45:31      _events: [Object: null prototype] {
2025-08-10 10:45:31        abort: [Function (anonymous)],
2025-08-10 10:45:31        aborted: [Function (anonymous)],
2025-08-10 10:45:31        connect: [Function (anonymous)],
2025-08-10 10:45:31        error: [Function (anonymous)],
2025-08-10 10:45:31        socket: [Function (anonymous)],
2025-08-10 10:45:31        timeout: [Function (anonymous)],
2025-08-10 10:45:31        finish: [Function: requestOnFinish]
2025-08-10 10:45:31      },
2025-08-10 10:45:31      _eventsCount: 7,
2025-08-10 10:45:31      _maxListeners: undefined,
2025-08-10 10:45:31      outputData: [],
2025-08-10 10:45:31      outputSize: 0,
2025-08-10 10:45:31      writable: true,
2025-08-10 10:45:31      destroyed: false,
2025-08-10 10:45:31      _last: false,
2025-08-10 10:45:31      chunkedEncoding: false,
2025-08-10 10:45:31      shouldKeepAlive: false,
2025-08-10 10:45:31      maxRequestsOnConnectionReached: false,
2025-08-10 10:45:31      _defaultKeepAlive: true,
2025-08-10 10:45:31      useChunkedEncodingByDefault: true,
2025-08-10 10:45:31      sendDate: false,
2025-08-10 10:45:31      _removedConnection: false,
2025-08-10 10:45:31      _removedContLen: false,
2025-08-10 10:45:31      _removedTE: false,
2025-08-10 10:45:31      strictContentLength: false,
2025-08-10 10:45:31      _contentLength: 129,
2025-08-10 10:45:31      _hasBody: true,
2025-08-10 10:45:31      _trailer: '',
2025-08-10 10:45:31      finished: true,
2025-08-10 10:45:31      _headerSent: true,
2025-08-10 10:45:31      _closed: false,
2025-08-10 10:45:31      _header: 'POST /v2/bot/message/reply HTTP/1.1\r\n' +
2025-08-10 10:45:31        'Accept: application/json, text/plain, */*\r\n' +
2025-08-10 10:45:31        'Content-Type: application/json\r\n' +
2025-08-10 10:45:31        'Authorization: Bearer +LATS/cSYCUN4VVSpU/2TOWpDXGyYl2os+C99MgPfEnAG5pHrmY3fEGJoMik7hddPGBV+hQcpnypK0bDjW3x4FfTq1Iohow/cd3+PrGnpP/mEzymfa0VcComebCYH5z0a5FHQRjiv7Ggw8t+FKOo0wdB04t89/1O/w1cDnyilFU=\r\n' +
2025-08-10 10:45:31        'User-Agent: axios/1.11.0\r\n' +
2025-08-10 10:45:31        'Content-Length: 129\r\n' +
2025-08-10 10:45:31        'Accept-Encoding: gzip, compress, deflate, br\r\n' +
2025-08-10 10:45:31        'Host: api.line.me\r\n' +
2025-08-10 10:45:31        'Connection: keep-alive\r\n' +
2025-08-10 10:45:31        '\r\n',
2025-08-10 10:45:31      _keepAliveTimeout: 0,
2025-08-10 10:45:31      _onPendingData: [Function: nop],
2025-08-10 10:45:31      agent: Agent {
2025-08-10 10:45:31        _events: [Object: null prototype],
2025-08-10 10:45:31        _eventsCount: 2,
2025-08-10 10:45:31        _maxListeners: undefined,
2025-08-10 10:45:31        options: [Object: null prototype],
2025-08-10 10:45:31        defaultPort: 443,
2025-08-10 10:45:31        protocol: 'https:',
2025-08-10 10:45:31        requests: [Object: null prototype] {},
2025-08-10 10:45:31        sockets: [Object: null prototype],
2025-08-10 10:45:31        freeSockets: [Object: null prototype] {},
2025-08-10 10:45:31  🚀 生產用戶，使用真實 LINE Service
2025-08-10 10:45:31  🔍 檢查 replyToken: reply_token_1754822724268
2025-08-10 10:45:31  ❌ 訊息回覆失敗: { message: 'Invalid reply token' }
2025-08-10 10:45:31  ❌ Webhook 處理失敗: AxiosError: Request failed with status code 400
2025-08-10 10:45:31      at settle (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:2090:12)
2025-08-10 10:45:31      at IncomingMessage.handleStreamEnd (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:3207:11)
2025-08-10 10:45:31      at IncomingMessage.emit (node:events:519:35)
2025-08-10 10:45:31      at endReadableNT (node:internal/streams/readable:1701:12)
2025-08-10 10:45:31      at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
2025-08-10 10:45:31      at Axios.request (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:4317:41)
2025-08-10 10:45:31      at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-10 10:45:31      at async Object.replyMessage (/opt/render/project/src/src/services/lineService.js:75:22)
2025-08-10 10:45:31      at async handleTextMessage (/opt/render/project/src/src/bot/webhook.js:149:5)
2025-08-10 10:45:31      at async handleWebhook (/opt/render/project/src/src/bot/webhook.js:438:13)
2025-08-10 10:45:31      at async /opt/render/project/src/src/index.js:34:5 {
2025-08-10 10:45:31    code: 'ERR_BAD_REQUEST',
2025-08-10 10:45:31    config: {
2025-08-10 10:45:31      transitional: {
2025-08-10 10:45:31        silentJSONParsing: true,
2025-08-10 10:45:31        forcedJSONParsing: true,
2025-08-10 10:45:31        clarifyTimeoutError: false
2025-08-10 10:45:31      },
2025-08-10 10:45:31      adapter: [ 'xhr', 'http', 'fetch' ],
2025-08-10 10:45:31      transformRequest: [ [Function: transformRequest] ],
2025-08-10 10:45:31      transformResponse: [ [Function: transformResponse] ],
2025-08-10 10:45:31      timeout: 0,
2025-08-10 10:45:31      xsrfCookieName: 'XSRF-TOKEN',
2025-08-10 10:45:31      xsrfHeaderName: 'X-XSRF-TOKEN',
2025-08-10 10:45:31      maxContentLength: -1,
2025-08-10 10:45:31      maxBodyLength: -1,
2025-08-10 10:45:31      env: { FormData: [Function [FormData]], Blob: [class Blob] },
2025-08-10 10:45:31      validateStatus: [Function: validateStatus],
2025-08-10 10:45:31      headers: Object [AxiosHeaders] {
2025-08-10 10:45:31        Accept: 'application/json, text/plain, */*',
2025-08-10 10:45:31        'Content-Type': 'application/json',
2025-08-10 10:45:31        Authorization: 'Bearer +LATS/cSYCUN4VVSpU/2TOWpDXGyYl2os+C99MgPfEnAG5pHrmY3fEGJoMik7hddPGBV+hQcpnypK0bDjW3x4FfTq1Iohow/cd3+PrGnpP/mEzymfa0VcComebCYH5z0a5FHQRjiv7Ggw8t+FKOo0wdB04t89/1O/w1cDnyilFU=',
2025-08-10 10:45:31        'User-Agent': 'axios/1.11.0',
2025-08-10 10:45:31        'Content-Length': '129',
2025-08-10 10:45:31        'Accept-Encoding': 'gzip, compress, deflate, br'
2025-08-10 10:45:31      },
2025-08-10 10:45:31      method: 'post',
2025-08-10 10:45:31      url: 'https://api.line.me/v2/bot/message/reply',
2025-08-10 10:45:31      data: '{"replyToken":"reply_token_1754822724268","messages":[{"type":"text","text":"處理訊息時發生錯誤，請稍後再試。"}]}',
2025-08-10 10:45:31      allowAbsoluteUrls: true
2025-08-10 10:45:31    },
2025-08-10 10:45:31    request: <ref *1> ClientRequest {
2025-08-10 10:45:31      _events: [Object: null prototype] {
2025-08-10 10:45:31        abort: [Function (anonymous)],
2025-08-10 10:45:31        aborted: [Function (anonymous)],
2025-08-10 10:45:31        connect: [Function (anonymous)],
2025-08-10 10:45:31        error: [Function (anonymous)],
2025-08-10 10:45:31        socket: [Function (anonymous)],
2025-08-10 10:45:31        timeout: [Function (anonymous)],
2025-08-10 10:45:31        finish: [Function: requestOnFinish]
2025-08-10 10:45:31      },
2025-08-10 10:45:31      _eventsCount: 7,
2025-08-10 10:45:31      _maxListeners: undefined,
2025-08-10 10:45:31      outputData: [],
2025-08-10 10:45:31      outputSize: 0,
2025-08-10 10:45:31      writable: true,
2025-08-10 10:45:31      destroyed: false,
2025-08-10 10:45:31      _last: false,
2025-08-10 10:45:31      chunkedEncoding: false,
2025-08-10 10:45:31      shouldKeepAlive: false,
2025-08-10 10:45:31      maxRequestsOnConnectionReached: false,
2025-08-10 10:45:31      _defaultKeepAlive: true,
2025-08-10 10:45:31      useChunkedEncodingByDefault: true,
2025-08-10 10:45:31      sendDate: false,
2025-08-10 10:45:31      _removedConnection: false,
2025-08-10 10:45:31      _removedContLen: false,
2025-08-10 10:45:31      _removedTE: false,
2025-08-10 10:45:31      strictContentLength: false,
2025-08-10 10:45:31      _contentLength: 129,
2025-08-10 10:45:31      _hasBody: true,
2025-08-10 10:45:31      _trailer: '',
2025-08-10 10:45:31      finished: true,
2025-08-10 10:45:31      _headerSent: true,
2025-08-10 10:45:31      _closed: false,
2025-08-10 10:45:31      _header: 'POST /v2/bot/message/reply HTTP/1.1\r\n' +
2025-08-10 10:45:31        'Accept: application/json, text/plain, */*\r\n' +
2025-08-10 10:45:31        'Content-Type: application/json\r\n' +
2025-08-10 10:45:31        'Authorization: Bearer +LATS/cSYCUN4VVSpU/2TOWpDXGyYl2os+C99MgPfEnAG5pHrmY3fEGJoMik7hddPGBV+hQcpnypK0bDjW3x4FfTq1Iohow/cd3+PrGnpP/mEzymfa0VcComebCYH5z0a5FHQRjiv7Ggw8t+FKOo0wdB04t89/1O/w1cDnyilFU=\r\n' +
2025-08-10 10:45:31        'User-Agent: axios/1.11.0\r\n' +
2025-08-10 10:45:31        'Content-Length: 129\r\n' +
2025-08-10 10:45:31        'Accept-Encoding: gzip, compress, deflate, br\r\n' +
2025-08-10 10:45:31        'Host: api.line.me\r\n' +
2025-08-10 10:45:31        'Connection: keep-alive\r\n' +
2025-08-10 10:45:31        '\r\n',
2025-08-10 10:45:31      _keepAliveTimeout: 0,
2025-08-10 10:45:31      _onPendingData: [Function: nop],
2025-08-10 10:45:31      agent: Agent {
2025-08-10 10:45:31        _events: [Object: null prototype],
2025-08-10 10:45:31        _eventsCount: 2,
2025-08-10 10:45:31        _maxListeners: undefined,
2025-08-10 10:45:31        options: [Object: null prototype],
2025-08-10 10:45:31        defaultPort: 443,
2025-08-10 10:45:31        protocol: 'https:',
2025-08-10 10:45:31        requests: [Object: null prototype] {},
2025-08-10 10:45:31        sockets: [Object: null prototype],
2025-08-10 10:45:31        freeSockets: [Object: null prototype] {},
2025-08-10 10:45:31  🚀 生產用戶，使用真實 LINE Service
2025-08-10 10:45:31  🔍 檢查 replyToken: reply_token_1754822724268
2025-08-10 10:45:31  ❌ 訊息回覆失敗: { message: 'Invalid reply token' }
2025-08-10 10:45:31  ❌ Webhook 處理失敗: AxiosError: Request failed with status code 400
2025-08-10 10:45:31      at settle (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:2090:12)
2025-08-10 10:45:31      at IncomingMessage.handleStreamEnd (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:3207:11)
2025-08-10 10:45:31      at IncomingMessage.emit (node:events:519:35)
2025-08-10 10:45:31      at endReadableNT (node:internal/streams/readable:1701:12)
2025-08-10 10:45:31      at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
2025-08-10 10:45:31      at Axios.request (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:4317:41)
2025-08-10 10:45:31      at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-10 10:45:31      at async Object.replyMessage (/opt/render/project/src/src/services/lineService.js:75:22)
2025-08-10 10:45:31      at async handleTextMessage (/opt/render/project/src/src/bot/webhook.js:149:5)
2025-08-10 10:45:31      at async handleWebhook (/opt/render/project/src/src/bot/webhook.js:438:13)
2025-08-10 10:45:31      at async /opt/render/project/src/src/index.js:34:5 {
2025-08-10 10:45:31    code: 'ERR_BAD_REQUEST',
2025-08-10 10:45:31    config: {
2025-08-10 10:45:31      transitional: {
2025-08-10 10:45:31        silentJSONParsing: true,
2025-08-10 10:45:31        forcedJSONParsing: true,
2025-08-10 10:45:31        clarifyTimeoutError: false
2025-08-10 10:45:31      },
2025-08-10 10:45:31      adapter: [ 'xhr', 'http', 'fetch' ],
2025-08-10 10:45:31      transformRequest: [ [Function: transformRequest] ],
2025-08-10 10:45:31      transformResponse: [ [Function: transformResponse] ],
2025-08-10 10:45:31      timeout: 0,
2025-08-10 10:45:31      xsrfCookieName: 'XSRF-TOKEN',
2025-08-10 10:45:31      xsrfHeaderName: 'X-XSRF-TOKEN',
2025-08-10 10:45:31      maxContentLength: -1,
2025-08-10 10:45:31      maxBodyLength: -1,
2025-08-10 10:45:31      env: { FormData: [Function [FormData]], Blob: [class Blob] },
2025-08-10 10:45:31      validateStatus: [Function: validateStatus],
2025-08-10 10:45:31      headers: Object [AxiosHeaders] {
2025-08-10 10:45:31        Accept: 'application/json, text/plain, */*',
2025-08-10 10:45:31        'Content-Type': 'application/json',
2025-08-10 10:45:31        Authorization: 'Bearer +LATS/cSYCUN4VVSpU/2TOWpDXGyYl2os+C99MgPfEnAG5pHrmY3fEGJoMik7hddPGBV+hQcpnypK0bDjW3x4FfTq1Iohow/cd3+PrGnpP/mEzymfa0VcComebCYH5z0a5FHQRjiv7Ggw8t+FKOo0wdB04t89/1O/w1cDnyilFU=',
2025-08-10 10:45:31        'User-Agent': 'axios/1.11.0',
2025-08-10 10:45:31        'Content-Length': '129',
2025-08-10 10:45:31        'Accept-Encoding': 'gzip, compress, deflate, br'
2025-08-10 10:45:31      },
2025-08-10 10:45:31      method: 'post',
2025-08-10 10:45:31      url: 'https://api.line.me/v2/bot/message/reply',
2025-08-10 10:45:31      data: '{"replyToken":"reply_token_1754822724268","messages":[{"type":"text","text":"處理訊息時發生錯誤，請稍後再試。"}]}',
2025-08-10 10:45:31      allowAbsoluteUrls: true
2025-08-10 10:45:31    },
2025-08-10 10:45:31    request: <ref *1> ClientRequest {
2025-08-10 10:45:31      _events: [Object: null prototype] {
2025-08-10 10:45:31        abort: [Function (anonymous)],
2025-08-10 10:45:31        aborted: [Function (anonymous)],
2025-08-10 10:45:31        connect: [Function (anonymous)],
2025-08-10 10:45:31        error: [Function (anonymous)],
2025-08-10 10:45:31        socket: [Function (anonymous)],
2025-08-10 10:45:31        timeout: [Function (anonymous)],
2025-08-10 10:45:31        finish: [Function: requestOnFinish]
2025-08-10 10:45:31      },
2025-08-10 10:45:31      _eventsCount: 7,
2025-08-10 10:45:31      _maxListeners: undefined,
2025-08-10 10:45:31      outputData: [],
2025-08-10 10:45:31      outputSize: 0,
2025-08-10 10:45:31      writable: true,
2025-08-10 10:45:31      destroyed: false,
2025-08-10 10:45:31      _last: false,
2025-08-10 10:45:31      chunkedEncoding: false,
2025-08-10 10:45:31      shouldKeepAlive: false,
2025-08-10 10:45:31      maxRequestsOnConnectionReached: false,
2025-08-10 10:45:31      _defaultKeepAlive: true,
2025-08-10 10:45:31      useChunkedEncodingByDefault: true,
2025-08-10 10:45:31      sendDate: false,
2025-08-10 10:45:31      _removedConnection: false,
2025-08-10 10:45:31      _removedContLen: false,
2025-08-10 10:45:31      _removedTE: false,
2025-08-10 10:45:31      strictContentLength: false,
2025-08-10 10:45:31      _contentLength: 129,
2025-08-10 10:45:31      _hasBody: true,
2025-08-10 10:45:31      _trailer: '',
2025-08-10 10:45:31      finished: true,
2025-08-10 10:45:31      _headerSent: true,
2025-08-10 10:45:31      _closed: false,
2025-08-10 10:45:31      _header: 'POST /v2/bot/message/reply HTTP/1.1\r\n' +
2025-08-10 10:45:31        'Accept: application/json, text/plain, */*\r\n' +
2025-08-10 10:45:31        'Content-Type: application/json\r\n' +
2025-08-10 10:45:31        'Authorization: Bearer +LATS/cSYCUN4VVSpU/2TOWpDXGyYl2os+C99MgPfEnAG5pHrmY3fEGJoMik7hddPGBV+hQcpnypK0bDjW3x4FfTq1Iohow/cd3+PrGnpP/mEzymfa0VcComebCYH5z0a5FHQRjiv7Ggw8t+FKOo0wdB04t89/1O/w1cDnyilFU=\r\n' +
2025-08-10 10:45:31        'User-Agent: axios/1.11.0\r\n' +
2025-08-10 10:45:31        'Content-Length: 129\r\n' +
2025-08-10 10:45:31        'Accept-Encoding: gzip, compress, deflate, br\r\n' +
2025-08-10 10:45:31        'Host: api.line.me\r\n' +
2025-08-10 10:45:31        'Connection: keep-alive\r\n' +
2025-08-10 10:45:31        '\r\n',
2025-08-10 10:45:31      _keepAliveTimeout: 0,
2025-08-10 10:45:31      _onPendingData: [Function: nop],
2025-08-10 10:45:31      agent: Agent {
2025-08-10 10:45:31        _events: [Object: null prototype],
2025-08-10 10:45:31        _eventsCount: 2,
2025-08-10 10:45:31        _maxListeners: undefined,
2025-08-10 10:45:31        options: [Object: null prototype],
2025-08-10 10:45:31        defaultPort: 443,
2025-08-10 10:45:31        protocol: 'https:',
2025-08-10 10:45:31        requests: [Object: null prototype] {},
2025-08-10 10:45:31        sockets: [Object: null prototype],
2025-08-10 10:45:31        freeSockets: [Object: null prototype] {},
2025-08-10 10:45:31  🚀 生產用戶，使用真實 LINE Service
2025-08-10 10:45:31  🔍 檢查 replyToken: reply_token_1754822724268
2025-08-10 10:45:31  ❌ 訊息回覆失敗: { message: 'Invalid reply token' }
2025-08-10 10:45:31  ❌ Webhook 處理失敗: AxiosError: Request failed with status code 400
2025-08-10 10:45:31      at settle (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:2090:12)
2025-08-10 10:45:31      at IncomingMessage.handleStreamEnd (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:3207:11)
2025-08-10 10:45:31      at IncomingMessage.emit (node:events:519:35)
2025-08-10 10:45:31      at endReadableNT (node:internal/streams/readable:1701:12)
2025-08-10 10:45:31      at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
2025-08-10 10:45:31      at Axios.request (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:4317:41)
2025-08-10 10:45:31      at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-10 10:45:31      at async Object.replyMessage (/opt/render/project/src/src/services/lineService.js:75:22)
2025-08-10 10:45:31      at async handleTextMessage (/opt/render/project/src/src/bot/webhook.js:149:5)
2025-08-10 10:45:31      at async handleWebhook (/opt/render/project/src/src/bot/webhook.js:438:13)
2025-08-10 10:45:31      at async /opt/render/project/src/src/index.js:34:5 {
2025-08-10 10:45:31    code: 'ERR_BAD_REQUEST',
2025-08-10 10:45:31    config: {
2025-08-10 10:45:31      transitional: {
2025-08-10 10:45:31        silentJSONParsing: true,
2025-08-10 10:45:31        forcedJSONParsing: true,
2025-08-10 10:45:31        clarifyTimeoutError: false
2025-08-10 10:45:31      },
2025-08-10 10:45:31      adapter: [ 'xhr', 'http', 'fetch' ],
2025-08-10 10:45:31      transformRequest: [ [Function: transformRequest] ],
2025-08-10 10:45:31      transformResponse: [ [Function: transformResponse] ],
2025-08-10 10:45:31      timeout: 0,
2025-08-10 10:45:31      xsrfCookieName: 'XSRF-TOKEN',
2025-08-10 10:45:31      xsrfHeaderName: 'X-XSRF-TOKEN',
2025-08-10 10:45:31      maxContentLength: -1,
2025-08-10 10:45:31      maxBodyLength: -1,
2025-08-10 10:45:31      env: { FormData: [Function [FormData]], Blob: [class Blob] },
2025-08-10 10:45:31      validateStatus: [Function: validateStatus],
2025-08-10 10:45:31      headers: Object [AxiosHeaders] {
2025-08-10 10:45:31        Accept: 'application/json, text/plain, */*',
2025-08-10 10:45:31        'Content-Type': 'application/json',
2025-08-10 10:45:31        Authorization: 'Bearer +LATS/cSYCUN4VVSpU/2TOWpDXGyYl2os+C99MgPfEnAG5pHrmY3fEGJoMik7hddPGBV+hQcpnypK0bDjW3x4FfTq1Iohow/cd3+PrGnpP/mEzymfa0VcComebCYH5z0a5FHQRjiv7Ggw8t+FKOo0wdB04t89/1O/w1cDnyilFU=',
2025-08-10 10:45:31        'User-Agent': 'axios/1.11.0',
2025-08-10 10:45:31        'Content-Length': '129',
2025-08-10 10:45:31        'Accept-Encoding': 'gzip, compress, deflate, br'
2025-08-10 10:45:31      },
2025-08-10 10:45:31      method: 'post',
2025-08-10 10:45:31      url: 'https://api.line.me/v2/bot/message/reply',
2025-08-10 10:45:31      data: '{"replyToken":"reply_token_1754822724268","messages":[{"type":"text","text":"處理訊息時發生錯誤，請稍後再試。"}]}',
2025-08-10 10:45:31      allowAbsoluteUrls: true
2025-08-10 10:45:31    },
2025-08-10 10:45:31    request: <ref *1> ClientRequest {
2025-08-10 10:45:31      _events: [Object: null prototype] {
2025-08-10 10:45:31        abort: [Function (anonymous)],
2025-08-10 10:45:31        aborted: [Function (anonymous)],
2025-08-10 10:45:31        connect: [Function (anonymous)],
2025-08-10 10:45:31        error: [Function (anonymous)],
2025-08-10 10:45:31        socket: [Function (anonymous)],
2025-08-10 10:45:31        timeout: [Function (anonymous)],
2025-08-10 10:45:31        finish: [Function: requestOnFinish]
2025-08-10 10:45:31      },
2025-08-10 10:45:31      _eventsCount: 7,
2025-08-10 10:45:31      _maxListeners: undefined,
2025-08-10 10:45:31      outputData: [],
2025-08-10 10:45:31      outputSize: 0,
2025-08-10 10:45:31      writable: true,
2025-08-10 10:45:31      destroyed: false,
2025-08-10 10:45:31      _last: false,
2025-08-10 10:45:31      chunkedEncoding: false,
2025-08-10 10:45:31      shouldKeepAlive: false,
2025-08-10 10:45:31      maxRequestsOnConnectionReached: false,
2025-08-10 10:45:31      _defaultKeepAlive: true,
2025-08-10 10:45:31      useChunkedEncodingByDefault: true,
2025-08-10 10:45:31      sendDate: false,
2025-08-10 10:45:31      _removedConnection: false,
2025-08-10 10:45:31      _removedContLen: false,
2025-08-10 10:45:31      _removedTE: false,
2025-08-10 10:45:31      strictContentLength: false,
2025-08-10 10:45:31      _contentLength: 129,
2025-08-10 10:45:31      _hasBody: true,
2025-08-10 10:45:31      _trailer: '',
2025-08-10 10:45:31      finished: true,
2025-08-10 10:45:31      _headerSent: true,
2025-08-10 10:45:31      _closed: false,
2025-08-10 10:45:31      _header: 'POST /v2/bot/message/reply HTTP/1.1\r\n' +
2025-08-10 10:45:31        'Accept: application/json, text/plain, */*\r\n' +
2025-08-10 10:45:31        'Content-Type: application/json\r\n' +
2025-08-10 10:45:31        'Authorization: Bearer +LATS/cSYCUN4VVSpU/2TOWpDXGyYl2os+C99MgPfEnAG5pHrmY3fEGJoMik7hddPGBV+hQcpnypK0bDjW3x4FfTq1Iohow/cd3+PrGnpP/mEzymfa0VcComebCYH5z0a5FHQRjiv7Ggw8t+FKOo0wdB04t89/1O/w1cDnyilFU=\r\n' +
2025-08-10 10:45:31        'User-Agent: axios/1.11.0\r\n' +
2025-08-10 10:45:31        'Content-Length: 129\r\n' +
2025-08-10 10:45:31        'Accept-Encoding: gzip, compress, deflate, br\r\n' +
2025-08-10 10:45:31        'Host: api.line.me\r\n' +
2025-08-10 10:45:31        'Connection: keep-alive\r\n' +
2025-08-10 10:45:31        '\r\n',
2025-08-10 10:45:31      _keepAliveTimeout: 0,
2025-08-10 10:45:31      _onPendingData: [Function: nop],
2025-08-10 10:45:31      agent: Agent {
2025-08-10 10:45:31        _events: [Object: null prototype],
2025-08-10 10:45:31        _eventsCount: 2,
2025-08-10 10:45:31        _maxListeners: undefined,
2025-08-10 10:45:31        options: [Object: null prototype],
2025-08-10 10:45:31        defaultPort: 443,
2025-08-10 10:45:31        protocol: 'https:',
2025-08-10 10:45:31        requests: [Object: null prototype] {},
2025-08-10 10:45:31        sockets: [Object: null prototype],
2025-08-10 10:45:31        freeSockets: [Object: null prototype] {},
2025-08-10 10:45:31  🚀 生產用戶，使用真實 LINE Service
2025-08-10 10:45:31  🔍 檢查 replyToken: reply_token_1754822724268
2025-08-10 10:45:31  ❌ 訊息回覆失敗: { message: 'Invalid reply token' }
2025-08-10 10:45:31  ❌ Webhook 處理失敗: AxiosError: Request failed with status code 400
2025-08-10 10:45:31      at settle (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:2090:12)
2025-08-10 10:45:31      at IncomingMessage.handleStreamEnd (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:3207:11)
2025-08-10 10:45:31      at IncomingMessage.emit (node:events:519:35)
2025-08-10 10:45:31      at endReadableNT (node:internal/streams/readable:1701:12)
2025-08-10 10:45:31      at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
2025-08-10 10:45:31      at Axios.request (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:4317:41)
2025-08-10 10:45:31      at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-10 10:45:31      at async Object.replyMessage (/opt/render/project/src/src/services/lineService.js:75:22)
2025-08-10 10:45:31      at async handleTextMessage (/opt/render/project/src/src/bot/webhook.js:149:5)
2025-08-10 10:45:31      at async handleWebhook (/opt/render/project/src/src/bot/webhook.js:438:13)
2025-08-10 10:45:31      at async /opt/render/project/src/src/index.js:34:5 {
2025-08-10 10:45:31    code: 'ERR_BAD_REQUEST',
2025-08-10 10:45:31    config: {
2025-08-10 10:45:31      transitional: {
2025-08-10 10:45:31        silentJSONParsing: true,
2025-08-10 10:45:31        forcedJSONParsing: true,
2025-08-10 10:45:31        clarifyTimeoutError: false
2025-08-10 10:45:31      },
2025-08-10 10:45:31      adapter: [ 'xhr', 'http', 'fetch' ],
2025-08-10 10:45:31      transformRequest: [ [Function: transformRequest] ],
2025-08-10 10:45:31      transformResponse: [ [Function: transformResponse] ],
2025-08-10 10:45:31      timeout: 0,
2025-08-10 10:45:31      xsrfCookieName: 'XSRF-TOKEN',
2025-08-10 10:45:31      xsrfHeaderName: 'X-XSRF-TOKEN',
2025-08-10 10:45:31      maxContentLength: -1,
2025-08-10 10:45:31      maxBodyLength: -1,
2025-08-10 10:45:31      env: { FormData: [Function [FormData]], Blob: [class Blob] },
2025-08-10 10:45:31      validateStatus: [Function: validateStatus],
2025-08-10 10:45:31      headers: Object [AxiosHeaders] {
2025-08-10 10:45:31        Accept: 'application/json, text/plain, */*',
2025-08-10 10:45:31        'Content-Type': 'application/json',
2025-08-10 10:45:31        Authorization: 'Bearer +LATS/cSYCUN4VVSpU/2TOWpDXGyYl2os+C99MgPfEnAG5pHrmY3fEGJoMik7hddPGBV+hQcpnypK0bDjW3x4FfTq1Iohow/cd3+PrGnpP/mEzymfa0VcComebCYH5z0a5FHQRjiv7Ggw8t+FKOo0wdB04t89/1O/w1cDnyilFU=',
2025-08-10 10:45:31        'User-Agent': 'axios/1.11.0',
2025-08-10 10:45:31        'Content-Length': '129',
2025-08-10 10:45:31        'Accept-Encoding': 'gzip, compress, deflate, br'
2025-08-10 10:45:31      },
2025-08-10 10:45:31      method: 'post',
2025-08-10 10:45:31      url: 'https://api.line.me/v2/bot/message/reply',
2025-08-10 10:45:31      data: '{"replyToken":"reply_token_1754822724268","messages":[{"type":"text","text":"處理訊息時發生錯誤，請稍後再試。"}]}',
2025-08-10 10:45:31      allowAbsoluteUrls: true
2025-08-10 10:45:31    },
2025-08-10 10:45:31    request: <ref *1> ClientRequest {
2025-08-10 10:45:31      _events: [Object: null prototype] {
2025-08-10 10:45:31        abort: [Function (anonymous)],
2025-08-10 10:45:31        aborted: [Function (anonymous)],
2025-08-10 10:45:31        connect: [Function (anonymous)],
2025-08-10 10:45:31        error: [Function (anonymous)],
2025-08-10 10:45:31        socket: [Function (anonymous)],
2025-08-10 10:45:31        timeout: [Function (anonymous)],
2025-08-10 10:45:31        finish: [Function: requestOnFinish]
2025-08-10 10:45:31      },
2025-08-10 10:45:31      _eventsCount: 7,
2025-08-10 10:45:31      _maxListeners: undefined,
2025-08-10 10:45:31      outputData: [],
2025-08-10 10:45:31      outputSize: 0,
2025-08-10 10:45:31      writable: true,
2025-08-10 10:45:31      destroyed: false,
2025-08-10 10:45:31      _last: false,
2025-08-10 10:45:31      chunkedEncoding: false,
2025-08-10 10:45:31      shouldKeepAlive: false,
2025-08-10 10:45:31      maxRequestsOnConnectionReached: false,
2025-08-10 10:45:31      _defaultKeepAlive: true,
2025-08-10 10:45:31      useChunkedEncodingByDefault: true,
2025-08-10 10:45:31      sendDate: false,
2025-08-10 10:45:31      _removedConnection: false,
2025-08-10 10:45:31      _removedContLen: false,
2025-08-10 10:45:31      _removedTE: false,
2025-08-10 10:45:31      strictContentLength: false,
2025-08-10 10:45:31      _contentLength: 129,
2025-08-10 10:45:31      _hasBody: true,
2025-08-10 10:45:31      _trailer: '',
2025-08-10 10:45:31      finished: true,
2025-08-10 10:45:31      _headerSent: true,
2025-08-10 10:45:31      _closed: false,
2025-08-10 10:45:31      _header: 'POST /v2/bot/message/reply HTTP/1.1\r\n' +
2025-08-10 10:45:31        'Accept: application/json, text/plain, */*\r\n' +
2025-08-10 10:45:31        'Content-Type: application/json\r\n' +
2025-08-10 10:45:31        'Authorization: Bearer +LATS/cSYCUN4VVSpU/2TOWpDXGyYl2os+C99MgPfEnAG5pHrmY3fEGJoMik7hddPGBV+hQcpnypK0bDjW3x4FfTq1Iohow/cd3+PrGnpP/mEzymfa0VcComebCYH5z0a5FHQRjiv7Ggw8t+FKOo0wdB04t89/1O/w1cDnyilFU=\r\n' +
2025-08-10 10:45:31        'User-Agent: axios/1.11.0\r\n' +
2025-08-10 10:45:31        'Content-Length: 129\r\n' +
2025-08-10 10:45:31        'Accept-Encoding: gzip, compress, deflate, br\r\n' +
2025-08-10 10:45:31        'Host: api.line.me\r\n' +
2025-08-10 10:45:31        'Connection: keep-alive\r\n' +
2025-08-10 10:45:31        '\r\n',
2025-08-10 10:45:31      _keepAliveTimeout: 0,
2025-08-10 10:45:31      _onPendingData: [Function: nop],
2025-08-10 10:45:31      agent: Agent {
2025-08-10 10:45:31        _events: [Object: null prototype],
2025-08-10 10:45:31        _eventsCount: 2,
2025-08-10 10:45:31        _maxListeners: undefined,
2025-08-10 10:45:31        options: [Object: null prototype],
2025-08-10 10:45:31        defaultPort: 443,
2025-08-10 10:45:31        protocol: 'https:',
2025-08-10 10:45:31        requests: [Object: null prototype] {},
2025-08-10 10:45:31        sockets: [Object: null prototype],
2025-08-10 10:45:31        freeSockets: [Object: null prototype] {},
2025-08-10 10:45:31  🚀 生產用戶，使用真實 LINE Service
2025-08-10 10:45:31  🔍 檢查 replyToken: reply_token_1754822724268
2025-08-10 10:45:31  ❌ 訊息回覆失敗: { message: 'Invalid reply token' }
2025-08-10 10:45:31  ❌ Webhook 處理失敗: AxiosError: Request failed with status code 400
2025-08-10 10:45:31      at settle (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:2090:12)
2025-08-10 10:45:31      at IncomingMessage.handleStreamEnd (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:3207:11)
2025-08-10 10:45:31      at IncomingMessage.emit (node:events:519:35)
2025-08-10 10:45:31      at endReadableNT (node:internal/streams/readable:1701:12)
2025-08-10 10:45:31      at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
2025-08-10 10:45:31      at Axios.request (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:4317:41)
2025-08-10 10:45:31      at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-10 10:45:31      at async Object.replyMessage (/opt/render/project/src/src/services/lineService.js:75:22)
2025-08-10 10:45:31      at async handleTextMessage (/opt/render/project/src/src/bot/webhook.js:149:5)
2025-08-10 10:45:31      at async handleWebhook (/opt/render/project/src/src/bot/webhook.js:438:13)
2025-08-10 10:45:31      at async /opt/render/project/src/src/index.js:34:5 {
2025-08-10 10:45:31    code: 'ERR_BAD_REQUEST',
2025-08-10 10:45:31    config: {
2025-08-10 10:45:31      transitional: {
2025-08-10 10:45:31        silentJSONParsing: true,
2025-08-10 10:45:31        forcedJSONParsing: true,
2025-08-10 10:45:31        clarifyTimeoutError: false
2025-08-10 10:45:31      },
2025-08-10 10:45:31      adapter: [ 'xhr', 'http', 'fetch' ],
2025-08-10 10:45:31      transformRequest: [ [Function: transformRequest] ],
2025-08-10 10:45:31      transformResponse: [ [Function: transformResponse] ],
2025-08-10 10:45:31      timeout: 0,
2025-08-10 10:45:31      xsrfCookieName: 'XSRF-TOKEN',
2025-08-10 10:45:31      xsrfHeaderName: 'X-XSRF-TOKEN',
2025-08-10 10:45:31      maxContentLength: -1,
2025-08-10 10:45:31      maxBodyLength: -1,
2025-08-10 10:45:31      env: { FormData: [Function [FormData]], Blob: [class Blob] },
2025-08-10 10:45:31      validateStatus: [Function: validateStatus],
2025-08-10 10:45:31      headers: Object [AxiosHeaders] {
2025-08-10 10:45:31        Accept: 'application/json, text/plain, */*',
2025-08-10 10:45:31        'Content-Type': 'application/json',
2025-08-10 10:45:31        Authorization: 'Bearer +LATS/cSYCUN4VVSpU/2TOWpDXGyYl2os+C99MgPfEnAG5pHrmY3fEGJoMik7hddPGBV+hQcpnypK0bDjW3x4FfTq1Iohow/cd3+PrGnpP/mEzymfa0VcComebCYH5z0a5FHQRjiv7Ggw8t+FKOo0wdB04t89/1O/w1cDnyilFU=',
2025-08-10 10:45:31        'User-Agent': 'axios/1.11.0',
2025-08-10 10:45:31        'Content-Length': '129',
2025-08-10 10:45:31        'Accept-Encoding': 'gzip, compress, deflate, br'
2025-08-10 10:45:31      },
2025-08-10 10:45:31      method: 'post',
2025-08-10 10:45:31      url: 'https://api.line.me/v2/bot/message/reply',
2025-08-10 10:45:31      data: '{"replyToken":"reply_token_1754822724268","messages":[{"type":"text","text":"處理訊息時發生錯誤，請稍後再試。"}]}',
2025-08-10 10:45:31      allowAbsoluteUrls: true
2025-08-10 10:45:31    },
2025-08-10 10:45:31    request: <ref *1> ClientRequest {
2025-08-10 10:45:31      _events: [Object: null prototype] {
2025-08-10 10:45:31        abort: [Function (anonymous)],
2025-08-10 10:45:31        aborted: [Function (anonymous)],
2025-08-10 10:45:31        connect: [Function (anonymous)],
2025-08-10 10:45:31        error: [Function (anonymous)],
2025-08-10 10:45:31        socket: [Function (anonymous)],
2025-08-10 10:45:31        timeout: [Function (anonymous)],
2025-08-10 10:45:31        finish: [Function: requestOnFinish]
2025-08-10 10:45:31      },
2025-08-10 10:45:31      _eventsCount: 7,
2025-08-10 10:45:31      _maxListeners: undefined,
2025-08-10 10:45:31      outputData: [],
2025-08-10 10:45:31      outputSize: 0,
2025-08-10 10:45:31      writable: true,
2025-08-10 10:45:31      destroyed: false,
2025-08-10 10:45:31      _last: false,
2025-08-10 10:45:31      chunkedEncoding: false,
2025-08-10 10:45:31      shouldKeepAlive: false,
2025-08-10 10:45:31      maxRequestsOnConnectionReached: false,
2025-08-10 10:45:31      _defaultKeepAlive: true,
2025-08-10 10:45:31      useChunkedEncodingByDefault: true,
2025-08-10 10:45:31      sendDate: false,
2025-08-10 10:45:31      _removedConnection: false,
2025-08-10 10:45:31      _removedContLen: false,
2025-08-10 10:45:31      _removedTE: false,
2025-08-10 10:45:31      strictContentLength: false,
2025-08-10 10:45:31      _contentLength: 129,
2025-08-10 10:45:31      _hasBody: true,
2025-08-10 10:45:31      _trailer: '',
2025-08-10 10:45:31      finished: true,
2025-08-10 10:45:31      _headerSent: true,
2025-08-10 10:45:31      _closed: false,
2025-08-10 10:45:31      _header: 'POST /v2/bot/message/reply HTTP/1.1\r\n' +
2025-08-10 10:45:31        'Accept: application/json, text/plain, */*\r\n' +
2025-08-10 10:45:31        'Content-Type: application/json\r\n' +
2025-08-10 10:45:31        'Authorization: Bearer +LATS/cSYCUN4VVSpU/2TOWpDXGyYl2os+C99MgPfEnAG5pHrmY3fEGJoMik7hddPGBV+hQcpnypK0bDjW3x4FfTq1Iohow/cd3+PrGnpP/mEzymfa0VcComebCYH5z0a5FHQRjiv7Ggw8t+FKOo0wdB04t89/1O/w1cDnyilFU=\r\n' +
2025-08-10 10:45:31        'User-Agent: axios/1.11.0\r\n' +
2025-08-10 10:45:31        'Content-Length: 129\r\n' +
2025-08-10 10:45:31        'Accept-Encoding: gzip, compress, deflate, br\r\n' +
2025-08-10 10:45:31        'Host: api.line.me\r\n' +
2025-08-10 10:45:31        'Connection: keep-alive\r\n' +
2025-08-10 10:45:31        '\r\n',
2025-08-10 10:45:31      _keepAliveTimeout: 0,
2025-08-10 10:45:31      _onPendingData: [Function: nop],
2025-08-10 10:45:31      agent: Agent {
2025-08-10 10:45:31        _events: [Object: null prototype],
2025-08-10 10:45:31        _eventsCount: 2,
2025-08-10 10:45:31        _maxListeners: undefined,
2025-08-10 10:45:31        options: [Object: null prototype],
2025-08-10 10:45:31        defaultPort: 443,
2025-08-10 10:45:31        protocol: 'https:',
2025-08-10 10:45:31        requests: [Object: null prototype] {},
2025-08-10 10:45:31        sockets: [Object: null prototype],
2025-08-10 10:45:31        freeSockets: [Object: null prototype] {},
2025-08-10 10:45:31  🚀 生產用戶，使用真實 LINE Service
2025-08-10 10:45:31  🔍 檢查 replyToken: reply_token_1754822724268
2025-08-10 10:45:31  ❌ 訊息回覆失敗: { message: 'Invalid reply token' }
2025-08-10 10:45:31  ❌ Webhook 處理失敗: AxiosError: Request failed with status code 400
2025-08-10 10:45:31      at settle (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:2090:12)
2025-08-10 10:45:31      at IncomingMessage.handleStreamEnd (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:3207:11)
2025-08-10 10:45:31      at IncomingMessage.emit (node:events:519:35)
2025-08-10 10:45:31      at endReadableNT (node:internal/streams/readable:1701:12)
2025-08-10 10:45:31      at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
2025-08-10 10:45:31      at Axios.request (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:4317:41)
2025-08-10 10:45:31      at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-10 10:45:31      at async Object.replyMessage (/opt/render/project/src/src/services/lineService.js:75:22)
2025-08-10 10:45:31      at async handleTextMessage (/opt/render/project/src/src/bot/webhook.js:149:5)
2025-08-10 10:45:31      at async handleWebhook (/opt/render/project/src/src/bot/webhook.js:438:13)
2025-08-10 10:45:31      at async /opt/render/project/src/src/index.js:34:5 {
2025-08-10 10:45:31    code: 'ERR_BAD_REQUEST',
2025-08-10 10:45:31    config: {
2025-08-10 10:45:31      transitional: {
2025-08-10 10:45:31        silentJSONParsing: true,
2025-08-10 10:45:31        forcedJSONParsing: true,
2025-08-10 10:45:31        clarifyTimeoutError: false
2025-08-10 10:45:31      },
2025-08-10 10:45:31      adapter: [ 'xhr', 'http', 'fetch' ],
2025-08-10 10:45:31      transformRequest: [ [Function: transformRequest] ],
2025-08-10 10:45:31      transformResponse: [ [Function: transformResponse] ],
2025-08-10 10:45:31      timeout: 0,
2025-08-10 10:45:31      xsrfCookieName: 'XSRF-TOKEN',
2025-08-10 10:45:31      xsrfHeaderName: 'X-XSRF-TOKEN',
2025-08-10 10:45:31      maxContentLength: -1,
2025-08-10 10:45:31      maxBodyLength: -1,
2025-08-10 10:45:31      env: { FormData: [Function [FormData]], Blob: [class Blob] },
2025-08-10 10:45:31      validateStatus: [Function: validateStatus],
2025-08-10 10:45:31      headers: Object [AxiosHeaders] {
2025-08-10 10:45:31        Accept: 'application/json, text/plain, */*',
2025-08-10 10:45:31        'Content-Type': 'application/json',
2025-08-10 10:45:31        Authorization: 'Bearer +LATS/cSYCUN4VVSpU/2TOWpDXGyYl2os+C99MgPfEnAG5pHrmY3fEGJoMik7hddPGBV+hQcpnypK0bDjW3x4FfTq1Iohow/cd3+PrGnpP/mEzymfa0VcComebCYH5z0a5FHQRjiv7Ggw8t+FKOo0wdB04t89/1O/w1cDnyilFU=',
2025-08-10 10:45:31        'User-Agent': 'axios/1.11.0',
2025-08-10 10:45:31        'Content-Length': '129',
2025-08-10 10:45:31        'Accept-Encoding': 'gzip, compress, deflate, br'
2025-08-10 10:45:31      },
2025-08-10 10:45:31      method: 'post',
2025-08-10 10:45:31      url: 'https://api.line.me/v2/bot/message/reply',
2025-08-10 10:45:31      data: '{"replyToken":"reply_token_1754822724268","messages":[{"type":"text","text":"處理訊息時發生錯誤，請稍後再試。"}]}',
2025-08-10 10:45:31      allowAbsoluteUrls: true
2025-08-10 10:45:31    },
2025-08-10 10:45:31    request: <ref *1> ClientRequest {
2025-08-10 10:45:31      _events: [Object: null prototype] {
2025-08-10 10:45:31        abort: [Function (anonymous)],
2025-08-10 10:45:31        aborted: [Function (anonymous)],
2025-08-10 10:45:31        connect: [Function (anonymous)],
2025-08-10 10:45:31        error: [Function (anonymous)],
2025-08-10 10:45:31        socket: [Function (anonymous)],
2025-08-10 10:45:31        timeout: [Function (anonymous)],
2025-08-10 10:45:31        finish: [Function: requestOnFinish]
2025-08-10 10:45:31      },
2025-08-10 10:45:31      _eventsCount: 7,
2025-08-10 10:45:31      _maxListeners: undefined,
2025-08-10 10:45:31      outputData: [],
2025-08-10 10:45:31      outputSize: 0,
2025-08-10 10:45:31      writable: true,
2025-08-10 10:45:31      destroyed: false,
2025-08-10 10:45:31      _last: false,
2025-08-10 10:45:31      chunkedEncoding: false,
2025-08-10 10:45:31      shouldKeepAlive: false,
2025-08-10 10:45:31      maxRequestsOnConnectionReached: false,
2025-08-10 10:45:31      _defaultKeepAlive: true,
2025-08-10 10:45:31      useChunkedEncodingByDefault: true,
2025-08-10 10:45:31      sendDate: false,
2025-08-10 10:45:31      _removedConnection: false,
2025-08-10 10:45:31      _removedContLen: false,
2025-08-10 10:45:31      _removedTE: false,
2025-08-10 10:45:31      strictContentLength: false,
2025-08-10 10:45:31      _contentLength: 129,
2025-08-10 10:45:31      _hasBody: true,
2025-08-10 10:45:31      _trailer: '',
2025-08-10 10:45:31      finished: true,
2025-08-10 10:45:31      _headerSent: true,
2025-08-10 10:45:31      _closed: false,
2025-08-10 10:45:31      _header: 'POST /v2/bot/message/reply HTTP/1.1\r\n' +
2025-08-10 10:45:31        'Accept: application/json, text/plain, */*\r\n' +
2025-08-10 10:45:31        'Content-Type: application/json\r\n' +
2025-08-10 10:45:31        'Authorization: Bearer +LATS/cSYCUN4VVSpU/2TOWpDXGyYl2os+C99MgPfEnAG5pHrmY3fEGJoMik7hddPGBV+hQcpnypK0bDjW3x4FfTq1Iohow/cd3+PrGnpP/mEzymfa0VcComebCYH5z0a5FHQRjiv7Ggw8t+FKOo0wdB04t89/1O/w1cDnyilFU=\r\n' +
2025-08-10 10:45:31        'User-Agent: axios/1.11.0\r\n' +
2025-08-10 10:45:31        'Content-Length: 129\r\n' +
2025-08-10 10:45:31        'Accept-Encoding: gzip, compress, deflate, br\r\n' +
2025-08-10 10:45:31        'Host: api.line.me\r\n' +
2025-08-10 10:45:31        'Connection: keep-alive\r\n' +
2025-08-10 10:45:31        '\r\n',
2025-08-10 10:45:31      _keepAliveTimeout: 0,
2025-08-10 10:45:31      _onPendingData: [Function: nop],
2025-08-10 10:45:31      agent: Agent {
2025-08-10 10:45:31        _events: [Object: null prototype],
2025-08-10 10:45:31        _eventsCount: 2,
2025-08-10 10:45:31        _maxListeners: undefined,
2025-08-10 10:45:31        options: [Object: null prototype],
2025-08-10 10:45:31        defaultPort: 443,
2025-08-10 10:45:31        protocol: 'https:',
2025-08-10 10:45:31        requests: [Object: null prototype] {},
2025-08-10 10:45:31        sockets: [Object: null prototype],
2025-08-10 10:45:31        freeSockets: [Object: null prototype] {},
2025-08-10 10:45:31  🚀 生產用戶，使用真實 LINE Service
2025-08-10 10:45:31  🔍 檢查 replyToken: reply_token_1754822724268
2025-08-10 10:45:31  ❌ 訊息回覆失敗: { message: 'Invalid reply token' }
2025-08-10 10:45:31  ❌ Webhook 處理失敗: AxiosError: Request failed with status code 400
2025-08-10 10:45:31      at settle (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:2090:12)
2025-08-10 10:45:31      at IncomingMessage.handleStreamEnd (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:3207:11)
2025-08-10 10:45:31      at IncomingMessage.emit (node:events:519:35)
2025-08-10 10:45:31      at endReadableNT (node:internal/streams/readable:1701:12)
2025-08-10 10:45:31      at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
2025-08-10 10:45:31      at Axios.request (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:4317:41)
2025-08-10 10:45:31      at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-10 10:45:31      at async Object.replyMessage (/opt/render/project/src/src/services/lineService.js:75:22)
2025-08-10 10:45:31      at async handleTextMessage (/opt/render/project/src/src/bot/webhook.js:149:5)
2025-08-10 10:45:31      at async handleWebhook (/opt/render/project/src/src/bot/webhook.js:438:13)
2025-08-10 10:45:31      at async /opt/render/project/src/src/index.js:34:5 {
2025-08-10 10:45:31    code: 'ERR_BAD_REQUEST',
2025-08-10 10:45:31    config: {
2025-08-10 10:45:31      transitional: {
2025-08-10 10:45:31        silentJSONParsing: true,
2025-08-10 10:45:31        forcedJSONParsing: true,
2025-08-10 10:45:31        clarifyTimeoutError: false
2025-08-10 10:45:31      },
2025-08-10 10:45:31      adapter: [ 'xhr', 'http', 'fetch' ],
2025-08-10 10:45:31      transformRequest: [ [Function: transformRequest] ],
2025-08-10 10:45:31      transformResponse: [ [Function: transformResponse] ],
2025-08-10 10:45:31      timeout: 0,
2025-08-10 10:45:31      xsrfCookieName: 'XSRF-TOKEN',
2025-08-10 10:45:31      xsrfHeaderName: 'X-XSRF-TOKEN',
2025-08-10 10:45:31      maxContentLength: -1,
2025-08-10 10:45:31      maxBodyLength: -1,
2025-08-10 10:45:31      env: { FormData: [Function [FormData]], Blob: [class Blob] },
2025-08-10 10:45:31      validateStatus: [Function: validateStatus],
2025-08-10 10:45:31      headers: Object [AxiosHeaders] {
2025-08-10 10:45:31        Accept: 'application/json, text/plain, */*',
2025-08-10 10:45:31        'Content-Type': 'application/json',
2025-08-10 10:45:31        Authorization: 'Bearer +LATS/cSYCUN4VVSpU/2TOWpDXGyYl2os+C99MgPfEnAG5pHrmY3fEGJoMik7hddPGBV+hQcpnypK0bDjW3x4FfTq1Iohow/cd3+PrGnpP/mEzymfa0VcComebCYH5z0a5FHQRjiv7Ggw8t+FKOo0wdB04t89/1O/w1cDnyilFU=',
2025-08-10 10:45:31        'User-Agent': 'axios/1.11.0',
2025-08-10 10:45:31        'Content-Length': '129',
2025-08-10 10:45:31        'Accept-Encoding': 'gzip, compress, deflate, br'
2025-08-10 10:45:31      },
2025-08-10 10:45:31      method: 'post',
2025-08-10 10:45:31      url: 'https://api.line.me/v2/bot/message/reply',
2025-08-10 10:45:31      data: '{"replyToken":"reply_token_1754822724268","messages":[{"type":"text","text":"處理訊息時發生錯誤，請稍後再試。"}]}',
2025-08-10 10:45:31      allowAbsoluteUrls: true
2025-08-10 10:45:31    },
2025-08-10 10:45:31    request: <ref *1> ClientRequest {
2025-08-10 10:45:31      _events: [Object: null prototype] {
2025-08-10 10:45:31        abort: [Function (anonymous)],
2025-08-10 10:45:31        aborted: [Function (anonymous)],
2025-08-10 10:45:31        connect: [Function (anonymous)],
2025-08-10 10:45:31        error: [Function (anonymous)],
2025-08-10 10:45:31        socket: [Function (anonymous)],
2025-08-10 10:45:31        timeout: [Function (anonymous)],
2025-08-10 10:45:31        finish: [Function: requestOnFinish]
2025-08-10 10:45:31      },
2025-08-10 10:45:31      _eventsCount: 7,
2025-08-10 10:45:31      _maxListeners: undefined,
2025-08-10 10:45:31      outputData: [],
2025-08-10 10:45:31      outputSize: 0,
2025-08-10 10:45:31      writable: true,
2025-08-10 10:45:31      destroyed: false,
2025-08-10 10:45:31      _last: false,
2025-08-10 10:45:31      chunkedEncoding: false,
2025-08-10 10:45:31      shouldKeepAlive: false,
2025-08-10 10:45:31      maxRequestsOnConnectionReached: false,
2025-08-10 10:45:31      _defaultKeepAlive: true,
2025-08-10 10:45:31      useChunkedEncodingByDefault: true,
2025-08-10 10:45:31      sendDate: false,
2025-08-10 10:45:31      _removedConnection: false,
2025-08-10 10:45:31      _removedContLen: false,
2025-08-10 10:45:31      _removedTE: false,
2025-08-10 10:45:31      strictContentLength: false,
2025-08-10 10:45:31      _contentLength: 129,
2025-08-10 10:45:31      _hasBody: true,
2025-08-10 10:45:31      _trailer: '',
2025-08-10 10:45:31      finished: true,
2025-08-10 10:45:31      _headerSent: true,
2025-08-10 10:45:31      _closed: false,
2025-08-10 10:45:31      _header: 'POST /v2/bot/message/reply HTTP/1.1\r\n' +
2025-08-10 10:45:31        'Accept: application/json, text/plain, */*\r\n' +
2025-08-10 10:45:31        'Content-Type: application/json\r\n' +
2025-08-10 10:45:31        'Authorization: Bearer +LATS/cSYCUN4VVSpU/2TOWpDXGyYl2os+C99MgPfEnAG5pHrmY3fEGJoMik7hddPGBV+hQcpnypK0bDjW3x4FfTq1Iohow/cd3+PrGnpP/mEzymfa0VcComebCYH5z0a5FHQRjiv7Ggw8t+FKOo0wdB04t89/1O/w1cDnyilFU=\r\n' +
2025-08-10 10:45:31        'User-Agent: axios/1.11.0\r\n' +
2025-08-10 10:45:31        'Content-Length: 129\r\n' +
2025-08-10 10:45:31        'Accept-Encoding: gzip, compress, deflate, br\r\n' +
2025-08-10 10:45:31        'Host: api.line.me\r\n' +
2025-08-10 10:45:31        'Connection: keep-alive\r\n' +
2025-08-10 10:45:31        '\r\n',
2025-08-10 10:45:31      _keepAliveTimeout: 0,
2025-08-10 10:45:31      _onPendingData: [Function: nop],
2025-08-10 10:45:31      agent: Agent {
2025-08-10 10:45:31        _events: [Object: null prototype],
2025-08-10 10:45:31        _eventsCount: 2,
2025-08-10 10:45:31        _maxListeners: undefined,
2025-08-10 10:45:31        options: [Object: null prototype],
2025-08-10 10:45:31        defaultPort: 443,
2025-08-10 10:45:31        protocol: 'https:',
2025-08-10 10:45:31        requests: [Object: null prototype] {},
2025-08-10 10:45:31        sockets: [Object: null prototype],
2025-08-10 10:45:31        freeSockets: [Object: null prototype] {},
2025-08-10 10:45:31  🚀 生產用戶，使用真實 LINE Service
2025-08-10 10:45:31  🔍 檢查 replyToken: reply_token_1754822724268
2025-08-10 10:45:31  ❌ 訊息回覆失敗: { message: 'Invalid reply token' }
2025-08-10 10:45:31  ❌ Webhook 處理失敗: AxiosError: Request failed with status code 400
2025-08-10 10:45:31      at settle (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:2090:12)
2025-08-10 10:45:31      at IncomingMessage.handleStreamEnd (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:3207:11)
2025-08-10 10:45:31      at IncomingMessage.emit (node:events:519:35)
2025-08-10 10:45:31      at endReadableNT (node:internal/streams/readable:1701:12)
2025-08-10 10:45:31      at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
2025-08-10 10:45:31      at Axios.request (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:4317:41)
2025-08-10 10:45:31      at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-10 10:45:31      at async Object.replyMessage (/opt/render/project/src/src/services/lineService.js:75:22)
2025-08-10 10:45:31      at async handleTextMessage (/opt/render/project/src/src/bot/webhook.js:149:5)
2025-08-10 10:45:31      at async handleWebhook (/opt/render/project/src/src/bot/webhook.js:438:13)
2025-08-10 10:45:31      at async /opt/render/project/src/src/index.js:34:5 {
2025-08-10 10:45:31    code: 'ERR_BAD_REQUEST',
2025-08-10 10:45:31    config: {
2025-08-10 10:45:31      transitional: {
2025-08-10 10:45:31        silentJSONParsing: true,
2025-08-10 10:45:31        forcedJSONParsing: true,
2025-08-10 10:45:31        clarifyTimeoutError: false
2025-08-10 10:45:31      },
2025-08-10 10:45:31      adapter: [ 'xhr', 'http', 'fetch' ],
2025-08-10 10:45:31      transformRequest: [ [Function: transformRequest] ],
2025-08-10 10:45:31      transformResponse: [ [Function: transformResponse] ],
2025-08-10 10:45:31      timeout: 0,
2025-08-10 10:45:31      xsrfCookieName: 'XSRF-TOKEN',
2025-08-10 10:45:31      xsrfHeaderName: 'X-XSRF-TOKEN',
2025-08-10 10:45:31      maxContentLength: -1,
2025-08-10 10:45:31      maxBodyLength: -1,
2025-08-10 10:45:31      env: { FormData: [Function [FormData]], Blob: [class Blob] },
2025-08-10 10:45:31      validateStatus: [Function: validateStatus],
2025-08-10 10:45:31      headers: Object [AxiosHeaders] {
2025-08-10 10:45:31        Accept: 'application/json, text/plain, */*',
2025-08-10 10:45:31        'Content-Type': 'application/json',
2025-08-10 10:45:31        Authorization: 'Bearer +LATS/cSYCUN4VVSpU/2TOWpDXGyYl2os+C99MgPfEnAG5pHrmY3fEGJoMik7hddPGBV+hQcpnypK0bDjW3x4FfTq1Iohow/cd3+PrGnpP/mEzymfa0VcComebCYH5z0a5FHQRjiv7Ggw8t+FKOo0wdB04t89/1O/w1cDnyilFU=',
2025-08-10 10:45:31        'User-Agent': 'axios/1.11.0',
2025-08-10 10:45:31        'Content-Length': '129',
2025-08-10 10:45:31        'Accept-Encoding': 'gzip, compress, deflate, br'
2025-08-10 10:45:31      },
2025-08-10 10:45:31      method: 'post',
2025-08-10 10:45:31      url: 'https://api.line.me/v2/bot/message/reply',
2025-08-10 10:45:31      data: '{"replyToken":"reply_token_1754822724268","messages":[{"type":"text","text":"處理訊息時發生錯誤，請稍後再試。"}]}',
2025-08-10 10:45:31      allowAbsoluteUrls: true
2025-08-10 10:45:31    },
2025-08-10 10:45:31    request: <ref *1> ClientRequest {
2025-08-10 10:45:31      _events: [Object: null prototype] {
2025-08-10 10:45:31        abort: [Function (anonymous)],
2025-08-10 10:45:31        aborted: [Function (anonymous)],
2025-08-10 10:45:31        connect: [Function (anonymous)],
2025-08-10 10:45:31        error: [Function (anonymous)],
2025-08-10 10:45:31        socket: [Function (anonymous)],
2025-08-10 10:45:31        timeout: [Function (anonymous)],
2025-08-10 10:45:31        finish: [Function: requestOnFinish]
2025-08-10 10:45:31      },
2025-08-10 10:45:31      _eventsCount: 7,
2025-08-10 10:45:31      _maxListeners: undefined,
2025-08-10 10:45:31      outputData: [],
2025-08-10 10:45:31      outputSize: 0,
2025-08-10 10:45:31      writable: true,
2025-08-10 10:45:31      destroyed: false,
2025-08-10 10:45:31      _last: false,
2025-08-10 10:45:31      chunkedEncoding: false,
2025-08-10 10:45:31      shouldKeepAlive: false,
2025-08-10 10:45:31      maxRequestsOnConnectionReached: false,
2025-08-10 10:45:31      _defaultKeepAlive: true,
2025-08-10 10:45:31      useChunkedEncodingByDefault: true,
2025-08-10 10:45:31      sendDate: false,
2025-08-10 10:45:31      _removedConnection: false,
2025-08-10 10:45:31      _removedContLen: false,
2025-08-10 10:45:31      _removedTE: false,
2025-08-10 10:45:31      strictContentLength: false,
2025-08-10 10:45:31      _contentLength: 129,
2025-08-10 10:45:31      _hasBody: true,
2025-08-10 10:45:31      _trailer: '',
2025-08-10 10:45:31      finished: true,
2025-08-10 10:45:31      _headerSent: true,
2025-08-10 10:45:31      _closed: false,
2025-08-10 10:45:31      _header: 'POST /v2/bot/message/reply HTTP/1.1\r\n' +
2025-08-10 10:45:31        'Accept: application/json, text/plain, */*\r\n' +
2025-08-10 10:45:31        'Content-Type: application/json\r\n' +
2025-08-10 10:45:31        'Authorization: Bearer +LATS/cSYCUN4VVSpU/2TOWpDXGyYl2os+C99MgPfEnAG5pHrmY3fEGJoMik7hddPGBV+hQcpnypK0bDjW3x4FfTq1Iohow/cd3+PrGnpP/mEzymfa0VcComebCYH5z0a5FHQRjiv7Ggw8t+FKOo0wdB04t89/1O/w1cDnyilFU=\r\n' +
2025-08-10 10:45:31        'User-Agent: axios/1.11.0\r\n' +
2025-08-10 10:45:31        'Content-Length: 129\r\n' +
2025-08-10 10:45:31        'Accept-Encoding: gzip, compress, deflate, br\r\n' +
2025-08-10 10:45:31        'Host: api.line.me\r\n' +
2025-08-10 10:45:31        'Connection: keep-alive\r\n' +
2025-08-10 10:45:31        '\r\n',
2025-08-10 10:45:31      _keepAliveTimeout: 0,
2025-08-10 10:45:31      _onPendingData: [Function: nop],
2025-08-10 10:45:31      agent: Agent {
2025-08-10 10:45:31        _events: [Object: null prototype],
2025-08-10 10:45:31        _eventsCount: 2,
2025-08-10 10:45:31        _maxListeners: undefined,
2025-08-10 10:45:31        options: [Object: null prototype],
2025-08-10 10:45:31        defaultPort: 443,
2025-08-10 10:45:31        protocol: 'https:',
2025-08-10 10:45:31        requests: [Object: null prototype] {},
2025-08-10 10:45:31        sockets: [Object: null prototype],
2025-08-10 10:45:31        freeSockets: [Object: null prototype] {},
2025-08-10 10:45:31  🚀 生產用戶，使用真實 LINE Service
2025-08-10 10:45:31  🔍 檢查 replyToken: reply_token_1754822724268
2025-08-10 10:45:31  ❌ 訊息回覆失敗: { message: 'Invalid reply token' }
2025-08-10 10:45:31  ❌ Webhook 處理失敗: AxiosError: Request failed with status code 400
2025-08-10 10:45:31      at settle (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:2090:12)
2025-08-10 10:45:31      at IncomingMessage.handleStreamEnd (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:3207:11)
2025-08-10 10:45:31      at IncomingMessage.emit (node:events:519:35)
2025-08-10 10:45:31      at endReadableNT (node:internal/streams/readable:1701:12)
2025-08-10 10:45:31      at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
2025-08-10 10:45:31      at Axios.request (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:4317:41)
2025-08-10 10:45:31      at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-10 10:45:31      at async Object.replyMessage (/opt/render/project/src/src/services/lineService.js:75:22)
2025-08-10 10:45:31      at async handleTextMessage (/opt/render/project/src/src/bot/webhook.js:149:5)
2025-08-10 10:45:31      at async handleWebhook (/opt/render/project/src/src/bot/webhook.js:438:13)
2025-08-10 10:45:31      at async /opt/render/project/src/src/index.js:34:5 {
2025-08-10 10:45:31    code: 'ERR_BAD_REQUEST',
2025-08-10 10:45:31    config: {
2025-08-10 10:45:31      transitional: {
2025-08-10 10:45:31        silentJSONParsing: true,
2025-08-10 10:45:31        forcedJSONParsing: true,
2025-08-10 10:45:31        clarifyTimeoutError: false
2025-08-10 10:45:31      },
2025-08-10 10:45:31      adapter: [ 'xhr', 'http', 'fetch' ],
2025-08-10 10:45:31      transformRequest: [ [Function: transformRequest] ],
2025-08-10 10:45:31      transformResponse: [ [Function: transformResponse] ],
2025-08-10 10:45:31      timeout: 0,
2025-08-10 10:45:31      xsrfCookieName: 'XSRF-TOKEN',
2025-08-10 10:45:31      xsrfHeaderName: 'X-XSRF-TOKEN',
2025-08-10 10:45:31      maxContentLength: -1,
2025-08-10 10:45:31      maxBodyLength: -1,
2025-08-10 10:45:31      env: { FormData: [Function [FormData]], Blob: [class Blob] },
2025-08-10 10:45:31      validateStatus: [Function: validateStatus],
2025-08-10 10:45:31      headers: Object [AxiosHeaders] {
2025-08-10 10:45:31        Accept: 'application/json, text/plain, */*',
2025-08-10 10:45:31        'Content-Type': 'application/json',
2025-08-10 10:45:31        Authorization: 'Bearer +LATS/cSYCUN4VVSpU/2TOWpDXGyYl2os+C99MgPfEnAG5pHrmY3fEGJoMik7hddPGBV+hQcpnypK0bDjW3x4FfTq1Iohow/cd3+PrGnpP/mEzymfa0VcComebCYH5z0a5FHQRjiv7Ggw8t+FKOo0wdB04t89/1O/w1cDnyilFU=',
2025-08-10 10:45:31        'User-Agent': 'axios/1.11.0',
2025-08-10 10:45:31        'Content-Length': '129',
2025-08-10 10:45:31        'Accept-Encoding': 'gzip, compress, deflate, br'
2025-08-10 10:45:31      },
2025-08-10 10:45:31      method: 'post',
2025-08-10 10:45:31      url: 'https://api.line.me/v2/bot/message/reply',
2025-08-10 10:45:31      data: '{"replyToken":"reply_token_1754822724268","messages":[{"type":"text","text":"處理訊息時發生錯誤，請稍後再試。"}]}',
2025-08-10 10:45:31      allowAbsoluteUrls: true
2025-08-10 10:45:31    },
2025-08-10 10:45:31    request: <ref *1> ClientRequest {
2025-08-10 10:45:31      _events: [Object: null prototype] {
2025-08-10 10:45:31        abort: [Function (anonymous)],
2025-08-10 10:45:31        aborted: [Function (anonymous)],
2025-08-10 10:45:31        connect: [Function (anonymous)],
2025-08-10 10:45:31        error: [Function (anonymous)],
2025-08-10 10:45:31        socket: [Function (anonymous)],
2025-08-10 10:45:31        timeout: [Function (anonymous)],
2025-08-10 10:45:31        finish: [Function: requestOnFinish]
2025-08-10 10:45:31      },
2025-08-10 10:45:31      _eventsCount: 7,
2025-08-10 10:45:31      _maxListeners: undefined,
2025-08-10 10:45:31      outputData: [],
2025-08-10 10:45:31      outputSize: 0,
2025-08-10 10:45:31      writable: true,
2025-08-10 10:45:31      destroyed: false,
2025-08-10 10:45:31      _last: false,
2025-08-10 10:45:31      chunkedEncoding: false,
2025-08-10 10:45:31      shouldKeepAlive: false,
2025-08-10 10:45:31      maxRequestsOnConnectionReached: false,
2025-08-10 10:45:31      _defaultKeepAlive: true,
2025-08-10 10:45:31      useChunkedEncodingByDefault: true,
2025-08-10 10:45:31      sendDate: false,
2025-08-10 10:45:31      _removedConnection: false,
2025-08-10 10:45:31      _removedContLen: false,
2025-08-10 10:45:31      _removedTE: false,
2025-08-10 10:45:31      strictContentLength: false,
2025-08-10 10:45:31      _contentLength: 129,
2025-08-10 10:45:31      _hasBody: true,
2025-08-10 10:45:31      _trailer: '',
2025-08-10 10:45:31      finished: true,
2025-08-10 10:45:31      _headerSent: true,
2025-08-10 10:45:31      _closed: false,
2025-08-10 10:45:31      _header: 'POST /v2/bot/message/reply HTTP/1.1\r\n' +
2025-08-10 10:45:31        'Accept: application/json, text/plain, */*\r\n' +
2025-08-10 10:45:31        'Content-Type: application/json\r\n' +
2025-08-10 10:45:31        'Authorization: Bearer +LATS/cSYCUN4VVSpU/2TOWpDXGyYl2os+C99MgPfEnAG5pHrmY3fEGJoMik7hddPGBV+hQcpnypK0bDjW3x4FfTq1Iohow/cd3+PrGnpP/mEzymfa0VcComebCYH5z0a5FHQRjiv7Ggw8t+FKOo0wdB04t89/1O/w1cDnyilFU=\r\n' +
2025-08-10 10:45:31        'User-Agent: axios/1.11.0\r\n' +
2025-08-10 10:45:31        'Content-Length: 129\r\n' +
2025-08-10 10:45:31        'Accept-Encoding: gzip, compress, deflate, br\r\n' +
2025-08-10 10:45:31        'Host: api.line.me\r\n' +
2025-08-10 10:45:31        'Connection: keep-alive\r\n' +
2025-08-10 10:45:31        '\r\n',
2025-08-10 10:45:31      _keepAliveTimeout: 0,
2025-08-10 10:45:31      _onPendingData: [Function: nop],
2025-08-10 10:45:31      agent: Agent {
2025-08-10 10:45:31        _events: [Object: null prototype],
2025-08-10 10:45:31        _eventsCount: 2,
2025-08-10 10:45:31        _maxListeners: undefined,
2025-08-10 10:45:31        options: [Object: null prototype],
2025-08-10 10:45:31        defaultPort: 443,
2025-08-10 10:45:31        protocol: 'https:',
2025-08-10 10:45:31        requests: [Object: null prototype] {},
2025-08-10 10:45:31        sockets: [Object: null prototype],
2025-08-10 10:45:31        freeSockets: [Object: null prototype] {},
2025-08-10 10:45:31  🚀 生產用戶，使用真實 LINE Service
2025-08-10 10:45:31  🔍 檢查 replyToken: reply_token_1754822724268
2025-08-10 10:45:31  ❌ 訊息回覆失敗: { message: 'Invalid reply token' }
2025-08-10 10:45:31  ❌ Webhook 處理失敗: AxiosError: Request failed with status code 400
2025-08-10 10:45:31      at settle (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:2090:12)
2025-08-10 10:45:31      at IncomingMessage.handleStreamEnd (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:3207:11)
2025-08-10 10:45:31      at IncomingMessage.emit (node:events:519:35)
2025-08-10 10:45:31      at endReadableNT (node:internal/streams/readable:1701:12)
2025-08-10 10:45:31      at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
2025-08-10 10:45:31      at Axios.request (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:4317:41)
2025-08-10 10:45:31      at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-10 10:45:31      at async Object.replyMessage (/opt/render/project/src/src/services/lineService.js:75:22)
2025-08-10 10:45:31      at async handleTextMessage (/opt/render/project/src/src/bot/webhook.js:149:5)
2025-08-10 10:45:31      at async handleWebhook (/opt/render/project/src/src/bot/webhook.js:438:13)
2025-08-10 10:45:31      at async /opt/render/project/src/src/index.js:34:5 {
2025-08-10 10:45:31    code: 'ERR_BAD_REQUEST',
2025-08-10 10:45:31    config: {
2025-08-10 10:45:31      transitional: {
2025-08-10 10:45:31        silentJSONParsing: true,
2025-08-10 10:45:31        forcedJSONParsing: true,
2025-08-10 10:45:31        clarifyTimeoutError: false
2025-08-10 10:45:31      },
2025-08-10 10:45:31      adapter: [ 'xhr', 'http', 'fetch' ],
2025-08-10 10:45:31      transformRequest: [ [Function: transformRequest] ],
2025-08-10 10:45:31      transformResponse: [ [Function: transformResponse] ],
2025-08-10 10:45:31      timeout: 0,
2025-08-10 10:45:31      xsrfCookieName: 'XSRF-TOKEN',
2025-08-10 10:45:31      xsrfHeaderName: 'X-XSRF-TOKEN',
2025-08-10 10:45:31      maxContentLength: -1,
2025-08-10 10:45:31      maxBodyLength: -1,
2025-08-10 10:45:31      env: { FormData: [Function [FormData]], Blob: [class Blob] },
2025-08-10 10:45:31      validateStatus: [Function: validateStatus],
2025-08-10 10:45:31      headers: Object [AxiosHeaders] {
2025-08-10 10:45:31        Accept: 'application/json, text/plain, */*',
2025-08-10 10:45:31        'Content-Type': 'application/json',
2025-08-10 10:45:31        Authorization: 'Bearer +LATS/cSYCUN4VVSpU/2TOWpDXGyYl2os+C99MgPfEnAG5pHrmY3fEGJoMik7hddPGBV+hQcpnypK0bDjW3x4FfTq1Iohow/cd3+PrGnpP/mEzymfa0VcComebCYH5z0a5FHQRjiv7Ggw8t+FKOo0wdB04t89/1O/w1cDnyilFU=',
2025-08-10 10:45:31        'User-Agent': 'axios/1.11.0',
2025-08-10 10:45:31        'Content-Length': '129',
2025-08-10 10:45:31        'Accept-Encoding': 'gzip, compress, deflate, br'
2025-08-10 10:45:31      },
2025-08-10 10:45:31      method: 'post',
2025-08-10 10:45:31      url: 'https://api.line.me/v2/bot/message/reply',
2025-08-10 10:45:31      data: '{"replyToken":"reply_token_1754822724268","messages":[{"type":"text","text":"處理訊息時發生錯誤，請稍後再試。"}]}',
2025-08-10 10:45:31      allowAbsoluteUrls: true
2025-08-10 10:45:31    },
2025-08-10 10:45:31    request: <ref *1> ClientRequest {
2025-08-10 10:45:31      _events: [Object: null prototype] {
2025-08-10 10:45:31        abort: [Function (anonymous)],
2025-08-10 10:45:31        aborted: [Function (anonymous)],
2025-08-10 10:45:31        connect: [Function (anonymous)],
2025-08-10 10:45:31        error: [Function (anonymous)],
2025-08-10 10:45:31        socket: [Function (anonymous)],
2025-08-10 10:45:31        timeout: [Function (anonymous)],
2025-08-10 10:45:31        finish: [Function: requestOnFinish]
2025-08-10 10:45:31      },
2025-08-10 10:45:31      _eventsCount: 7,
2025-08-10 10:45:31      _maxListeners: undefined,
2025-08-10 10:45:31      outputData: [],
2025-08-10 10:45:31      outputSize: 0,
2025-08-10 10:45:31      writable: true,
2025-08-10 10:45:31      destroyed: false,
2025-08-10 10:45:31      _last: false,
2025-08-10 10:45:31      chunkedEncoding: false,
2025-08-10 10:45:31      shouldKeepAlive: false,
2025-08-10 10:45:31      maxRequestsOnConnectionReached: false,
2025-08-10 10:45:31      _defaultKeepAlive: true,
2025-08-10 10:45:31      useChunkedEncodingByDefault: true,
2025-08-10 10:45:31      sendDate: false,
2025-08-10 10:45:31      _removedConnection: false,
2025-08-10 10:45:31      _removedContLen: false,
2025-08-10 10:45:31      _removedTE: false,
2025-08-10 10:45:31      strictContentLength: false,
2025-08-10 10:45:31      _contentLength: 129,
2025-08-10 10:45:31      _hasBody: true,
2025-08-10 10:45:31      _trailer: '',
2025-08-10 10:45:31      finished: true,
2025-08-10 10:45:31      _headerSent: true,
2025-08-10 10:45:31      _closed: false,
2025-08-10 10:45:31      _header: 'POST /v2/bot/message/reply HTTP/1.1\r\n' +
2025-08-10 10:45:31        'Accept: application/json, text/plain, */*\r\n' +
2025-08-10 10:45:31        'Content-Type: application/json\r\n' +
2025-08-10 10:45:31        'Authorization: Bearer +LATS/cSYCUN4VVSpU/2TOWpDXGyYl2os+C99MgPfEnAG5pHrmY3fEGJoMik7hddPGBV+hQcpnypK0bDjW3x4FfTq1Iohow/cd3+PrGnpP/mEzymfa0VcComebCYH5z0a5FHQRjiv7Ggw8t+FKOo0wdB04t89/1O/w1cDnyilFU=\r\n' +
2025-08-10 10:45:31        'User-Agent: axios/1.11.0\r\n' +
2025-08-10 10:45:31        'Content-Length: 129\r\n' +
2025-08-10 10:45:31        'Accept-Encoding: gzip, compress, deflate, br\r\n' +
2025-08-10 10:45:31        'Host: api.line.me\r\n' +
2025-08-10 10:45:31        'Connection: keep-alive\r\n' +
2025-08-10 10:45:31        '\r\n',
2025-08-10 10:45:31      _keepAliveTimeout: 0,
2025-08-10 10:45:31      _onPendingData: [Function: nop],
2025-08-10 10:45:31      agent: Agent {
2025-08-10 10:45:31        _events: [Object: null prototype],
2025-08-10 10:45:31        _eventsCount: 2,
2025-08-10 10:45:31        _maxListeners: undefined,
2025-08-10 10:45:31        options: [Object: null prototype],
2025-08-10 10:45:31        defaultPort: 443,
2025-08-10 10:45:31        protocol: 'https:',
2025-08-10 10:45:31        requests: [Object: null prototype] {},
2025-08-10 10:45:31        sockets: [Object: null prototype],
2025-08-10 10:45:31        freeSockets: [Object: null prototype] {},
2025-08-10 10:45:31  🚀 生產用戶，使用真實 LINE Service
2025-08-10 10:45:31  🔍 檢查 replyToken: reply_token_1754822724268
2025-08-10 10:45:31  ❌ 訊息回覆失敗: { message: 'Invalid reply token' }
2025-08-10 10:45:31  ❌ Webhook 處理失敗: AxiosError: Request failed with status code 400
2025-08-10 10:45:31      at settle (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:2090:12)
2025-08-10 10:45:31      at IncomingMessage.handleStreamEnd (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:3207:11)
2025-08-10 10:45:31      at IncomingMessage.emit (node:events:519:35)
2025-08-10 10:45:31      at endReadableNT (node:internal/streams/readable:1701:12)
2025-08-10 10:45:31      at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
2025-08-10 10:45:31      at Axios.request (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:4317:41)
2025-08-10 10:45:31      at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-10 10:45:31      at async Object.replyMessage (/opt/render/project/src/src/services/lineService.js:75:22)
2025-08-10 10:45:31      at async handleTextMessage (/opt/render/project/src/src/bot/webhook.js:149:5)
2025-08-10 10:45:31      at async handleWebhook (/opt/render/project/src/src/bot/webhook.js:438:13)
2025-08-10 10:45:31      at async /opt/render/project/src/src/index.js:34:5 {
2025-08-10 10:45:31    code: 'ERR_BAD_REQUEST',
2025-08-10 10:45:31    config: {
2025-08-10 10:45:31      transitional: {
2025-08-10 10:45:31        silentJSONParsing: true,
2025-08-10 10:45:31        forcedJSONParsing: true,
2025-08-10 10:45:31        clarifyTimeoutError: false
2025-08-10 10:45:31      },
2025-08-10 10:45:31      adapter: [ 'xhr', 'http', 'fetch' ],
2025-08-10 10:45:31      transformRequest: [ [Function: transformRequest] ],
2025-08-10 10:45:31      transformResponse: [ [Function: transformResponse] ],
2025-08-10 10:45:31      timeout: 0,
2025-08-10 10:45:31      xsrfCookieName: 'XSRF-TOKEN',
2025-08-10 10:45:31      xsrfHeaderName: 'X-XSRF-TOKEN',
2025-08-10 10:45:31      maxContentLength: -1,
2025-08-10 10:45:31      maxBodyLength: -1,
2025-08-10 10:45:31      env: { FormData: [Function [FormData]], Blob: [class Blob] },
2025-08-10 10:45:31      validateStatus: [Function: validateStatus],
2025-08-10 10:45:31      headers: Object [AxiosHeaders] {
2025-08-10 10:45:31        Accept: 'application/json, text/plain, */*',
2025-08-10 10:45:31        'Content-Type': 'application/json',
2025-08-10 10:45:31        Authorization: 'Bearer +LATS/cSYCUN4VVSpU/2TOWpDXGyYl2os+C99MgPfEnAG5pHrmY3fEGJoMik7hddPGBV+hQcpnypK0bDjW3x4FfTq1Iohow/cd3+PrGnpP/mEzymfa0VcComebCYH5z0a5FHQRjiv7Ggw8t+FKOo0wdB04t89/1O/w1cDnyilFU=',
2025-08-10 10:45:31        'User-Agent': 'axios/1.11.0',
2025-08-10 10:45:31        'Content-Length': '129',
2025-08-10 10:45:31        'Accept-Encoding': 'gzip, compress, deflate, br'
2025-08-10 10:45:31      },
2025-08-10 10:45:31      method: 'post',
2025-08-10 10:45:31      url: 'https://api.line.me/v2/bot/message/reply',
2025-08-10 10:45:31      data: '{"replyToken":"reply_token_1754822724268","messages":[{"type":"text","text":"處理訊息時發生錯誤，請稍後再試。"}]}',
2025-08-10 10:45:31      allowAbsoluteUrls: true
2025-08-10 10:45:31    },
2025-08-10 10:45:31    request: <ref *1> ClientRequest {
2025-08-10 10:45:31      _events: [Object: null prototype] {
2025-08-10 10:45:31        abort: [Function (anonymous)],
2025-08-10 10:45:31        aborted: [Function (anonymous)],
2025-08-10 10:45:31        connect: [Function (anonymous)],
2025-08-10 10:45:31        error: [Function (anonymous)],
2025-08-10 10:45:31        socket: [Function (anonymous)],
2025-08-10 10:45:31        timeout: [Function (anonymous)],
2025-08-10 10:45:31        finish: [Function: requestOnFinish]
2025-08-10 10:45:31      },
2025-08-10 10:45:31      _eventsCount: 7,
2025-08-10 10:45:31      _maxListeners: undefined,
2025-08-10 10:45:31      outputData: [],
2025-08-10 10:45:31      outputSize: 0,
2025-08-10 10:45:31      writable: true,
2025-08-10 10:45:31      destroyed: false,
2025-08-10 10:45:31      _last: false,
2025-08-10 10:45:31      chunkedEncoding: false,
2025-08-10 10:45:31      shouldKeepAlive: false,
2025-08-10 10:45:31      maxRequestsOnConnectionReached: false,
2025-08-10 10:45:31      _defaultKeepAlive: true,
2025-08-10 10:45:31      useChunkedEncodingByDefault: true,
2025-08-10 10:45:31      sendDate: false,
2025-08-10 10:45:31      _removedConnection: false,
2025-08-10 10:45:31      _removedContLen: false,
2025-08-10 10:45:31      _removedTE: false,
2025-08-10 10:45:31      strictContentLength: false,
2025-08-10 10:45:31      _contentLength: 129,
2025-08-10 10:45:31      _hasBody: true,
2025-08-10 10:45:31      _trailer: '',
2025-08-10 10:45:31      finished: true,
2025-08-10 10:45:31      _headerSent: true,
2025-08-10 10:45:31      _closed: false,
2025-08-10 10:45:31      _header: 'POST /v2/bot/message/reply HTTP/1.1\r\n' +
2025-08-10 10:45:31        'Accept: application/json, text/plain, */*\r\n' +
2025-08-10 10:45:31        'Content-Type: application/json\r\n' +
2025-08-10 10:45:31        'Authorization: Bearer +LATS/cSYCUN4VVSpU/2TOWpDXGyYl2os+C99MgPfEnAG5pHrmY3fEGJoMik7hddPGBV+hQcpnypK0bDjW3x4FfTq1Iohow/cd3+PrGnpP/mEzymfa0VcComebCYH5z0a5FHQRjiv7Ggw8t+FKOo0wdB04t89/1O/w1cDnyilFU=\r\n' +
2025-08-10 10:45:31        'User-Agent: axios/1.11.0\r\n' +
2025-08-10 10:45:31        'Content-Length: 129\r\n' +
2025-08-10 10:45:31        'Accept-Encoding: gzip, compress, deflate, br\r\n' +
2025-08-10 10:45:31        'Host: api.line.me\r\n' +
2025-08-10 10:45:31        'Connection: keep-alive\r\n' +
2025-08-10 10:45:31        '\r\n',
2025-08-10 10:45:31      _keepAliveTimeout: 0,
2025-08-10 10:45:31      _onPendingData: [Function: nop],
2025-08-10 10:45:31      agent: Agent {
2025-08-10 10:45:31        _events: [Object: null prototype],
2025-08-10 10:45:31        _eventsCount: 2,
2025-08-10 10:45:31        _maxListeners: undefined,
2025-08-10 10:45:31        options: [Object: null prototype],
2025-08-10 10:45:31        defaultPort: 443,
2025-08-10 10:45:31        protocol: 'https:',
2025-08-10 10:45:31        requests: [Object: null prototype] {},
2025-08-10 10:45:31        sockets: [Object: null prototype],
2025-08-10 10:45:31        freeSockets: [Object: null prototype] {},
2025-08-10 10:45:31  🚀 生產用戶，使用真實 LINE Service
2025-08-10 10:45:31  🔍 檢查 replyToken: reply_token_1754822724268
2025-08-10 10:45:31  ❌ 訊息回覆失敗: { message: 'Invalid reply token' }
2025-08-10 10:45:31  ❌ Webhook 處理失敗: AxiosError: Request failed with status code 400
2025-08-10 10:45:31      at settle (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:2090:12)
2025-08-10 10:45:31      at IncomingMessage.handleStreamEnd (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:3207:11)
2025-08-10 10:45:31      at IncomingMessage.emit (node:events:519:35)
2025-08-10 10:45:31      at endReadableNT (node:internal/streams/readable:1701:12)
2025-08-10 10:45:31      at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
2025-08-10 10:45:31      at Axios.request (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:4317:41)
2025-08-10 10:45:31      at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-10 10:45:31      at async Object.replyMessage (/opt/render/project/src/src/services/lineService.js:75:22)
2025-08-10 10:45:31      at async handleTextMessage (/opt/render/project/src/src/bot/webhook.js:149:5)
2025-08-10 10:45:31      at async handleWebhook (/opt/render/project/src/src/bot/webhook.js:438:13)
2025-08-10 10:45:31      at async /opt/render/project/src/src/index.js:34:5 {
2025-08-10 10:45:31    code: 'ERR_BAD_REQUEST',
2025-08-10 10:45:31    config: {
2025-08-10 10:45:31      transitional: {
2025-08-10 10:45:31        silentJSONParsing: true,
2025-08-10 10:45:31        forcedJSONParsing: true,
2025-08-10 10:45:31        clarifyTimeoutError: false
2025-08-10 10:45:31      },
2025-08-10 10:45:31      adapter: [ 'xhr', 'http', 'fetch' ],
2025-08-10 10:45:31      transformRequest: [ [Function: transformRequest] ],
2025-08-10 10:45:31      transformResponse: [ [Function: transformResponse] ],
2025-08-10 10:45:31      timeout: 0,
2025-08-10 10:45:31      xsrfCookieName: 'XSRF-TOKEN',
2025-08-10 10:45:31      xsrfHeaderName: 'X-XSRF-TOKEN',
2025-08-10 10:45:31      maxContentLength: -1,
2025-08-10 10:45:31      maxBodyLength: -1,
2025-08-10 10:45:31      env: { FormData: [Function [FormData]], Blob: [class Blob] },
2025-08-10 10:45:31      validateStatus: [Function: validateStatus],
2025-08-10 10:45:31      headers: Object [AxiosHeaders] {
2025-08-10 10:45:31        Accept: 'application/json, text/plain, */*',
2025-08-10 10:45:31        'Content-Type': 'application/json',
2025-08-10 10:45:31        Authorization: 'Bearer +LATS/cSYCUN4VVSpU/2TOWpDXGyYl2os+C99MgPfEnAG5pHrmY3fEGJoMik7hddPGBV+hQcpnypK0bDjW3x4FfTq1Iohow/cd3+PrGnpP/mEzymfa0VcComebCYH5z0a5FHQRjiv7Ggw8t+FKOo0wdB04t89/1O/w1cDnyilFU=',
2025-08-10 10:45:31        'User-Agent': 'axios/1.11.0',
2025-08-10 10:45:31        'Content-Length': '129',
2025-08-10 10:45:31        'Accept-Encoding': 'gzip, compress, deflate, br'
2025-08-10 10:45:31      },
2025-08-10 10:45:31      method: 'post',
2025-08-10 10:45:31      url: 'https://api.line.me/v2/bot/message/reply',
2025-08-10 10:45:31      data: '{"replyToken":"reply_token_1754822724268","messages":[{"type":"text","text":"處理訊息時發生錯誤，請稍後再試。"}]}',
2025-08-10 10:45:31      allowAbsoluteUrls: true
2025-08-10 10:45:31    },
2025-08-10 10:45:31    request: <ref *1> ClientRequest {
2025-08-10 10:45:31      _events: [Object: null prototype] {
2025-08-10 10:45:31        abort: [Function (anonymous)],
2025-08-10 10:45:31        aborted: [Function (anonymous)],
2025-08-10 10:45:31        connect: [Function (anonymous)],
2025-08-10 10:45:31        error: [Function (anonymous)],
2025-08-10 10:45:31        socket: [Function (anonymous)],
2025-08-10 10:45:31        timeout: [Function (anonymous)],
2025-08-10 10:45:31        finish: [Function: requestOnFinish]
2025-08-10 10:45:31      },
2025-08-10 10:45:31      _eventsCount: 7,
2025-08-10 10:45:31      _maxListeners: undefined,
2025-08-10 10:45:31      outputData: [],
2025-08-10 10:45:31      outputSize: 0,
2025-08-10 10:45:31      writable: true,
2025-08-10 10:45:31      destroyed: false,
2025-08-10 10:45:31      _last: false,
2025-08-10 10:45:31      chunkedEncoding: false,
2025-08-10 10:45:31      shouldKeepAlive: false,
2025-08-10 10:45:31      maxRequestsOnConnectionReached: false,
2025-08-10 10:45:31      _defaultKeepAlive: true,
2025-08-10 10:45:31      useChunkedEncodingByDefault: true,
2025-08-10 10:45:31      sendDate: false,
2025-08-10 10:45:31      _removedConnection: false,
2025-08-10 10:45:31      _removedContLen: false,
2025-08-10 10:45:31      _removedTE: false,
2025-08-10 10:45:31      strictContentLength: false,
2025-08-10 10:45:31      _contentLength: 129,
2025-08-10 10:45:31      _hasBody: true,
2025-08-10 10:45:31      _trailer: '',
2025-08-10 10:45:31      finished: true,
2025-08-10 10:45:31      _headerSent: true,
2025-08-10 10:45:31      _closed: false,
2025-08-10 10:45:31      _header: 'POST /v2/bot/message/reply HTTP/1.1\r\n' +
2025-08-10 10:45:31        'Accept: application/json, text/plain, */*\r\n' +
2025-08-10 10:45:31        'Content-Type: application/json\r\n' +
2025-08-10 10:45:31        'Authorization: Bearer +LATS/cSYCUN4VVSpU/2TOWpDXGyYl2os+C99MgPfEnAG5pHrmY3fEGJoMik7hddPGBV+hQcpnypK0bDjW3x4FfTq1Iohow/cd3+PrGnpP/mEzymfa0VcComebCYH5z0a5FHQRjiv7Ggw8t+FKOo0wdB04t89/1O/w1cDnyilFU=\r\n' +
2025-08-10 10:45:31        'User-Agent: axios/1.11.0\r\n' +
2025-08-10 10:45:31        'Content-Length: 129\r\n' +
2025-08-10 10:45:31        'Accept-Encoding: gzip, compress, deflate, br\r\n' +
2025-08-10 10:45:31        'Host: api.line.me\r\n' +
2025-08-10 10:45:31        'Connection: keep-alive\r\n' +
2025-08-10 10:45:31        '\r\n',
2025-08-10 10:45:31      _keepAliveTimeout: 0,
2025-08-10 10:45:31      _onPendingData: [Function: nop],
2025-08-10 10:45:31      agent: Agent {
2025-08-10 10:45:31        _events: [Object: null prototype],
2025-08-10 10:45:31        _eventsCount: 2,
2025-08-10 10:45:31        _maxListeners: undefined,
2025-08-10 10:45:31        options: [Object: null prototype],
2025-08-10 10:45:31        defaultPort: 443,
2025-08-10 10:45:31        protocol: 'https:',
2025-08-10 10:45:31        requests: [Object: null prototype] {},
2025-08-10 10:45:31        sockets: [Object: null prototype],
2025-08-10 10:45:31        freeSockets: [Object: null prototype] {},
2025-08-10 10:45:31  🚀 生產用戶，使用真實 LINE Service
2025-08-10 10:45:31  🔍 檢查 replyToken: reply_token_1754822724268
2025-08-10 10:45:31  ❌ 訊息回覆失敗: { message: 'Invalid reply token' }
2025-08-10 10:45:31  ❌ Webhook 處理失敗: AxiosError: Request failed with status code 400
2025-08-10 10:45:31      at settle (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:2090:12)
2025-08-10 10:45:31      at IncomingMessage.handleStreamEnd (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:3207:11)
2025-08-10 10:45:31      at IncomingMessage.emit (node:events:519:35)
2025-08-10 10:45:31      at endReadableNT (node:internal/streams/readable:1701:12)
2025-08-10 10:45:31      at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
2025-08-10 10:45:31      at Axios.request (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:4317:41)
2025-08-10 10:45:31      at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-10 10:45:31      at async Object.replyMessage (/opt/render/project/src/src/services/lineService.js:75:22)
2025-08-10 10:45:31      at async handleTextMessage (/opt/render/project/src/src/bot/webhook.js:149:5)
2025-08-10 10:45:31      at async handleWebhook (/opt/render/project/src/src/bot/webhook.js:438:13)
2025-08-10 10:45:31      at async /opt/render/project/src/src/index.js:34:5 {
2025-08-10 10:45:31    code: 'ERR_BAD_REQUEST',
2025-08-10 10:45:31    config: {
2025-08-10 10:45:31      transitional: {
2025-08-10 10:45:31        silentJSONParsing: true,
2025-08-10 10:45:31        forcedJSONParsing: true,
2025-08-10 10:45:31        clarifyTimeoutError: false
2025-08-10 10:45:31      },
2025-08-10 10:45:31      adapter: [ 'xhr', 'http', 'fetch' ],
2025-08-10 10:45:31      transformRequest: [ [Function: transformRequest] ],
2025-08-10 10:45:31      transformResponse: [ [Function: transformResponse] ],
2025-08-10 10:45:31      timeout: 0,
2025-08-10 10:45:31      xsrfCookieName: 'XSRF-TOKEN',
2025-08-10 10:45:31      xsrfHeaderName: 'X-XSRF-TOKEN',
2025-08-10 10:45:31      maxContentLength: -1,
2025-08-10 10:45:31      maxBodyLength: -1,
2025-08-10 10:45:31      env: { FormData: [Function [FormData]], Blob: [class Blob] },
2025-08-10 10:45:31      validateStatus: [Function: validateStatus],
2025-08-10 10:45:31      headers: Object [AxiosHeaders] {
2025-08-10 10:45:31        Accept: 'application/json, text/plain, */*',
2025-08-10 10:45:31        'Content-Type': 'application/json',
2025-08-10 10:45:31        Authorization: 'Bearer +LATS/cSYCUN4VVSpU/2TOWpDXGyYl2os+C99MgPfEnAG5pHrmY3fEGJoMik7hddPGBV+hQcpnypK0bDjW3x4FfTq1Iohow/cd3+PrGnpP/mEzymfa0VcComebCYH5z0a5FHQRjiv7Ggw8t+FKOo0wdB04t89/1O/w1cDnyilFU=',
2025-08-10 10:45:31        'User-Agent': 'axios/1.11.0',
2025-08-10 10:45:31        'Content-Length': '129',
2025-08-10 10:45:31        'Accept-Encoding': 'gzip, compress, deflate, br'
2025-08-10 10:45:31      },
2025-08-10 10:45:31      method: 'post',
2025-08-10 10:45:31      url: 'https://api.line.me/v2/bot/message/reply',
2025-08-10 10:45:31      data: '{"replyToken":"reply_token_1754822724268","messages":[{"type":"text","text":"處理訊息時發生錯誤，請稍後再試。"}]}',
2025-08-10 10:45:31      allowAbsoluteUrls: true
2025-08-10 10:45:31    },
2025-08-10 10:45:31    request: <ref *1> ClientRequest {
2025-08-10 10:45:31      _events: [Object: null prototype] {
2025-08-10 10:45:31        abort: [Function (anonymous)],
2025-08-10 10:45:31        aborted: [Function (anonymous)],
2025-08-10 10:45:31        connect: [Function (anonymous)],
2025-08-10 10:45:31        error: [Function (anonymous)],
2025-08-10 10:45:31        socket: [Function (anonymous)],
2025-08-10 10:45:31        timeout: [Function (anonymous)],
2025-08-10 10:45:31        finish: [Function: requestOnFinish]
2025-08-10 10:45:31      },
2025-08-10 10:45:31      _eventsCount: 7,
2025-08-10 10:45:31      _maxListeners: undefined,
2025-08-10 10:45:31      outputData: [],
2025-08-10 10:45:31      outputSize: 0,
2025-08-10 10:45:31      writable: true,
2025-08-10 10:45:31      destroyed: false,
2025-08-10 10:45:31      _last: false,
2025-08-10 10:45:31      chunkedEncoding: false,
2025-08-10 10:45:31      shouldKeepAlive: false,
2025-08-10 10:45:31      maxRequestsOnConnectionReached: false,
2025-08-10 10:45:31      _defaultKeepAlive: true,
2025-08-10 10:45:31      useChunkedEncodingByDefault: true,
2025-08-10 10:45:31      sendDate: false,
2025-08-10 10:45:31      _removedConnection: false,
2025-08-10 10:45:31      _removedContLen: false,
2025-08-10 10:45:31      _removedTE: false,
2025-08-10 10:45:31      strictContentLength: false,
2025-08-10 10:45:31      _contentLength: 129,
2025-08-10 10:45:31      _hasBody: true,
2025-08-10 10:45:31      _trailer: '',
2025-08-10 10:45:31      finished: true,
2025-08-10 10:45:31      _headerSent: true,
2025-08-10 10:45:31      _closed: false,
2025-08-10 10:45:31      _header: 'POST /v2/bot/message/reply HTTP/1.1\r\n' +
2025-08-10 10:45:31        'Accept: application/json, text/plain, */*\r\n' +
2025-08-10 10:45:31        'Content-Type: application/json\r\n' +
2025-08-10 10:45:31        'Authorization: Bearer +LATS/cSYCUN4VVSpU/2TOWpDXGyYl2os+C99MgPfEnAG5pHrmY3fEGJoMik7hddPGBV+hQcpnypK0bDjW3x4FfTq1Iohow/cd3+PrGnpP/mEzymfa0VcComebCYH5z0a5FHQRjiv7Ggw8t+FKOo0wdB04t89/1O/w1cDnyilFU=\r\n' +
2025-08-10 10:45:31        'User-Agent: axios/1.11.0\r\n' +
2025-08-10 10:45:31        'Content-Length: 129\r\n' +
2025-08-10 10:45:31        'Accept-Encoding: gzip, compress, deflate, br\r\n' +
2025-08-10 10:45:31        'Host: api.line.me\r\n' +
2025-08-10 10:45:31        'Connection: keep-alive\r\n' +
2025-08-10 10:45:31        '\r\n',
2025-08-10 10:45:31      _keepAliveTimeout: 0,
2025-08-10 10:45:31      _onPendingData: [Function: nop],
2025-08-10 10:45:31      agent: Agent {
2025-08-10 10:45:31        _events: [Object: null prototype],
2025-08-10 10:45:31        _eventsCount: 2,
2025-08-10 10:45:31        _maxListeners: undefined,
2025-08-10 10:45:31        options: [Object: null prototype],
2025-08-10 10:45:31        defaultPort: 443,
2025-08-10 10:45:31        protocol: 'https:',
2025-08-10 10:45:31        requests: [Object: null prototype] {},
2025-08-10 10:45:31        sockets: [Object: null prototype],
2025-08-10 10:45:31        freeSockets: [Object: null prototype] {},
2025-08-10 10:45:31  🚀 生產用戶，使用真實 LINE Service
2025-08-10 10:45:31  🔍 檢查 replyToken: reply_token_1754822724268
2025-08-10 10:45:31  ❌ 訊息回覆失敗: { message: 'Invalid reply token' }
2025-08-10 10:45:31  ❌ Webhook 處理失敗: AxiosError: Request failed with status code 400
2025-08-10 10:45:31      at settle (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:2090:12)
2025-08-10 10:45:31      at IncomingMessage.handleStreamEnd (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:3207:11)
2025-08-10 10:45:31      at IncomingMessage.emit (node:events:519:35)
2025-08-10 10:45:31      at endReadableNT (node:internal/streams/readable:1701:12)
2025-08-10 10:45:31      at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
2025-08-10 10:45:31      at Axios.request (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:4317:41)
2025-08-10 10:45:31      at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-10 10:45:31      at async Object.replyMessage (/opt/render/project/src/src/services/lineService.js:75:22)
2025-08-10 10:45:31      at async handleTextMessage (/opt/render/project/src/src/bot/webhook.js:149:5)
2025-08-10 10:45:31      at async handleWebhook (/opt/render/project/src/src/bot/webhook.js:438:13)
2025-08-10 10:45:31      at async /opt/render/project/src/src/index.js:34:5 {
2025-08-10 10:45:31    code: 'ERR_BAD_REQUEST',
2025-08-10 10:45:31    config: {
2025-08-10 10:45:31      transitional: {
2025-08-10 10:45:31        silentJSONParsing: true,
2025-08-10 10:45:31        forcedJSONParsing: true,
2025-08-10 10:45:31        clarifyTimeoutError: false
2025-08-10 10:45:31      },
2025-08-10 10:45:31      adapter: [ 'xhr', 'http', 'fetch' ],
2025-08-10 10:45:31      transformRequest: [ [Function: transformRequest] ],
2025-08-10 10:45:31      transformResponse: [ [Function: transformResponse] ],
2025-08-10 10:45:31      timeout: 0,
2025-08-10 10:45:31      xsrfCookieName: 'XSRF-TOKEN',
2025-08-10 10:45:31      xsrfHeaderName: 'X-XSRF-TOKEN',
2025-08-10 10:45:31      maxContentLength: -1,
2025-08-10 10:45:31      maxBodyLength: -1,
2025-08-10 10:45:31      env: { FormData: [Function [FormData]], Blob: [class Blob] },
2025-08-10 10:45:31      validateStatus: [Function: validateStatus],
2025-08-10 10:45:31      headers: Object [AxiosHeaders] {
2025-08-10 10:45:31        Accept: 'application/json, text/plain, */*',
2025-08-10 10:45:31        'Content-Type': 'application/json',
2025-08-10 10:45:31        Authorization: 'Bearer +LATS/cSYCUN4VVSpU/2TOWpDXGyYl2os+C99MgPfEnAG5pHrmY3fEGJoMik7hddPGBV+hQcpnypK0bDjW3x4FfTq1Iohow/cd3+PrGnpP/mEzymfa0VcComebCYH5z0a5FHQRjiv7Ggw8t+FKOo0wdB04t89/1O/w1cDnyilFU=',
2025-08-10 10:45:31        'User-Agent': 'axios/1.11.0',
2025-08-10 10:45:31        'Content-Length': '129',
2025-08-10 10:45:31        'Accept-Encoding': 'gzip, compress, deflate, br'
2025-08-10 10:45:31      },
2025-08-10 10:45:31      method: 'post',
2025-08-10 10:45:31      url: 'https://api.line.me/v2/bot/message/reply',
2025-08-10 10:45:31      data: '{"replyToken":"reply_token_1754822724268","messages":[{"type":"text","text":"處理訊息時發生錯誤，請稍後再試。"}]}',
2025-08-10 10:45:31      allowAbsoluteUrls: true
2025-08-10 10:45:31    },
2025-08-10 10:45:31    request: <ref *1> ClientRequest {
2025-08-10 10:45:31      _events: [Object: null prototype] {
2025-08-10 10:45:31        abort: [Function (anonymous)],
2025-08-10 10:45:31        aborted: [Function (anonymous)],
2025-08-10 10:45:31        connect: [Function (anonymous)],
2025-08-10 10:45:31        error: [Function (anonymous)],
2025-08-10 10:45:31        socket: [Function (anonymous)],
2025-08-10 10:45:31        timeout: [Function (anonymous)],
2025-08-10 10:45:31        finish: [Function: requestOnFinish]
2025-08-10 10:45:31      },
2025-08-10 10:45:31      _eventsCount: 7,
2025-08-10 10:45:31      _maxListeners: undefined,
2025-08-10 10:45:31      outputData: [],
2025-08-10 10:45:31      outputSize: 0,
2025-08-10 10:45:31      writable: true,
2025-08-10 10:45:31      destroyed: false,
2025-08-10 10:45:31      _last: false,
2025-08-10 10:45:31      chunkedEncoding: false,
2025-08-10 10:45:31      shouldKeepAlive: false,
2025-08-10 10:45:31      maxRequestsOnConnectionReached: false,
2025-08-10 10:45:31      _defaultKeepAlive: true,
2025-08-10 10:45:31      useChunkedEncodingByDefault: true,
2025-08-10 10:45:31      sendDate: false,
2025-08-10 10:45:31      _removedConnection: false,
2025-08-10 10:45:31      _removedContLen: false,
2025-08-10 10:45:31      _removedTE: false,
2025-08-10 10:45:31      strictContentLength: false,
2025-08-10 10:45:31      _contentLength: 129,
2025-08-10 10:45:31      _hasBody: true,
2025-08-10 10:45:31      _trailer: '',
2025-08-10 10:45:31      finished: true,
2025-08-10 10:45:31      _headerSent: true,
2025-08-10 10:45:31      _closed: false,
2025-08-10 10:45:31      _header: 'POST /v2/bot/message/reply HTTP/1.1\r\n' +
2025-08-10 10:45:31        'Accept: application/json, text/plain, */*\r\n' +
2025-08-10 10:45:31        'Content-Type: application/json\r\n' +
2025-08-10 10:45:31        'Authorization: Bearer +LATS/cSYCUN4VVSpU/2TOWpDXGyYl2os+C99MgPfEnAG5pHrmY3fEGJoMik7hddPGBV+hQcpnypK0bDjW3x4FfTq1Iohow/cd3+PrGnpP/mEzymfa0VcComebCYH5z0a5FHQRjiv7Ggw8t+FKOo0wdB04t89/1O/w1cDnyilFU=\r\n' +
2025-08-10 10:45:31        'User-Agent: axios/1.11.0\r\n' +
2025-08-10 10:45:31        'Content-Length: 129\r\n' +
2025-08-10 10:45:31        'Accept-Encoding: gzip, compress, deflate, br\r\n' +
2025-08-10 10:45:31        'Host: api.line.me\r\n' +
2025-08-10 10:45:31        'Connection: keep-alive\r\n' +
2025-08-10 10:45:31        '\r\n',
2025-08-10 10:45:31      _keepAliveTimeout: 0,
2025-08-10 10:45:31      _onPendingData: [Function: nop],
2025-08-10 10:45:31      agent: Agent {
2025-08-10 10:45:31        _events: [Object: null prototype],
2025-08-10 10:45:31        _eventsCount: 2,
2025-08-10 10:45:31        _maxListeners: undefined,
2025-08-10 10:45:31        options: [Object: null prototype],
2025-08-10 10:45:31        defaultPort: 443,
2025-08-10 10:45:31        protocol: 'https:',
2025-08-10 10:45:31        requests: [Object: null prototype] {},
2025-08-10 10:45:31        sockets: [Object: null prototype],
2025-08-10 10:45:31        freeSockets: [Object: null prototype] {},
2025-08-10 10:45:31  🚀 生產用戶，使用真實 LINE Service
2025-08-10 10:45:31  🔍 檢查 replyToken: reply_token_1754822724268
2025-08-10 10:45:31  ❌ 訊息回覆失敗: { message: 'Invalid reply token' }
2025-08-10 10:45:31  ❌ Webhook 處理失敗: AxiosError: Request failed with status code 400
2025-08-10 10:45:31      at settle (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:2090:12)
2025-08-10 10:45:31      at IncomingMessage.handleStreamEnd (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:3207:11)
2025-08-10 10:45:31      at IncomingMessage.emit (node:events:519:35)
2025-08-10 10:45:31      at endReadableNT (node:internal/streams/readable:1701:12)
2025-08-10 10:45:31      at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
2025-08-10 10:45:31      at Axios.request (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:4317:41)
2025-08-10 10:45:31      at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-10 10:45:31      at async Object.replyMessage (/opt/render/project/src/src/services/lineService.js:75:22)
2025-08-10 10:45:31      at async handleTextMessage (/opt/render/project/src/src/bot/webhook.js:149:5)
2025-08-10 10:45:31      at async handleWebhook (/opt/render/project/src/src/bot/webhook.js:438:13)
2025-08-10 10:45:31      at async /opt/render/project/src/src/index.js:34:5 {
2025-08-10 10:45:31    code: 'ERR_BAD_REQUEST',
2025-08-10 10:45:31    config: {
2025-08-10 10:45:31      transitional: {
2025-08-10 10:45:31        silentJSONParsing: true,
2025-08-10 10:45:31        forcedJSONParsing: true,
2025-08-10 10:45:31        clarifyTimeoutError: false
2025-08-10 10:45:31      },
2025-08-10 10:45:31      adapter: [ 'xhr', 'http', 'fetch' ],
2025-08-10 10:45:31      transformRequest: [ [Function: transformRequest] ],
2025-08-10 10:45:31      transformResponse: [ [Function: transformResponse] ],
2025-08-10 10:45:31      timeout: 0,
2025-08-10 10:45:31      xsrfCookieName: 'XSRF-TOKEN',
2025-08-10 10:45:31      xsrfHeaderName: 'X-XSRF-TOKEN',
2025-08-10 10:45:31      maxContentLength: -1,
2025-08-10 10:45:31      maxBodyLength: -1,
2025-08-10 10:45:31      env: { FormData: [Function [FormData]], Blob: [class Blob] },
2025-08-10 10:45:31      validateStatus: [Function: validateStatus],
2025-08-10 10:45:31      headers: Object [AxiosHeaders] {
2025-08-10 10:45:31        Accept: 'application/json, text/plain, */*',
2025-08-10 10:45:31        'Content-Type': 'application/json',
2025-08-10 10:45:31        Authorization: 'Bearer +LATS/cSYCUN4VVSpU/2TOWpDXGyYl2os+C99MgPfEnAG5pHrmY3fEGJoMik7hddPGBV+hQcpnypK0bDjW3x4FfTq1Iohow/cd3+PrGnpP/mEzymfa0VcComebCYH5z0a5FHQRjiv7Ggw8t+FKOo0wdB04t89/1O/w1cDnyilFU=',
2025-08-10 10:45:31        'User-Agent': 'axios/1.11.0',
2025-08-10 10:45:31        'Content-Length': '129',
2025-08-10 10:45:31        'Accept-Encoding': 'gzip, compress, deflate, br'
2025-08-10 10:45:31      },
2025-08-10 10:45:31      method: 'post',
2025-08-10 10:45:31      url: 'https://api.line.me/v2/bot/message/reply',
2025-08-10 10:45:31      data: '{"replyToken":"reply_token_1754822724268","messages":[{"type":"text","text":"處理訊息時發生錯誤，請稍後再試。"}]}',
2025-08-10 10:45:31      allowAbsoluteUrls: true
2025-08-10 10:45:31    },
2025-08-10 10:45:31    request: <ref *1> ClientRequest {
2025-08-10 10:45:31      _events: [Object: null prototype] {
2025-08-10 10:45:31        abort: [Function (anonymous)],
2025-08-10 10:45:31        aborted: [Function (anonymous)],
2025-08-10 10:45:31        connect: [Function (anonymous)],
2025-08-10 10:45:31        error: [Function (anonymous)],
2025-08-10 10:45:31        socket: [Function (anonymous)],
2025-08-10 10:45:31        timeout: [Function (anonymous)],
2025-08-10 10:45:31        finish: [Function: requestOnFinish]
2025-08-10 10:45:31      },
2025-08-10 10:45:31      _eventsCount: 7,
2025-08-10 10:45:31      _maxListeners: undefined,
2025-08-10 10:45:31      outputData: [],
2025-08-10 10:45:31      outputSize: 0,
2025-08-10 10:45:31      writable: true,
2025-08-10 10:45:31      destroyed: false,
2025-08-10 10:45:31      _last: false,
2025-08-10 10:45:31      chunkedEncoding: false,
2025-08-10 10:45:31      shouldKeepAlive: false,
2025-08-10 10:45:31      maxRequestsOnConnectionReached: false,
2025-08-10 10:45:31      _defaultKeepAlive: true,
2025-08-10 10:45:31      useChunkedEncodingByDefault: true,
2025-08-10 10:45:31      sendDate: false,
2025-08-10 10:45:31      _removedConnection: false,
2025-08-10 10:45:31      _removedContLen: false,
2025-08-10 10:45:31      _removedTE: false,
2025-08-10 10:45:31      strictContentLength: false,
2025-08-10 10:45:31      _contentLength: 129,
2025-08-10 10:45:31      _hasBody: true,
2025-08-10 10:45:31      _trailer: '',
2025-08-10 10:45:31      finished: true,
2025-08-10 10:45:31      _headerSent: true,
2025-08-10 10:45:31      _closed: false,
2025-08-10 10:45:31      _header: 'POST /v2/bot/message/reply HTTP/1.1\r\n' +
2025-08-10 10:45:31        'Accept: application/json, text/plain, */*\r\n' +
2025-08-10 10:45:31        'Content-Type: application/json\r\n' +
2025-08-10 10:45:31        'Authorization: Bearer +LATS/cSYCUN4VVSpU/2TOWpDXGyYl2os+C99MgPfEnAG5pHrmY3fEGJoMik7hddPGBV+hQcpnypK0bDjW3x4FfTq1Iohow/cd3+PrGnpP/mEzymfa0VcComebCYH5z0a5FHQRjiv7Ggw8t+FKOo0wdB04t89/1O/w1cDnyilFU=\r\n' +
2025-08-10 10:45:31        'User-Agent: axios/1.11.0\r\n' +
2025-08-10 10:45:31        'Content-Length: 129\r\n' +
2025-08-10 10:45:31        'Accept-Encoding: gzip, compress, deflate, br\r\n' +
2025-08-10 10:45:31        'Host: api.line.me\r\n' +
2025-08-10 10:45:31        'Connection: keep-alive\r\n' +
2025-08-10 10:45:31        '\r\n',
2025-08-10 10:45:31      _keepAliveTimeout: 0,
2025-08-10 10:45:31      _onPendingData: [Function: nop],
2025-08-10 10:45:31      agent: Agent {
2025-08-10 10:45:31        _events: [Object: null prototype],
2025-08-10 10:45:31        _eventsCount: 2,
2025-08-10 10:45:31        _maxListeners: undefined,
2025-08-10 10:45:31        options: [Object: null prototype],
2025-08-10 10:45:31        defaultPort: 443,
2025-08-10 10:45:31        protocol: 'https:',
2025-08-10 10:45:31        requests: [Object: null prototype] {},
2025-08-10 10:45:31        sockets: [Object: null prototype],
2025-08-10 10:45:31        freeSockets: [Object: null prototype] {},
2025-08-10 10:45:31  🚀 生產用戶，使用真實 LINE Service
2025-08-10 10:45:31  🔍 檢查 replyToken: reply_token_1754822724268
2025-08-10 10:45:31  ❌ 訊息回覆失敗: { message: 'Invalid reply token' }
2025-08-10 10:45:31  ❌ Webhook 處理失敗: AxiosError: Request failed with status code 400
2025-08-10 10:45:31      at settle (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:2090:12)
2025-08-10 10:45:31      at IncomingMessage.handleStreamEnd (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:3207:11)
2025-08-10 10:45:31      at IncomingMessage.emit (node:events:519:35)
2025-08-10 10:45:31      at endReadableNT (node:internal/streams/readable:1701:12)
2025-08-10 10:45:31      at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
2025-08-10 10:45:31      at Axios.request (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:4317:41)
2025-08-10 10:45:31      at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-10 10:45:31      at async Object.replyMessage (/opt/render/project/src/src/services/lineService.js:75:22)
2025-08-10 10:45:31      at async handleTextMessage (/opt/render/project/src/src/bot/webhook.js:149:5)
2025-08-10 10:45:31      at async handleWebhook (/opt/render/project/src/src/bot/webhook.js:438:13)
2025-08-10 10:45:31      at async /opt/render/project/src/src/index.js:34:5 {
2025-08-10 10:45:31    code: 'ERR_BAD_REQUEST',
2025-08-10 10:45:31    config: {
2025-08-10 10:45:31      transitional: {
2025-08-10 10:45:31        silentJSONParsing: true,
2025-08-10 10:45:31        forcedJSONParsing: true,
2025-08-10 10:45:31        clarifyTimeoutError: false
2025-08-10 10:45:31      },
2025-08-10 10:45:31      adapter: [ 'xhr', 'http', 'fetch' ],
2025-08-10 10:45:31      transformRequest: [ [Function: transformRequest] ],
2025-08-10 10:45:31      transformResponse: [ [Function: transformResponse] ],
2025-08-10 10:45:31      timeout: 0,
2025-08-10 10:45:31      xsrfCookieName: 'XSRF-TOKEN',
2025-08-10 10:45:31      xsrfHeaderName: 'X-XSRF-TOKEN',
2025-08-10 10:45:31      maxContentLength: -1,
2025-08-10 10:45:31      maxBodyLength: -1,
2025-08-10 10:45:31      env: { FormData: [Function [FormData]], Blob: [class Blob] },
2025-08-10 10:45:31      validateStatus: [Function: validateStatus],
2025-08-10 10:45:31      headers: Object [AxiosHeaders] {
2025-08-10 10:45:31        Accept: 'application/json, text/plain, */*',
2025-08-10 10:45:31        'Content-Type': 'application/json',
2025-08-10 10:45:31        Authorization: 'Bearer +LATS/cSYCUN4VVSpU/2TOWpDXGyYl2os+C99MgPfEnAG5pHrmY3fEGJoMik7hddPGBV+hQcpnypK0bDjW3x4FfTq1Iohow/cd3+PrGnpP/mEzymfa0VcComebCYH5z0a5FHQRjiv7Ggw8t+FKOo0wdB04t89/1O/w1cDnyilFU=',
2025-08-10 10:45:31        'User-Agent': 'axios/1.11.0',
2025-08-10 10:45:31        'Content-Length': '129',
2025-08-10 10:45:31        'Accept-Encoding': 'gzip, compress, deflate, br'
2025-08-10 10:45:31      },
2025-08-10 10:45:31      method: 'post',
2025-08-10 10:45:31      url: 'https://api.line.me/v2/bot/message/reply',
2025-08-10 10:45:31      data: '{"replyToken":"reply_token_1754822724268","messages":[{"type":"text","text":"處理訊息時發生錯誤，請稍後再試。"}]}',
2025-08-10 10:45:31      allowAbsoluteUrls: true
2025-08-10 10:45:31    },
2025-08-10 10:45:31    request: <ref *1> ClientRequest {
2025-08-10 10:45:31      _events: [Object: null prototype] {
2025-08-10 10:45:31        abort: [Function (anonymous)],
2025-08-10 10:45:31        aborted: [Function (anonymous)],
2025-08-10 10:45:31        connect: [Function (anonymous)],
2025-08-10 10:45:31        error: [Function (anonymous)],
2025-08-10 10:45:31        socket: [Function (anonymous)],
2025-08-10 10:45:31        timeout: [Function (anonymous)],
2025-08-10 10:45:31        finish: [Function: requestOnFinish]
2025-08-10 10:45:31      },
2025-08-10 10:45:31      _eventsCount: 7,
2025-08-10 10:45:31      _maxListeners: undefined,
2025-08-10 10:45:31      outputData: [],
2025-08-10 10:45:31      outputSize: 0,
2025-08-10 10:45:31      writable: true,
2025-08-10 10:45:31      destroyed: false,
2025-08-10 10:45:31      _last: false,
2025-08-10 10:45:31      chunkedEncoding: false,
2025-08-10 10:45:31      shouldKeepAlive: false,
2025-08-10 10:45:31      maxRequestsOnConnectionReached: false,
2025-08-10 10:45:31      _defaultKeepAlive: true,
2025-08-10 10:45:31      useChunkedEncodingByDefault: true,
2025-08-10 10:45:31      sendDate: false,
2025-08-10 10:45:31      _removedConnection: false,
2025-08-10 10:45:31      _removedContLen: false,
2025-08-10 10:45:31      _removedTE: false,
2025-08-10 10:45:31      strictContentLength: false,
2025-08-10 10:45:31      _contentLength: 129,
2025-08-10 10:45:31      _hasBody: true,
2025-08-10 10:45:31      _trailer: '',
2025-08-10 10:45:31      finished: true,
2025-08-10 10:45:31      _headerSent: true,
2025-08-10 10:45:31      _closed: false,
2025-08-10 10:45:31      _header: 'POST /v2/bot/message/reply HTTP/1.1\r\n' +
2025-08-10 10:45:31        'Accept: application/json, text/plain, */*\r\n' +
2025-08-10 10:45:31        'Content-Type: application/json\r\n' +
2025-08-10 10:45:31        'Authorization: Bearer +LATS/cSYCUN4VVSpU/2TOWpDXGyYl2os+C99MgPfEnAG5pHrmY3fEGJoMik7hddPGBV+hQcpnypK0bDjW3x4FfTq1Iohow/cd3+PrGnpP/mEzymfa0VcComebCYH5z0a5FHQRjiv7Ggw8t+FKOo0wdB04t89/1O/w1cDnyilFU=\r\n' +
2025-08-10 10:45:31        'User-Agent: axios/1.11.0\r\n' +
2025-08-10 10:45:31        'Content-Length: 129\r\n' +
2025-08-10 10:45:31        'Accept-Encoding: gzip, compress, deflate, br\r\n' +
2025-08-10 10:45:31        'Host: api.line.me\r\n' +
2025-08-10 10:45:31        'Connection: keep-alive\r\n' +
2025-08-10 10:45:31        '\r\n',
2025-08-10 10:45:31      _keepAliveTimeout: 0,
2025-08-10 10:45:31      _onPendingData: [Function: nop],
2025-08-10 10:45:31      agent: Agent {
2025-08-10 10:45:31        _events: [Object: null prototype],
2025-08-10 10:45:31        _eventsCount: 2,
2025-08-10 10:45:31        _maxListeners: undefined,
2025-08-10 10:45:31        options: [Object: null prototype],
2025-08-10 10:45:31        defaultPort: 443,
2025-08-10 10:45:31        protocol: 'https:',
2025-08-10 10:45:31        requests: [Object: null prototype] {},
2025-08-10 10:45:31        sockets: [Object: null prototype],
2025-08-10 10:45:31        freeSockets: [Object: null prototype] {},
2025-08-10 10:45:31  🚀 生產用戶，使用真實 LINE Service
2025-08-10 10:45:31  🔍 檢查 replyToken: reply_token_1754822724268
2025-08-10 10:45:31  ❌ 訊息回覆失敗: { message: 'Invalid reply token' }
2025-08-10 10:45:31  ❌ Webhook 處理失敗: AxiosError: Request failed with status code 400
2025-08-10 10:45:31      at settle (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:2090:12)
2025-08-10 10:45:31      at IncomingMessage.handleStreamEnd (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:3207:11)
2025-08-10 10:45:31      at IncomingMessage.emit (node:events:519:35)
2025-08-10 10:45:31      at endReadableNT (node:internal/streams/readable:1701:12)
2025-08-10 10:45:31      at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
2025-08-10 10:45:31      at Axios.request (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:4317:41)
2025-08-10 10:45:31      at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-10 10:45:31      at async Object.replyMessage (/opt/render/project/src/src/services/lineService.js:75:22)
2025-08-10 10:45:31      at async handleTextMessage (/opt/render/project/src/src/bot/webhook.js:149:5)
2025-08-10 10:45:31      at async handleWebhook (/opt/render/project/src/src/bot/webhook.js:438:13)
2025-08-10 10:45:31      at async /opt/render/project/src/src/index.js:34:5 {
2025-08-10 10:45:31    code: 'ERR_BAD_REQUEST',
2025-08-10 10:45:31    config: {
2025-08-10 10:45:31      transitional: {
2025-08-10 10:45:31        silentJSONParsing: true,
2025-08-10 10:45:31        forcedJSONParsing: true,
2025-08-10 10:45:31        clarifyTimeoutError: false
2025-08-10 10:45:31      },
2025-08-10 10:45:31      adapter: [ 'xhr', 'http', 'fetch' ],
2025-08-10 10:45:31      transformRequest: [ [Function: transformRequest] ],
2025-08-10 10:45:31      transformResponse: [ [Function: transformResponse] ],
2025-08-10 10:45:31      timeout: 0,
2025-08-10 10:45:31      xsrfCookieName: 'XSRF-TOKEN',
2025-08-10 10:45:31      xsrfHeaderName: 'X-XSRF-TOKEN',
2025-08-10 10:45:31      maxContentLength: -1,
2025-08-10 10:45:31      maxBodyLength: -1,
2025-08-10 10:45:31      env: { FormData: [Function [FormData]], Blob: [class Blob] },
2025-08-10 10:45:31      validateStatus: [Function: validateStatus],
2025-08-10 10:45:31      headers: Object [AxiosHeaders] {
2025-08-10 10:45:31        Accept: 'application/json, text/plain, */*',
2025-08-10 10:45:31        'Content-Type': 'application/json',
2025-08-10 10:45:31        Authorization: 'Bearer +LATS/cSYCUN4VVSpU/2TOWpDXGyYl2os+C99MgPfEnAG5pHrmY3fEGJoMik7hddPGBV+hQcpnypK0bDjW3x4FfTq1Iohow/cd3+PrGnpP/mEzymfa0VcComebCYH5z0a5FHQRjiv7Ggw8t+FKOo0wdB04t89/1O/w1cDnyilFU=',
2025-08-10 10:45:31        'User-Agent': 'axios/1.11.0',
2025-08-10 10:45:31        'Content-Length': '129',
2025-08-10 10:45:31        'Accept-Encoding': 'gzip, compress, deflate, br'
2025-08-10 10:45:31      },
2025-08-10 10:45:31      method: 'post',
2025-08-10 10:45:31      url: 'https://api.line.me/v2/bot/message/reply',
2025-08-10 10:45:31      data: '{"replyToken":"reply_token_1754822724268","messages":[{"type":"text","text":"處理訊息時發生錯誤，請稍後再試。"}]}',
2025-08-10 10:45:31      allowAbsoluteUrls: true
2025-08-10 10:45:31    },
2025-08-10 10:45:31    request: <ref *1> ClientRequest {
2025-08-10 10:45:31      _events: [Object: null prototype] {
2025-08-10 10:45:31        abort: [Function (anonymous)],
2025-08-10 10:45:31        aborted: [Function (anonymous)],
2025-08-10 10:45:31        connect: [Function (anonymous)],
2025-08-10 10:45:31        error: [Function (anonymous)],
2025-08-10 10:45:31        socket: [Function (anonymous)],
2025-08-10 10:45:31        timeout: [Function (anonymous)],
2025-08-10 10:45:31        finish: [Function: requestOnFinish]
2025-08-10 10:45:31      },
2025-08-10 10:45:31      _eventsCount: 7,
2025-08-10 10:45:31      _maxListeners: undefined,
2025-08-10 10:45:31      outputData: [],
2025-08-10 10:45:31      outputSize: 0,
2025-08-10 10:45:31      writable: true,
2025-08-10 10:45:31      destroyed: false,
2025-08-10 10:45:31      _last: false,
2025-08-10 10:45:31      chunkedEncoding: false,
2025-08-10 10:45:31      shouldKeepAlive: false,
2025-08-10 10:45:31      maxRequestsOnConnectionReached: false,
2025-08-10 10:45:31      _defaultKeepAlive: true,
2025-08-10 10:45:31      useChunkedEncodingByDefault: true,
2025-08-10 10:45:31      sendDate: false,
2025-08-10 10:45:31      _removedConnection: false,
2025-08-10 10:45:31      _removedContLen: false,
2025-08-10 10:45:31      _removedTE: false,
2025-08-10 10:45:31      strictContentLength: false,
2025-08-10 10:45:31      _contentLength: 129,
2025-08-10 10:45:31      _hasBody: true,
2025-08-10 10:45:31      _trailer: '',
2025-08-10 10:45:31      finished: true,
2025-08-10 10:45:31      _headerSent: true,
2025-08-10 10:45:31      _closed: false,
2025-08-10 10:45:31      _header: 'POST /v2/bot/message/reply HTTP/1.1\r\n' +
2025-08-10 10:45:31        'Accept: application/json, text/plain, */*\r\n' +
2025-08-10 10:45:31        'Content-Type: application/json\r\n' +
2025-08-10 10:45:31        'Authorization: Bearer +LATS/cSYCUN4VVSpU/2TOWpDXGyYl2os+C99MgPfEnAG5pHrmY3fEGJoMik7hddPGBV+hQcpnypK0bDjW3x4FfTq1Iohow/cd3+PrGnpP/mEzymfa0VcComebCYH5z0a5FHQRjiv7Ggw8t+FKOo0wdB04t89/1O/w1cDnyilFU=\r\n' +
2025-08-10 10:45:31        'User-Agent: axios/1.11.0\r\n' +
2025-08-10 10:45:31        'Content-Length: 129\r\n' +
2025-08-10 10:45:31        'Accept-Encoding: gzip, compress, deflate, br\r\n' +
2025-08-10 10:45:31        'Host: api.line.me\r\n' +
2025-08-10 10:45:31        'Connection: keep-alive\r\n' +
2025-08-10 10:45:31        '\r\n',
2025-08-10 10:45:31      _keepAliveTimeout: 0,
2025-08-10 10:45:31      _onPendingData: [Function: nop],
2025-08-10 10:45:31      agent: Agent {
2025-08-10 10:45:31        _events: [Object: null prototype],
2025-08-10 10:45:31        _eventsCount: 2,
2025-08-10 10:45:31        _maxListeners: undefined,
2025-08-10 10:45:31        options: [Object: null prototype],
2025-08-10 10:45:31        defaultPort: 443,
2025-08-10 10:45:31        protocol: 'https:',
2025-08-10 10:45:31        requests: [Object: null prototype] {},
2025-08-10 10:45:31        sockets: [Object: null prototype],
2025-08-10 10:45:31        freeSockets: [Object: null prototype] {},
2025-08-10 10:45:31  🚀 生產用戶，使用真實 LINE Service
2025-08-10 10:45:31  🔍 檢查 replyToken: reply_token_1754822724268
2025-08-10 10:45:31  ❌ 訊息回覆失敗: { message: 'Invalid reply token' }
2025-08-10 10:45:31  ❌ Webhook 處理失敗: AxiosError: Request failed with status code 400
2025-08-10 10:45:31      at settle (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:2090:12)
2025-08-10 10:45:31      at IncomingMessage.handleStreamEnd (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:3207:11)
2025-08-10 10:45:31      at IncomingMessage.emit (node:events:519:35)
2025-08-10 10:45:31      at endReadableNT (node:internal/streams/readable:1701:12)
2025-08-10 10:45:31      at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
2025-08-10 10:45:31      at Axios.request (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:4317:41)
2025-08-10 10:45:31      at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-10 10:45:31      at async Object.replyMessage (/opt/render/project/src/src/services/lineService.js:75:22)
2025-08-10 10:45:31      at async handleTextMessage (/opt/render/project/src/src/bot/webhook.js:149:5)
2025-08-10 10:45:31      at async handleWebhook (/opt/render/project/src/src/bot/webhook.js:438:13)
2025-08-10 10:45:31      at async /opt/render/project/src/src/index.js:34:5 {
2025-08-10 10:45:31    code: 'ERR_BAD_REQUEST',
2025-08-10 10:45:31    config: {
2025-08-10 10:45:31      transitional: {
2025-08-10 10:45:31        silentJSONParsing: true,
2025-08-10 10:45:31        forcedJSONParsing: true,
2025-08-10 10:45:31        clarifyTimeoutError: false
2025-08-10 10:45:31      },
2025-08-10 10:45:31      adapter: [ 'xhr', 'http', 'fetch' ],
2025-08-10 10:45:31      transformRequest: [ [Function: transformRequest] ],
2025-08-10 10:45:31      transformResponse: [ [Function: transformResponse] ],
2025-08-10 10:45:31      timeout: 0,
2025-08-10 10:45:31      xsrfCookieName: 'XSRF-TOKEN',
2025-08-10 10:45:31      xsrfHeaderName: 'X-XSRF-TOKEN',
2025-08-10 10:45:31      maxContentLength: -1,
2025-08-10 10:45:31      maxBodyLength: -1,
2025-08-10 10:45:31      env: { FormData: [Function [FormData]], Blob: [class Blob] },
2025-08-10 10:45:31      validateStatus: [Function: validateStatus],
2025-08-10 10:45:31      headers: Object [AxiosHeaders] {
2025-08-10 10:45:31        Accept: 'application/json, text/plain, */*',
2025-08-10 10:45:31        'Content-Type': 'application/json',
2025-08-10 10:45:31        Authorization: 'Bearer +LATS/cSYCUN4VVSpU/2TOWpDXGyYl2os+C99MgPfEnAG5pHrmY3fEGJoMik7hddPGBV+hQcpnypK0bDjW3x4FfTq1Iohow/cd3+PrGnpP/mEzymfa0VcComebCYH5z0a5FHQRjiv7Ggw8t+FKOo0wdB04t89/1O/w1cDnyilFU=',
2025-08-10 10:45:31        'User-Agent': 'axios/1.11.0',
2025-08-10 10:45:31        'Content-Length': '129',
2025-08-10 10:45:31        'Accept-Encoding': 'gzip, compress, deflate, br'
2025-08-10 10:45:31      },
2025-08-10 10:45:31      method: 'post',
2025-08-10 10:45:31      url: 'https://api.line.me/v2/bot/message/reply',
2025-08-10 10:45:31      data: '{"replyToken":"reply_token_1754822724268","messages":[{"type":"text","text":"處理訊息時發生錯誤，請稍後再試。"}]}',
2025-08-10 10:45:31      allowAbsoluteUrls: true
2025-08-10 10:45:31    },
2025-08-10 10:45:31    request: <ref *1> ClientRequest {
2025-08-10 10:45:31      _events: [Object: null prototype] {
2025-08-10 10:45:31        abort: [Function (anonymous)],
2025-08-10 10:45:31        aborted: [Function (anonymous)],
2025-08-10 10:45:31        connect: [Function (anonymous)],
2025-08-10 10:45:31        error: [Function (anonymous)],
2025-08-10 10:45:31        socket: [Function (anonymous)],
2025-08-10 10:45:31        timeout: [Function (anonymous)],
2025-08-10 10:45:31        finish: [Function: requestOnFinish]
2025-08-10 10:45:31      },
2025-08-10 10:45:31      _eventsCount: 7,
2025-08-10 10:45:31      _maxListeners: undefined,
2025-08-10 10:45:31      outputData: [],
2025-08-10 10:45:31      outputSize: 0,
2025-08-10 10:45:31      writable: true,
2025-08-10 10:45:31      destroyed: false,
2025-08-10 10:45:31      _last: false,
2025-08-10 10:45:31      chunkedEncoding: false,
2025-08-10 10:45:31      shouldKeepAlive: false,
2025-08-10 10:45:31      maxRequestsOnConnectionReached: false,
2025-08-10 10:45:31      _defaultKeepAlive: true,
2025-08-10 10:45:31      useChunkedEncodingByDefault: true,
2025-08-10 10:45:31      sendDate: false,
2025-08-10 10:45:31      _removedConnection: false,
2025-08-10 10:45:31      _removedContLen: false,
2025-08-10 10:45:31      _removedTE: false,
2025-08-10 10:45:31      strictContentLength: false,
2025-08-10 10:45:31      _contentLength: 129,
2025-08-10 10:45:31      _hasBody: true,
2025-08-10 10:45:31      _trailer: '',
2025-08-10 10:45:31      finished: true,
2025-08-10 10:45:31      _headerSent: true,
2025-08-10 10:45:31      _closed: false,
2025-08-10 10:45:31      _header: 'POST /v2/bot/message/reply HTTP/1.1\r\n' +
2025-08-10 10:45:31        'Accept: application/json, text/plain, */*\r\n' +
2025-08-10 10:45:31        'Content-Type: application/json\r\n' +
2025-08-10 10:45:31        'Authorization: Bearer +LATS/cSYCUN4VVSpU/2TOWpDXGyYl2os+C99MgPfEnAG5pHrmY3fEGJoMik7hddPGBV+hQcpnypK0bDjW3x4FfTq1Iohow/cd3+PrGnpP/mEzymfa0VcComebCYH5z0a5FHQRjiv7Ggw8t+FKOo0wdB04t89/1O/w1cDnyilFU=\r\n' +
2025-08-10 10:45:31        'User-Agent: axios/1.11.0\r\n' +
2025-08-10 10:45:31        'Content-Length: 129\r\n' +
2025-08-10 10:45:31        'Accept-Encoding: gzip, compress, deflate, br\r\n' +
2025-08-10 10:45:31        'Host: api.line.me\r\n' +
2025-08-10 10:45:31        'Connection: keep-alive\r\n' +
2025-08-10 10:45:31        '\r\n',
2025-08-10 10:45:31      _keepAliveTimeout: 0,
2025-08-10 10:45:31      _onPendingData: [Function: nop],
2025-08-10 10:45:31      agent: Agent {
2025-08-10 10:45:31        _events: [Object: null prototype],
2025-08-10 10:45:31        _eventsCount: 2,
2025-08-10 10:45:31        _maxListeners: undefined,
2025-08-10 10:45:31        options: [Object: null prototype],
2025-08-10 10:45:31        defaultPort: 443,
2025-08-10 10:45:31        protocol: 'https:',
2025-08-10 10:45:31        requests: [Object: null prototype] {},
2025-08-10 10:45:31        sockets: [Object: null prototype],
2025-08-10 10:45:31        freeSockets: [Object: null prototype] {},
2025-08-10 10:45:31  🚀 生產用戶，使用真實 LINE Service
2025-08-10 10:45:31  🔍 檢查 replyToken: reply_token_1754822724268
2025-08-10 10:45:31  ❌ 訊息回覆失敗: { message: 'Invalid reply token' }
2025-08-10 10:45:31  ❌ Webhook 處理失敗: AxiosError: Request failed with status code 400
2025-08-10 10:45:31      at settle (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:2090:12)
2025-08-10 10:45:31      at IncomingMessage.handleStreamEnd (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:3207:11)
2025-08-10 10:45:31      at IncomingMessage.emit (node:events:519:35)
2025-08-10 10:45:31      at endReadableNT (node:internal/streams/readable:1701:12)
2025-08-10 10:45:31      at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
2025-08-10 10:45:31      at Axios.request (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:4317:41)
2025-08-10 10:45:31      at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-10 10:45:31      at async Object.replyMessage (/opt/render/project/src/src/services/lineService.js:75:22)
2025-08-10 10:45:31      at async handleTextMessage (/opt/render/project/src/src/bot/webhook.js:149:5)
2025-08-10 10:45:31      at async handleWebhook (/opt/render/project/src/src/bot/webhook.js:438:13)
2025-08-10 10:45:31      at async /opt/render/project/src/src/index.js:34:5 {
2025-08-10 10:45:31    code: 'ERR_BAD_REQUEST',
2025-08-10 10:45:31    config: {
2025-08-10 10:45:31      transitional: {
2025-08-10 10:45:31        silentJSONParsing: true,
2025-08-10 10:45:31        forcedJSONParsing: true,
2025-08-10 10:45:31        clarifyTimeoutError: false
2025-08-10 10:45:31      },
2025-08-10 10:45:31      adapter: [ 'xhr', 'http', 'fetch' ],
2025-08-10 10:45:31      transformRequest: [ [Function: transformRequest] ],
2025-08-10 10:45:31      transformResponse: [ [Function: transformResponse] ],
2025-08-10 10:45:31      timeout: 0,
2025-08-10 10:45:31      xsrfCookieName: 'XSRF-TOKEN',
2025-08-10 10:45:31      xsrfHeaderName: 'X-XSRF-TOKEN',
2025-08-10 10:45:31      maxContentLength: -1,
2025-08-10 10:45:31      maxBodyLength: -1,
2025-08-10 10:45:31      env: { FormData: [Function [FormData]], Blob: [class Blob] },
2025-08-10 10:45:31      validateStatus: [Function: validateStatus],
2025-08-10 10:45:31      headers: Object [AxiosHeaders] {
2025-08-10 10:45:31        Accept: 'application/json, text/plain, */*',
2025-08-10 10:45:31        'Content-Type': 'application/json',
2025-08-10 10:45:31        Authorization: 'Bearer +LATS/cSYCUN4VVSpU/2TOWpDXGyYl2os+C99MgPfEnAG5pHrmY3fEGJoMik7hddPGBV+hQcpnypK0bDjW3x4FfTq1Iohow/cd3+PrGnpP/mEzymfa0VcComebCYH5z0a5FHQRjiv7Ggw8t+FKOo0wdB04t89/1O/w1cDnyilFU=',
2025-08-10 10:45:31        'User-Agent': 'axios/1.11.0',
2025-08-10 10:45:31        'Content-Length': '129',
2025-08-10 10:45:31        'Accept-Encoding': 'gzip, compress, deflate, br'
2025-08-10 10:45:31      },
2025-08-10 10:45:31      method: 'post',
2025-08-10 10:45:31      url: 'https://api.line.me/v2/bot/message/reply',
2025-08-10 10:45:31      data: '{"replyToken":"reply_token_1754822724268","messages":[{"type":"text","text":"處理訊息時發生錯誤，請稍後再試。"}]}',
2025-08-10 10:45:31      allowAbsoluteUrls: true
2025-08-10 10:45:31    },
2025-08-10 10:45:31    request: <ref *1> ClientRequest {
2025-08-10 10:45:31      _events: [Object: null prototype] {
2025-08-10 10:45:31        abort: [Function (anonymous)],
2025-08-10 10:45:31        aborted: [Function (anonymous)],
2025-08-10 10:45:31        connect: [Function (anonymous)],
2025-08-10 10:45:31        error: [Function (anonymous)],
2025-08-10 10:45:31        socket: [Function (anonymous)],
2025-08-10 10:45:31        timeout: [Function (anonymous)],
2025-08-10 10:45:31        finish: [Function: requestOnFinish]
2025-08-10 10:45:31      },
2025-08-10 10:45:31      _eventsCount: 7,
2025-08-10 10:45:31      _maxListeners: undefined,
2025-08-10 10:45:31      outputData: [],
2025-08-10 10:45:31      outputSize: 0,
2025-08-10 10:45:31      writable: true,
2025-08-10 10:45:31      destroyed: false,
2025-08-10 10:45:31      _last: false,
2025-08-10 10:45:31      chunkedEncoding: false,
2025-08-10 10:45:31      shouldKeepAlive: false,
2025-08-10 10:45:31      maxRequestsOnConnectionReached: false,
2025-08-10 10:45:31      _defaultKeepAlive: true,
2025-08-10 10:45:31      useChunkedEncodingByDefault: true,
2025-08-10 10:45:31      sendDate: false,
2025-08-10 10:45:31      _removedConnection: false,
2025-08-10 10:45:31      _removedContLen: false,
2025-08-10 10:45:31      _removedTE: false,
2025-08-10 10:45:31      strictContentLength: false,
2025-08-10 10:45:31      _contentLength: 129,
2025-08-10 10:45:31      _hasBody: true,
2025-08-10 10:45:31      _trailer: '',
2025-08-10 10:45:31      finished: true,
2025-08-10 10:45:31      _headerSent: true,
2025-08-10 10:45:31      _closed: false,
2025-08-10 10:45:31      _header: 'POST /v2/bot/message/reply HTTP/1.1\r\n' +
2025-08-10 10:45:31        'Accept: application/json, text/plain, */*\r\n' +
2025-08-10 10:45:31        'Content-Type: application/json\r\n' +
2025-08-10 10:45:31        'Authorization: Bearer +LATS/cSYCUN4VVSpU/2TOWpDXGyYl2os+C99MgPfEnAG5pHrmY3fEGJoMik7hddPGBV+hQcpnypK0bDjW3x4FfTq1Iohow/cd3+PrGnpP/mEzymfa0VcComebCYH5z0a5FHQRjiv7Ggw8t+FKOo0wdB04t89/1O/w1cDnyilFU=\r\n' +
2025-08-10 10:45:31        'User-Agent: axios/1.11.0\r\n' +
2025-08-10 10:45:31        'Content-Length: 129\r\n' +
2025-08-10 10:45:31        'Accept-Encoding: gzip, compress, deflate, br\r\n' +
2025-08-10 10:45:31        'Host: api.line.me\r\n' +
2025-08-10 10:45:31        'Connection: keep-alive\r\n' +
2025-08-10 10:45:31        '\r\n',
2025-08-10 10:45:31      _keepAliveTimeout: 0,
2025-08-10 10:45:31      _onPendingData: [Function: nop],
2025-08-10 10:45:31      agent: Agent {
2025-08-10 10:45:31        _events: [Object: null prototype],
2025-08-10 10:45:31        _eventsCount: 2,
2025-08-10 10:45:31        _maxListeners: undefined,
2025-08-10 10:45:31        options: [Object: null prototype],
2025-08-10 10:45:31        defaultPort: 443,
2025-08-10 10:45:31        protocol: 'https:',
2025-08-10 10:45:31        requests: [Object: null prototype] {},
2025-08-10 10:45:31        sockets: [Object: null prototype],
2025-08-10 10:45:31        freeSockets: [Object: null prototype] {},
2025-08-10 10:45:31  🚀 生產用戶，使用真實 LINE Service
2025-08-10 10:45:31  🔍 檢查 replyToken: reply_token_1754822724268
2025-08-10 10:45:31  ❌ 訊息回覆失敗: { message: 'Invalid reply token' }
2025-08-10 10:45:31  ❌ Webhook 處理失敗: AxiosError: Request failed with status code 400
2025-08-10 10:45:31      at settle (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:2090:12)
2025-08-10 10:45:31      at IncomingMessage.handleStreamEnd (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:3207:11)
2025-08-10 10:45:31      at IncomingMessage.emit (node:events:519:35)
2025-08-10 10:45:31      at endReadableNT (node:internal/streams/readable:1701:12)
2025-08-10 10:45:31      at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
2025-08-10 10:45:31      at Axios.request (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:4317:41)
2025-08-10 10:45:31      at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-10 10:45:31      at async Object.replyMessage (/opt/render/project/src/src/services/lineService.js:75:22)
2025-08-10 10:45:31      at async handleTextMessage (/opt/render/project/src/src/bot/webhook.js:149:5)
2025-08-10 10:45:31      at async handleWebhook (/opt/render/project/src/src/bot/webhook.js:438:13)
2025-08-10 10:45:31      at async /opt/render/project/src/src/index.js:34:5 {
2025-08-10 10:45:31    code: 'ERR_BAD_REQUEST',
2025-08-10 10:45:31    config: {
2025-08-10 10:45:31      transitional: {
2025-08-10 10:45:31        silentJSONParsing: true,
2025-08-10 10:45:31        forcedJSONParsing: true,
2025-08-10 10:45:31        clarifyTimeoutError: false
2025-08-10 10:45:31      },
2025-08-10 10:45:31      adapter: [ 'xhr', 'http', 'fetch' ],
2025-08-10 10:45:31      transformRequest: [ [Function: transformRequest] ],
2025-08-10 10:45:31      transformResponse: [ [Function: transformResponse] ],
2025-08-10 10:45:31      timeout: 0,
2025-08-10 10:45:31      xsrfCookieName: 'XSRF-TOKEN',
2025-08-10 10:45:31      xsrfHeaderName: 'X-XSRF-TOKEN',
2025-08-10 10:45:31      maxContentLength: -1,
2025-08-10 10:45:31      maxBodyLength: -1,
2025-08-10 10:45:31      env: { FormData: [Function [FormData]], Blob: [class Blob] },
2025-08-10 10:45:31      validateStatus: [Function: validateStatus],
2025-08-10 10:45:31      headers: Object [AxiosHeaders] {
2025-08-10 10:45:31        Accept: 'application/json, text/plain, */*',
2025-08-10 10:45:31        'Content-Type': 'application/json',
2025-08-10 10:45:31        Authorization: 'Bearer +LATS/cSYCUN4VVSpU/2TOWpDXGyYl2os+C99MgPfEnAG5pHrmY3fEGJoMik7hddPGBV+hQcpnypK0bDjW3x4FfTq1Iohow/cd3+PrGnpP/mEzymfa0VcComebCYH5z0a5FHQRjiv7Ggw8t+FKOo0wdB04t89/1O/w1cDnyilFU=',
2025-08-10 10:45:31        'User-Agent': 'axios/1.11.0',
2025-08-10 10:45:31        'Content-Length': '129',
2025-08-10 10:45:31        'Accept-Encoding': 'gzip, compress, deflate, br'
2025-08-10 10:45:31      },
2025-08-10 10:45:31      method: 'post',
2025-08-10 10:45:31      url: 'https://api.line.me/v2/bot/message/reply',
2025-08-10 10:45:31      data: '{"replyToken":"reply_token_1754822724268","messages":[{"type":"text","text":"處理訊息時發生錯誤，請稍後再試。"}]}',
2025-08-10 10:45:31      allowAbsoluteUrls: true
2025-08-10 10:45:31    },
2025-08-10 10:45:31    request: <ref *1> ClientRequest {
2025-08-10 10:45:31      _events: [Object: null prototype] {
2025-08-10 10:45:31        abort: [Function (anonymous)],
2025-08-10 10:45:31        aborted: [Function (anonymous)],
2025-08-10 10:45:31        connect: [Function (anonymous)],
2025-08-10 10:45:31        error: [Function (anonymous)],
2025-08-10 10:45:31        socket: [Function (anonymous)],
2025-08-10 10:45:31        timeout: [Function (anonymous)],
2025-08-10 10:45:31        finish: [Function: requestOnFinish]
2025-08-10 10:45:31      },
2025-08-10 10:45:31      _eventsCount: 7,
2025-08-10 10:45:31      _maxListeners: undefined,
2025-08-10 10:45:31      outputData: [],
2025-08-10 10:45:31      outputSize: 0,
2025-08-10 10:45:31      writable: true,
2025-08-10 10:45:31      destroyed: false,
2025-08-10 10:45:31      _last: false,
2025-08-10 10:45:31      chunkedEncoding: false,
2025-08-10 10:45:31      shouldKeepAlive: false,
2025-08-10 10:45:31      maxRequestsOnConnectionReached: false,
2025-08-10 10:45:31      _defaultKeepAlive: true,
2025-08-10 10:45:31      useChunkedEncodingByDefault: true,
2025-08-10 10:45:31      sendDate: false,
2025-08-10 10:45:31      _removedConnection: false,
2025-08-10 10:45:31      _removedContLen: false,
2025-08-10 10:45:31      _removedTE: false,
2025-08-10 10:45:31      strictContentLength: false,
2025-08-10 10:45:31      _contentLength: 129,
2025-08-10 10:45:31      _hasBody: true,
2025-08-10 10:45:31      _trailer: '',
2025-08-10 10:45:31      finished: true,
2025-08-10 10:45:31      _headerSent: true,
2025-08-10 10:45:31      _closed: false,
2025-08-10 10:45:31      _header: 'POST /v2/bot/message/reply HTTP/1.1\r\n' +
2025-08-10 10:45:31        'Accept: application/json, text/plain, */*\r\n' +
2025-08-10 10:45:31        'Content-Type: application/json\r\n' +
2025-08-10 10:45:31        'Authorization: Bearer +LATS/cSYCUN4VVSpU/2TOWpDXGyYl2os+C99MgPfEnAG5pHrmY3fEGJoMik7hddPGBV+hQcpnypK0bDjW3x4FfTq1Iohow/cd3+PrGnpP/mEzymfa0VcComebCYH5z0a5FHQRjiv7Ggw8t+FKOo0wdB04t89/1O/w1cDnyilFU=\r\n' +
2025-08-10 10:45:31        'User-Agent: axios/1.11.0\r\n' +
2025-08-10 10:45:31        'Content-Length: 129\r\n' +
2025-08-10 10:45:31        'Accept-Encoding: gzip, compress, deflate, br\r\n' +
2025-08-10 10:45:31        'Host: api.line.me\r\n' +
2025-08-10 10:45:31        'Connection: keep-alive\r\n' +
2025-08-10 10:45:31        '\r\n',
2025-08-10 10:45:31      _keepAliveTimeout: 0,
2025-08-10 10:45:31      _onPendingData: [Function: nop],
2025-08-10 10:45:31      agent: Agent {
2025-08-10 10:45:31        _events: [Object: null prototype],
2025-08-10 10:45:31        _eventsCount: 2,
2025-08-10 10:45:31        _maxListeners: undefined,
2025-08-10 10:45:31        options: [Object: null prototype],
2025-08-10 10:45:31        defaultPort: 443,
2025-08-10 10:45:31        protocol: 'https:',
2025-08-10 10:45:31        requests: [Object: null prototype] {},
2025-08-10 10:45:31        sockets: [Object: null prototype],
2025-08-10 10:45:31        freeSockets: [Object: null prototype] {},
2025-08-10 10:45:31  🚀 生產用戶，使用真實 LINE Service
2025-08-10 10:45:31  🔍 檢查 replyToken: reply_token_1754822724268
2025-08-10 10:45:31  ❌ 訊息回覆失敗: { message: 'Invalid reply token' }
2025-08-10 10:45:31  ❌ Webhook 處理失敗: AxiosError: Request failed with status code 400
2025-08-10 10:45:31      at settle (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:2090:12)
2025-08-10 10:45:31      at IncomingMessage.handleStreamEnd (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:3207:11)
2025-08-10 10:45:31      at IncomingMessage.emit (node:events:519:35)
2025-08-10 10:45:31      at endReadableNT (node:internal/streams/readable:1701:12)
2025-08-10 10:45:31      at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
2025-08-10 10:45:31      at Axios.request (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:4317:41)
2025-08-10 10:45:31      at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-10 10:45:31      at async Object.replyMessage (/opt/render/project/src/src/services/lineService.js:75:22)
2025-08-10 10:45:31      at async handleTextMessage (/opt/render/project/src/src/bot/webhook.js:149:5)
2025-08-10 10:45:31      at async handleWebhook (/opt/render/project/src/src/bot/webhook.js:438:13)
2025-08-10 10:45:31      at async /opt/render/project/src/src/index.js:34:5 {
2025-08-10 10:45:31    code: 'ERR_BAD_REQUEST',
2025-08-10 10:45:31    config: {
2025-08-10 10:45:31      transitional: {
2025-08-10 10:45:31        silentJSONParsing: true,
2025-08-10 10:45:31        forcedJSONParsing: true,
2025-08-10 10:45:31        clarifyTimeoutError: false
2025-08-10 10:45:31      },
2025-08-10 10:45:31      adapter: [ 'xhr', 'http', 'fetch' ],
2025-08-10 10:45:31      transformRequest: [ [Function: transformRequest] ],
2025-08-10 10:45:31      transformResponse: [ [Function: transformResponse] ],
2025-08-10 10:45:31      timeout: 0,
2025-08-10 10:45:31      xsrfCookieName: 'XSRF-TOKEN',
2025-08-10 10:45:31      xsrfHeaderName: 'X-XSRF-TOKEN',
2025-08-10 10:45:31      maxContentLength: -1,
2025-08-10 10:45:31      maxBodyLength: -1,
2025-08-10 10:45:31      env: { FormData: [Function [FormData]], Blob: [class Blob] },
2025-08-10 10:45:31      validateStatus: [Function: validateStatus],
2025-08-10 10:45:31      headers: Object [AxiosHeaders] {
2025-08-10 10:45:31        Accept: 'application/json, text/plain, */*',
2025-08-10 10:45:31        'Content-Type': 'application/json',
2025-08-10 10:45:31        Authorization: 'Bearer +LATS/cSYCUN4VVSpU/2TOWpDXGyYl2os+C99MgPfEnAG5pHrmY3fEGJoMik7hddPGBV+hQcpnypK0bDjW3x4FfTq1Iohow/cd3+PrGnpP/mEzymfa0VcComebCYH5z0a5FHQRjiv7Ggw8t+FKOo0wdB04t89/1O/w1cDnyilFU=',
2025-08-10 10:45:31        'User-Agent': 'axios/1.11.0',
2025-08-10 10:45:31        'Content-Length': '129',
2025-08-10 10:45:31        'Accept-Encoding': 'gzip, compress, deflate, br'
2025-08-10 10:45:31      },
2025-08-10 10:45:31      method: 'post',
2025-08-10 10:45:31      url: 'https://api.line.me/v2/bot/message/reply',
2025-08-10 10:45:31      data: '{"replyToken":"reply_token_1754822724268","messages":[{"type":"text","text":"處理訊息時發生錯誤，請稍後再試。"}]}',
2025-08-10 10:45:31      allowAbsoluteUrls: true
2025-08-10 10:45:31    },
2025-08-10 10:45:31    request: <ref *1> ClientRequest {
2025-08-10 10:45:31      _events: [Object: null prototype] {
2025-08-10 10:45:31        abort: [Function (anonymous)],
2025-08-10 10:45:31        aborted: [Function (anonymous)],
2025-08-10 10:45:31        connect: [Function (anonymous)],
2025-08-10 10:45:31        error: [Function (anonymous)],
2025-08-10 10:45:31        socket: [Function (anonymous)],
2025-08-10 10:45:31        timeout: [Function (anonymous)],
2025-08-10 10:45:31        finish: [Function: requestOnFinish]
2025-08-10 10:45:31      },
2025-08-10 10:45:31      _eventsCount: 7,
2025-08-10 10:45:31      _maxListeners: undefined,
2025-08-10 10:45:31      outputData: [],
2025-08-10 10:45:31      outputSize: 0,
2025-08-10 10:45:31      writable: true,
2025-08-10 10:45:31      destroyed: false,
2025-08-10 10:45:31      _last: false,
2025-08-10 10:45:31      chunkedEncoding: false,
2025-08-10 10:45:31      shouldKeepAlive: false,
2025-08-10 10:45:31      maxRequestsOnConnectionReached: false,
2025-08-10 10:45:31      _defaultKeepAlive: true,
2025-08-10 10:45:31      useChunkedEncodingByDefault: true,
2025-08-10 10:45:31      sendDate: false,
2025-08-10 10:45:31      _removedConnection: false,
2025-08-10 10:45:31      _removedContLen: false,
2025-08-10 10:45:31      _removedTE: false,
2025-08-10 10:45:31      strictContentLength: false,
2025-08-10 10:45:31      _contentLength: 129,
2025-08-10 10:45:31      _hasBody: true,
2025-08-10 10:45:31      _trailer: '',
2025-08-10 10:45:31      finished: true,
2025-08-10 10:45:31      _headerSent: true,
2025-08-10 10:45:31      _closed: false,
2025-08-10 10:45:31      _header: 'POST /v2/bot/message/reply HTTP/1.1\r\n' +
2025-08-10 10:45:31        'Accept: application/json, text/plain, */*\r\n' +
2025-08-10 10:45:31        'Content-Type: application/json\r\n' +
2025-08-10 10:45:31        'Authorization: Bearer +LATS/cSYCUN4VVSpU/2TOWpDXGyYl2os+C99MgPfEnAG5pHrmY3fEGJoMik7hddPGBV+hQcpnypK0bDjW3x4FfTq1Iohow/cd3+PrGnpP/mEzymfa0VcComebCYH5z0a5FHQRjiv7Ggw8t+FKOo0wdB04t89/1O/w1cDnyilFU=\r\n' +
2025-08-10 10:45:31        'User-Agent: axios/1.11.0\r\n' +
2025-08-10 10:45:31        'Content-Length: 129\r\n' +
2025-08-10 10:45:31        'Accept-Encoding: gzip, compress, deflate, br\r\n' +
2025-08-10 10:45:31        'Host: api.line.me\r\n' +
2025-08-10 10:45:31        'Connection: keep-alive\r\n' +
2025-08-10 10:45:31        '\r\n',
2025-08-10 10:45:31      _keepAliveTimeout: 0,
2025-08-10 10:45:31      _onPendingData: [Function: nop],
2025-08-10 10:45:31      agent: Agent {
2025-08-10 10:45:31        _events: [Object: null prototype],
2025-08-10 10:45:31        _eventsCount: 2,
2025-08-10 10:45:31        _maxListeners: undefined,
2025-08-10 10:45:31        options: [Object: null prototype],
2025-08-10 10:45:31        defaultPort: 443,
2025-08-10 10:45:31        protocol: 'https:',
2025-08-10 10:45:31        requests: [Object: null prototype] {},
2025-08-10 10:45:31        sockets: [Object: null prototype],
2025-08-10 10:45:31        freeSockets: [Object: null prototype] {},
