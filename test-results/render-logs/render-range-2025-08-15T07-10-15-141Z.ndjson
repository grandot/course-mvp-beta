2025-08-15 07:05:48  [34m[1m==>(B[m [1mCloning from https://github.com/grandot/course-mvp-beta(B[m
2025-08-15 07:05:50  [34m[1m==>(B[m [1mChecking out commit 8d42655b318ad9fa675e999d07e0dbb26c022ab5 in branch main(B[m
2025-08-15 07:05:52  [34m[1m==>(B[m [1mDownloading cache...(B[m
2025-08-15 07:06:04  [34m[1m==>(B[m [1mTransferred 91MB in 8s. Extraction took 3s.(B[m
2025-08-15 07:06:08  [34m[1m==>(B[m [1mRequesting Node.js version >=20.0.0(B[m
2025-08-15 07:06:09  [34m[1m==>(B[m [1mUsing Node.js version 24.6.0 via /opt/render/project/src/package.json(B[m
2025-08-15 07:06:09  [34m[1m==>(B[m [1mDocs on specifying a Node.js version: https://render.com/docs/node-version(B[m
2025-08-15 07:06:12  [34m[1m==>(B[m [1mRunning build command 'yarn'...(B[m
2025-08-15 07:06:13  yarn install v1.22.22
2025-08-15 07:06:13  info No lockfile found.
2025-08-15 07:06:13  warning package-lock.json found. Your project contains lock files generated by tools other than Yarn. It is advised not to mix package managers in order to avoid resolution inconsistencies caused by unsynchronized lock files. To clear this warning, remove package-lock.json.
2025-08-15 07:06:13  [1/5] Validating package.json...
2025-08-15 07:06:13  [2/5] Resolving packages...
2025-08-15 07:06:15  warning googleapis > google-auth-library > gaxios > node-fetch > fetch-blob > node-domexception@1.0.0: Use your platform's native DOMException instead
2025-08-15 07:06:15  warning eslint@8.57.1: This version is no longer supported. Please see https://eslint.org/version-support for other options.
2025-08-15 07:06:15  warning eslint > @humanwhocodes/config-array@0.13.0: Use @eslint/config-array instead
2025-08-15 07:06:15  warning eslint > @humanwhocodes/config-array > @humanwhocodes/object-schema@2.0.3: Use @eslint/object-schema instead
2025-08-15 07:06:15  warning eslint > file-entry-cache > flat-cache > rimraf@3.0.2: Rimraf versions prior to v4 are no longer supported
2025-08-15 07:06:15  warning eslint > file-entry-cache > flat-cache > rimraf > glob@7.2.3: Glob versions prior to v9 are no longer supported
2025-08-15 07:06:16  warning eslint > file-entry-cache > flat-cache > rimraf > glob > inflight@1.0.6: This module is not supported, and leaks memory. Do not use it. Check out lru-cache if you want a good and tested way to coalesce async requests by a key value, which is much more comprehensive and powerful.
2025-08-15 07:06:17  [3/5] Fetching packages...
2025-08-15 07:06:25  [4/5] Linking dependencies...
2025-08-15 07:06:28  [5/5] Building fresh packages...
2025-08-15 07:06:28  success Saved lockfile.
2025-08-15 07:06:28  Done in 15.51s.
2025-08-15 07:06:32  [34;1m==>[0;22m [1mUploading build...[22m
2025-08-15 07:06:40  [34;1m==>[0;22m [1mUploaded in 4.6s. Compression took 3.6s[22m
2025-08-15 07:06:40  [32;1m==>[0;22m [1mBuild successful ğŸ‰[22m
2025-08-15 07:06:42  [0;34m[1m==> [0m[1mDeploying...[0m
2025-08-15 07:06:58  [32m[1m==>(B[m [1mRunning 'yarn start'(B[m
2025-08-15 07:06:58  yarn run v1.22.22
2025-08-15 07:06:58  $ node src/index.js
2025-08-15 07:06:59  [dotenv@17.2.1] injecting env (0) from .env -- tip: ğŸ” prevent committing .env to code: https://dotenvx.com/precommit
2025-08-15 07:06:59  ğŸš€ æ‡‰ç”¨ç¨‹å¼å•Ÿå‹•ä¸­...
2025-08-15 07:06:59  ğŸ“ ç’°å¢ƒ: development
2025-08-15 07:06:59  ğŸ¤– LINE Service: Real (ç”Ÿç”¢)
2025-08-15 07:06:59  ğŸš€ èª²ç¨‹ç®¡ç†æ©Ÿå™¨äººæœå‹™å·²å•Ÿå‹•
2025-08-15 07:06:59  ğŸ“¡ æœå‹™ç«¯å£: 3000
2025-08-15 07:06:59  ğŸ”— Webhook: http://localhost:3000/webhook
2025-08-15 07:06:59  â¤ï¸ å¥åº·æª¢æŸ¥: http://localhost:3000/health
2025-08-15 07:06:59  ---
2025-08-15 07:06:59  âœ… æ‰€æœ‰ç’°å¢ƒè®Šæ•¸å·²è¨­å®šå®Œæˆ
2025-08-15 07:07:04  [0;32m[1m==> [0m[1mYour service is live ğŸ‰[0m
2025-08-15 07:07:04  [0;32m[1m==> [0m[1m[0m
2025-08-15 07:07:04  [0;32m[1m==> [0m[1m///////////////////////////////////////////////////////////[0m
2025-08-15 07:07:05  [0;32m[1m==> [0m[1m[0m
2025-08-15 07:07:05  [0;32m[1m==> [0m[1mAvailable at your primary URL https://course-mvp-beta.onrender.com[0m
2025-08-15 07:07:05  [0;32m[1m==> [0m[1m[0m
2025-08-15 07:07:05  [0;32m[1m==> [0m[1m///////////////////////////////////////////////////////////[0m
2025-08-15 07:08:05  ğŸ§ª Mock LINE Service åˆå§‹åŒ–ï¼ˆæ¸¬è©¦æ¨¡å¼ï¼‰
2025-08-15 07:08:05  âš ï¸ è­¦å‘Šï¼šUSE_MOCK_LINE_SERVICE æœªè¨­å®šï¼Œå»ºè­°æ˜ç¢ºæŒ‡å®š
2025-08-15 07:08:05  ğŸ“¨ æ”¶åˆ° 1 å€‹äº‹ä»¶
2025-08-15 07:08:05  ğŸ“‹ äº‹ä»¶é¡å‹: message
2025-08-15 07:08:05  ğŸ” å®Œæ•´äº‹ä»¶ JSON: {
2025-08-15 07:08:05    "type": "message",
2025-08-15 07:08:05    "message": {
2025-08-15 07:08:05      "type": "text",
2025-08-15 07:08:05      "id": "574469287587873297",
2025-08-15 07:08:05      "quoteToken": "c5unnSn_mEZo5sECGM82DfKU4S8y7vuebB78PEG09ADXljFSgecMHWDNLpW8g8gV7OnBI6gdVODAaOXgG8DF6HuVfZuH02Xo8R_n0eI18eXnyKJhDGsGZHjilNVHhOfkZJaM_zgDjl-yjMP4xWEgjA",
2025-08-15 07:08:05      "text": "Lumièª²è¡¨"
2025-08-15 07:08:05    },
2025-08-15 07:08:05    "webhookEventId": "01K2P8X5MBCF348XMJ78JXAX7E",
2025-08-15 07:08:05    "deliveryContext": {
2025-08-15 07:08:05      "isRedelivery": false
2025-08-15 07:08:05    },
2025-08-15 07:08:05    "timestamp": 1755241682346,
2025-08-15 07:08:05    "source": {
2025-08-15 07:08:05      "type": "user",
2025-08-15 07:08:05      "userId": "U599d5c1ce2ad616580cc4bc986d94e01"
2025-08-15 07:08:05    },
2025-08-15 07:08:05    "replyToken": "57f533fa759749b7a5b4b7ccd56adb25",
2025-08-15 07:08:05    "mode": "active"
2025-08-15 07:08:05  }
2025-08-15 07:08:05  {"ts":"2025-08-15T07:08:05.152Z","lvl":"info","direction":"inbound","channel":"line","traceId":"line_1755241685151_pqqdwp","userId":"U599d5c1ce2ad616580cc4bc986d94e01","textIn":"Lumièª²è¡¨"}
2025-08-15 07:08:05  ğŸ” ç”¨æˆ¶IDé¡å‹: string
2025-08-15 07:08:05  ğŸ” æ˜¯å¦æ¸¬è©¦ç”¨æˆ¶: false
2025-08-15 07:08:05  ğŸš€ ç”Ÿç”¢ç”¨æˆ¶ï¼Œä½¿ç”¨çœŸå¯¦ LINE Service
2025-08-15 07:08:05  ğŸ¯ é–‹å§‹è§£ææ„åœ–: Lumièª²è¡¨ (ç”¨æˆ¶: U599d5c1ce2ad616580cc4bc986d94e01)
2025-08-15 07:08:05  ğŸ¤– AIèª¿ç”¨åƒæ•¸: { message: 'Lumièª²è¡¨', timeoutMs: 5000, minConfidence: 0.7 }
2025-08-15 07:08:05  [dotenv@17.2.1] injecting env (0) from .env -- tip: ğŸ“¡ version env with Radar: https://dotenvx.com/radar
2025-08-15 07:08:05  âœ… OpenAI æœå‹™åˆå§‹åŒ–å®Œæˆ
2025-08-15 07:08:06  ğŸ¤– AIåŸå§‹çµæœ: { intent: 'query_schedule', confidence: 0.8 }
2025-08-15 07:08:06  âœ… AIçµæœæ¡ç”¨: query_schedule 0.8
2025-08-15 07:08:06  {"ts":"2025-08-15T07:08:06.328Z","lvl":"info","stage":"nlp","traceId":"line_1755241685151_pqqdwp","userId":"U599d5c1ce2ad616580cc4bc986d94e01","intent":"query_schedule"}
2025-08-15 07:08:06  ğŸ” é–‹å§‹æå– slots - æ„åœ–: query_schedule (ç”¨æˆ¶: U599d5c1ce2ad616580cc4bc986d94e01)
2025-08-15 07:08:06  âœ… Redis é€£æ¥æˆåŠŸ
2025-08-15 07:08:07  ğŸ§  ä½¿ç”¨å°è©±ä¸Šä¸‹æ–‡å¢å¼· slots æå–
2025-08-15 07:08:07  ğŸ“Š è¦å‰‡æå–ç½®ä¿¡åº¦: 0.50
2025-08-15 07:08:07  ğŸ¤– å•Ÿç”¨ AI è¼”åŠ©æå–...
2025-08-15 07:08:08  âœ… æœ€çµ‚ slots: { studentName: 'Lumi' }
2025-08-15 07:08:08  {"ts":"2025-08-15T07:08:08.745Z","lvl":"info","stage":"slots","traceId":"line_1755241685151_pqqdwp","userId":"U599d5c1ce2ad616580cc4bc986d94e01","intent":"query_schedule","slotsSummary":["studentName"]}
2025-08-15 07:08:08  ğŸ¯ åŸ·è¡Œä»»å‹™: query_schedule
2025-08-15 07:08:08  ğŸ¯ é–‹å§‹è™•ç†æŸ¥è©¢èª²è¡¨ä»»å‹™
2025-08-15 07:08:08  ğŸ“‹ æ¥æ”¶åƒæ•¸: { studentName: 'Lumi' }
2025-08-15 07:08:08  ğŸ• æ™‚é–“è¨ˆç®—è¨ºæ–·: {
2025-08-15 07:08:08    systemTime: '2025-08-15T07:08:08.758Z',
2025-08-15 07:08:08    taiwanTime: '2025-08-15T15:08:08.758Z',
2025-08-15 07:08:08    timeReference: 'this_week'
2025-08-15 07:08:08  }
2025-08-15 07:08:08  ğŸ“… æŸ¥è©¢æ™‚é–“ç¯„åœ: { startDate: '2025-08-10', endDate: '2025-08-16', description: 'æœ¬é€±' }
