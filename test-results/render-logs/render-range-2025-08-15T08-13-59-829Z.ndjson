2025-08-15 08:04:23  ğŸ”Œ Redis é€£æ¥å·²é—œé–‰
2025-08-15 08:04:23  âœ… Redis é€£æ¥æˆåŠŸ
2025-08-15 08:08:54  [34m[1m==>(B[m [1mCloning from https://github.com/grandot/course-mvp-beta(B[m
2025-08-15 08:08:56  [34m[1m==>(B[m [1mChecking out commit 24dfd07892fb77c1600643d7ecb8dd18a3bb789c in branch main(B[m
2025-08-15 08:08:58  [34m[1m==>(B[m [1mDownloading cache...(B[m
2025-08-15 08:09:10  [34m[1m==>(B[m [1mTransferred 91MB in 9s. Extraction took 3s.(B[m
2025-08-15 08:10:11  [34m[1m==>(B[m [1mRequesting Node.js version >=20.0.0(B[m
2025-08-15 08:10:12  [34m[1m==>(B[m [1mUsing Node.js version 24.6.0 via /opt/render/project/src/package.json(B[m
2025-08-15 08:10:12  [34m[1m==>(B[m [1mDocs on specifying a Node.js version: https://render.com/docs/node-version(B[m
2025-08-15 08:10:12  [34m[1m==>(B[m [1mRunning build command 'yarn'...(B[m
2025-08-15 08:10:13  yarn install v1.22.22
2025-08-15 08:10:13  info No lockfile found.
2025-08-15 08:10:13  warning package-lock.json found. Your project contains lock files generated by tools other than Yarn. It is advised not to mix package managers in order to avoid resolution inconsistencies caused by unsynchronized lock files. To clear this warning, remove package-lock.json.
2025-08-15 08:10:13  [1/5] Validating package.json...
2025-08-15 08:10:13  [2/5] Resolving packages...
2025-08-15 08:10:17  warning googleapis > google-auth-library > gaxios > node-fetch > fetch-blob > node-domexception@1.0.0: Use your platform's native DOMException instead
2025-08-15 08:10:17  warning eslint@8.57.1: This version is no longer supported. Please see https://eslint.org/version-support for other options.
2025-08-15 08:10:17  warning eslint > @humanwhocodes/config-array@0.13.0: Use @eslint/config-array instead
2025-08-15 08:10:17  warning eslint > @humanwhocodes/config-array > @humanwhocodes/object-schema@2.0.3: Use @eslint/object-schema instead
2025-08-15 08:10:17  warning eslint > file-entry-cache > flat-cache > rimraf@3.0.2: Rimraf versions prior to v4 are no longer supported
2025-08-15 08:10:17  warning eslint > file-entry-cache > flat-cache > rimraf > glob@7.2.3: Glob versions prior to v9 are no longer supported
2025-08-15 08:10:17  warning eslint > file-entry-cache > flat-cache > rimraf > glob > inflight@1.0.6: This module is not supported, and leaks memory. Do not use it. Check out lru-cache if you want a good and tested way to coalesce async requests by a key value, which is much more comprehensive and powerful.
2025-08-15 08:10:19  [3/5] Fetching packages...
2025-08-15 08:10:28  [4/5] Linking dependencies...
2025-08-15 08:10:31  [5/5] Building fresh packages...
2025-08-15 08:10:32  success Saved lockfile.
2025-08-15 08:10:32  Done in 18.34s.
2025-08-15 08:10:37  [34;1m==>[0;22m [1mUploading build...[22m
2025-08-15 08:10:50  [34;1m==>[0;22m [1mUploaded in 5.3s. Compression took 7.4s[22m
2025-08-15 08:10:50  [32;1m==>[0;22m [1mBuild successful ğŸ‰[22m
2025-08-15 08:10:53  [0;34m[1m==> [0m[1mDeploying...[0m
2025-08-15 08:11:12  [32m[1m==>(B[m [1mRunning 'yarn start'(B[m
2025-08-15 08:11:12  yarn run v1.22.22
2025-08-15 08:11:13  $ node src/index.js
2025-08-15 08:11:13  [dotenv@17.2.1] injecting env (0) from .env -- tip: ğŸ› ï¸  run anywhere with `dotenvx run -- yourcommand`
2025-08-15 08:11:13  ğŸš€ æ‡‰ç”¨ç¨‹å¼å•Ÿå‹•ä¸­...
2025-08-15 08:11:13  ğŸ“ ç’°å¢ƒ: development
2025-08-15 08:11:13  ğŸ¤– LINE Service: Real (ç”Ÿç”¢)
2025-08-15 08:11:13  ğŸš€ èª²ç¨‹ç®¡ç†æ©Ÿå™¨äººæœå‹™å·²å•Ÿå‹•
2025-08-15 08:11:13  ğŸ“¡ æœå‹™ç«¯å£: 3000
2025-08-15 08:11:13  ğŸ”— Webhook: http://localhost:3000/webhook
2025-08-15 08:11:13  â¤ï¸ å¥åº·æª¢æŸ¥: http://localhost:3000/health
2025-08-15 08:11:13  ---
2025-08-15 08:11:13  âœ… æ‰€æœ‰ç’°å¢ƒè®Šæ•¸å·²è¨­å®šå®Œæˆ
2025-08-15 08:11:15  [0;32m[1m==> [0m[1mYour service is live ğŸ‰[0m
2025-08-15 08:11:15  [0;32m[1m==> [0m[1m[0m
2025-08-15 08:11:16  [0;32m[1m==> [0m[1m///////////////////////////////////////////////////////////[0m
2025-08-15 08:11:16  [0;32m[1m==> [0m[1m[0m
2025-08-15 08:11:16  [0;32m[1m==> [0m[1mAvailable at your primary URL https://course-mvp-beta.onrender.com[0m
2025-08-15 08:11:16  [0;32m[1m==> [0m[1m[0m
2025-08-15 08:11:17  [0;32m[1m==> [0m[1m///////////////////////////////////////////////////////////[0m
2025-08-15 08:11:57  ğŸ§ª Mock LINE Service åˆå§‹åŒ–ï¼ˆæ¸¬è©¦æ¨¡å¼ï¼‰
2025-08-15 08:11:57  âš ï¸ è­¦å‘Šï¼šUSE_MOCK_LINE_SERVICE æœªè¨­å®šï¼Œå»ºè­°æ˜ç¢ºæŒ‡å®š
2025-08-15 08:11:57  ğŸ“¨ æ”¶åˆ° 1 å€‹äº‹ä»¶
2025-08-15 08:11:57  ğŸ“‹ äº‹ä»¶é¡å‹: message
2025-08-15 08:11:57  ğŸ” å®Œæ•´äº‹ä»¶ JSON: {
2025-08-15 08:11:57    "type": "message",
2025-08-15 08:11:57    "message": {
2025-08-15 08:11:57      "type": "text",
2025-08-15 08:11:57      "id": "574475717690261704",
2025-08-15 08:11:57      "quoteToken": "Z9zD1Ahj82uong3uOBb29ERnUduIiK7SH_6pYOYyEcoaISyoljShQM5b9vXb678YmuTbwoGbHBKDEI4iBRErHLVccOHhBwXje3APe3Q8NiXG6k4umnFZ3CSwF2dtYN242B3LeClmyukO7v7_NZ-YWQ",
2025-08-15 08:11:57      "text": "Lumièª²è¡¨"
2025-08-15 08:11:57    },
2025-08-15 08:11:57    "webhookEventId": "01K2PCJ4CBDHPZ3P90V6PT0FKW",
2025-08-15 08:11:57    "deliveryContext": {
2025-08-15 08:11:57      "isRedelivery": false
2025-08-15 08:11:57    },
2025-08-15 08:11:57    "timestamp": 1755245514971,
2025-08-15 08:11:57    "source": {
2025-08-15 08:11:57      "type": "user",
2025-08-15 08:11:57      "userId": "U599d5c1ce2ad616580cc4bc986d94e01"
2025-08-15 08:11:57    },
2025-08-15 08:11:57    "replyToken": "ea1aa926cbb849c9b7d9ebf7f6cc4227",
2025-08-15 08:11:57    "mode": "active"
2025-08-15 08:11:57  }
2025-08-15 08:11:57  {"ts":"2025-08-15T08:11:57.876Z","lvl":"info","direction":"inbound","channel":"line","traceId":"line_1755245517876_4qogve","userId":"U599d5c1ce2ad616580cc4bc986d94e01","textIn":"Lumièª²è¡¨"}
2025-08-15 08:11:57  ğŸ” ç”¨æˆ¶IDé¡å‹: string
2025-08-15 08:11:57  ğŸ” æ˜¯å¦æ¸¬è©¦ç”¨æˆ¶: false
2025-08-15 08:11:57  ğŸš€ ç”Ÿç”¢ç”¨æˆ¶ï¼Œä½¿ç”¨çœŸå¯¦ LINE Service
2025-08-15 08:11:57  ğŸ¯ é–‹å§‹è§£ææ„åœ–: Lumièª²è¡¨ (ç”¨æˆ¶: U599d5c1ce2ad616580cc4bc986d94e01)
2025-08-15 08:11:57  ğŸ¤– AIèª¿ç”¨åƒæ•¸: { message: 'Lumièª²è¡¨', timeoutMs: 5000, minConfidence: 0.7 }
2025-08-15 08:11:57  [dotenv@17.2.1] injecting env (0) from .env -- tip: âš™ï¸  write to custom object with { processEnv: myObject }
2025-08-15 08:11:57  âœ… OpenAI æœå‹™åˆå§‹åŒ–å®Œæˆ
2025-08-15 08:11:59  ğŸ¤– AIåŸå§‹çµæœ: { intent: 'query_schedule', confidence: 0.8 }
2025-08-15 08:11:59  âœ… AIçµæœæ¡ç”¨: query_schedule 0.8
2025-08-15 08:11:59  {"ts":"2025-08-15T08:11:59.011Z","lvl":"info","stage":"nlp","traceId":"line_1755245517876_4qogve","userId":"U599d5c1ce2ad616580cc4bc986d94e01","intent":"query_schedule"}
2025-08-15 08:11:59  ğŸ” é–‹å§‹æå– slots - æ„åœ–: query_schedule (ç”¨æˆ¶: U599d5c1ce2ad616580cc4bc986d94e01)
2025-08-15 08:11:59  âœ… Redis é€£æ¥æˆåŠŸ
2025-08-15 08:11:59  ğŸ§  ä½¿ç”¨å°è©±ä¸Šä¸‹æ–‡å¢å¼· slots æå–
2025-08-15 08:11:59  ğŸ“Š è¦å‰‡æå–ç½®ä¿¡åº¦: 0.50
2025-08-15 08:11:59  ğŸ¤– å•Ÿç”¨ AI è¼”åŠ©æå–...
2025-08-15 08:12:00  âœ… æœ€çµ‚ slots: { studentName: 'Lumi' }
2025-08-15 08:12:01  {"ts":"2025-08-15T08:12:01.065Z","lvl":"info","stage":"slots","traceId":"line_1755245517876_4qogve","userId":"U599d5c1ce2ad616580cc4bc986d94e01","intent":"query_schedule","slotsSummary":["studentName"]}
2025-08-15 08:12:01  ğŸ¯ åŸ·è¡Œä»»å‹™: query_schedule
2025-08-15 08:12:01  ğŸ¯ é–‹å§‹è™•ç†æŸ¥è©¢èª²è¡¨ä»»å‹™
2025-08-15 08:12:01  ğŸ“‹ æ¥æ”¶åƒæ•¸: { studentName: 'Lumi' }
2025-08-15 08:12:01  ğŸ• æ™‚é–“è¨ˆç®—è¨ºæ–·: {
2025-08-15 08:12:01    systemTime: '2025-08-15T08:12:01.083Z',
2025-08-15 08:12:01    taiwanTime: '2025-08-15T16:12:01.083Z',
2025-08-15 08:12:01    timeReference: 'this_week'
2025-08-15 08:12:01  {"ts":"2025-08-15T08:12:01.065Z","lvl":"info","stage":"slots","traceId":"line_1755245517876_4qogve","userId":"U599d5c1ce2ad616580cc4bc986d94e01","intent":"query_schedule","slotsSummary":["studentName"]}
2025-08-15 08:12:01  ğŸ¯ åŸ·è¡Œä»»å‹™: query_schedule
2025-08-15 08:12:01  ğŸ¯ é–‹å§‹è™•ç†æŸ¥è©¢èª²è¡¨ä»»å‹™
2025-08-15 08:12:01  ğŸ“‹ æ¥æ”¶åƒæ•¸: { studentName: 'Lumi' }
2025-08-15 08:12:01  ğŸ• æ™‚é–“è¨ˆç®—è¨ºæ–·: {
2025-08-15 08:12:01    systemTime: '2025-08-15T08:12:01.083Z',
2025-08-15 08:12:01    taiwanTime: '2025-08-15T16:12:01.083Z',
2025-08-15 08:12:01    timeReference: 'this_week'
2025-08-15 08:12:01  }
2025-08-15 08:12:01  ğŸ“… æŸ¥è©¢æ™‚é–“ç¯„åœ: { startDate: '2025-08-10', endDate: '2025-08-16', description: 'æœ¬é€±' }
2025-08-15 08:12:01  [dotenv@17.2.1] injecting env (0) from .env -- tip: âš™ï¸  override existing env vars with { override: true }
2025-08-15 08:12:01  âœ… Firebase æœå‹™åˆå§‹åŒ–å®Œæˆ
2025-08-15 08:12:02  ğŸ“š æŸ¥è©¢åˆ° 3 ç­†èª²ç¨‹è³‡æ–™
2025-08-15 08:12:02  ğŸ“š æŸ¥è©¢åˆ° 7 ç­†èª²ç¨‹è³‡æ–™
2025-08-15 08:12:02  ğŸ“š æŸ¥è©¢åˆ° 2 ç­†èª²ç¨‹
2025-08-15 08:12:02  ğŸ“Š ä»»å‹™åŸ·è¡Œçµæœ: {
2025-08-15 08:12:02    success: true,
2025-08-15 08:12:02    code: 'QUERY_OK',
2025-08-15 08:12:02    message: 'ğŸ“… Lumiæœ¬é€±çš„èª²è¡¨\n\nğŸ“† 8/13 (é€±ä¸‰)\n  ä¸‹åˆ2:30 - æœ‰è¶£å‘³ç§‘å­¸èª² ğŸ”„\n  ä¸‹åˆ3:00 - è·†æ‹³é“ ğŸ”„',
2025-08-15 08:12:02    data: {
2025-08-15 08:12:02      courses: [ [Object], [Object] ],
2025-08-15 08:12:02      courseCount: 2,
2025-08-15 08:12:02      dateRange: {
2025-08-15 08:12:02        startDate: '2025-08-10',
2025-08-15 08:12:02        endDate: '2025-08-16',
2025-08-15 08:12:02        description: 'æœ¬é€±'
2025-08-15 08:12:02      }
2025-08-15 08:12:02    }
2025-08-15 08:12:02  }
2025-08-15 08:12:02  {"ts":"2025-08-15T08:12:02.487Z","lvl":"info","stage":"task","traceId":"line_1755245517876_4qogve","userId":"U599d5c1ce2ad616580cc4bc986d94e01","intent":"query_schedule","success":true,"code":"QUERY_OK","latencyMs":1422}
2025-08-15 08:12:02  ğŸ” æª¢æŸ¥ replyToken: ea1aa926cbb849c9b7d9ebf7f6cc4227
2025-08-15 08:12:03  âœ… è¨Šæ¯å›è¦†æˆåŠŸ
2025-08-15 08:12:03  {"ts":"2025-08-15T08:12:03.151Z","lvl":"info","direction":"outbound","channel":"line","traceId":"line_1755245517876_4qogve","userId":"U599d5c1ce2ad616580cc4bc986d94e01","textOut":"ğŸ“… Lumiæœ¬é€±çš„èª²è¡¨\n\nğŸ“† 8/13 (é€±ä¸‰)\n  ä¸‹åˆ2:30 - æœ‰è¶£å‘³ç§‘å­¸èª² ğŸ”„\n  ä¸‹åˆ3:00 - è·†æ‹³é“ ğŸ”„","quickReply":false}
2025-08-15 08:12:05  ğŸ“¨ æ”¶åˆ° 1 å€‹äº‹ä»¶
2025-08-15 08:12:05  ğŸ“‹ äº‹ä»¶é¡å‹: message
2025-08-15 08:12:05  ğŸ” å®Œæ•´äº‹ä»¶ JSON: {
2025-08-15 08:12:05    "type": "message",
2025-08-15 08:12:05    "message": {
2025-08-15 08:12:05      "type": "text",
2025-08-15 08:12:05      "id": "574475735037902867",
2025-08-15 08:12:05      "quoteToken": "M7mOM6Vnahc9xbZuUoLEEgKf0ebhKoSF1Y_4t9xMFgTXj3HLN11l2135yIduiInQ1Tna0Xx1WwgyYL-gP5FuJ9YmHqmWThdP4VTDATNVzDLl9EOEUiL-Oj0rcHliY2ufzYdE_10iDWsCnPF8P_EShQ",
2025-08-15 08:12:05      "text": "å–æ¶ˆè·†æ‹³é“"
2025-08-15 08:12:05    },
2025-08-15 08:12:05    "webhookEventId": "01K2PCJEKYR0X0ZNB1N4JC3A6H",
2025-08-15 08:12:05    "deliveryContext": {
2025-08-15 08:12:05      "isRedelivery": false
2025-08-15 08:12:05    },
2025-08-15 08:12:05    "timestamp": 1755245525278,
2025-08-15 08:12:05    "source": {
2025-08-15 08:12:05      "type": "user",
2025-08-15 08:12:05      "userId": "U599d5c1ce2ad616580cc4bc986d94e01"
2025-08-15 08:12:05    },
2025-08-15 08:12:05    "replyToken": "489ea3801d53428797f9d039d98a4121",
2025-08-15 08:12:05    "mode": "active"
2025-08-15 08:12:05  }
2025-08-15 08:12:05  {"ts":"2025-08-15T08:12:05.926Z","lvl":"info","direction":"inbound","channel":"line","traceId":"line_1755245525926_q01iys","userId":"U599d5c1ce2ad616580cc4bc986d94e01","textIn":"å–æ¶ˆè·†æ‹³é“"}
2025-08-15 08:12:05  ğŸ” ç”¨æˆ¶IDé¡å‹: string
2025-08-15 08:12:05  ğŸ” æ˜¯å¦æ¸¬è©¦ç”¨æˆ¶: false
2025-08-15 08:12:05  ğŸš€ ç”Ÿç”¢ç”¨æˆ¶ï¼Œä½¿ç”¨çœŸå¯¦ LINE Service
2025-08-15 08:12:05  ğŸ¯ é–‹å§‹è§£ææ„åœ–: å–æ¶ˆè·†æ‹³é“ (ç”¨æˆ¶: U599d5c1ce2ad616580cc4bc986d94e01)
2025-08-15 08:12:05  ğŸ¤– AIèª¿ç”¨åƒæ•¸: { message: 'å–æ¶ˆè·†æ‹³é“', timeoutMs: 5000, minConfidence: 0.7 }
2025-08-15 08:12:06  ğŸ¤– AIåŸå§‹çµæœ: { intent: 'cancel_course', confidence: 0.85 }
2025-08-15 08:12:06  âœ… AIçµæœæ¡ç”¨: cancel_course 0.85
2025-08-15 08:12:06  {"ts":"2025-08-15T08:12:06.598Z","lvl":"info","stage":"nlp","traceId":"line_1755245525926_q01iys","userId":"U599d5c1ce2ad616580cc4bc986d94e01","intent":"cancel_course"}
2025-08-15 08:12:06  ğŸ” é–‹å§‹æå– slots - æ„åœ–: cancel_course (ç”¨æˆ¶: U599d5c1ce2ad616580cc4bc986d94e01)
2025-08-15 08:12:06  ğŸ“ å–æ¶ˆæ“ä½œæ²¿ç”¨æŸ¥è©¢æœƒè©±å­¸ç”Ÿ: Lumi
2025-08-15 08:12:06  ğŸ“Š è¦å‰‡æå–ç½®ä¿¡åº¦: 0.50
2025-08-15 08:12:06  ğŸ¤– å•Ÿç”¨ AI è¼”åŠ©æå–...
2025-08-15 08:12:08  âœ… æœ€çµ‚ slots: { studentName: 'Lumi', courseName: 'è·†æ‹³é“èª²' }
2025-08-15 08:12:08  {"ts":"2025-08-15T08:12:08.219Z","lvl":"info","stage":"slots","traceId":"line_1755245525926_q01iys","userId":"U599d5c1ce2ad616580cc4bc986d94e01","intent":"cancel_course","slotsSummary":["studentName","courseName"]}
2025-08-15 08:12:08  ğŸ¯ åŸ·è¡Œä»»å‹™: cancel_course
2025-08-15 08:12:08  ğŸ—‘ï¸ é–‹å§‹è™•ç†å–æ¶ˆèª²ç¨‹ä»»å‹™: { studentName: 'Lumi', courseName: 'è·†æ‹³é“èª²' }
2025-08-15 08:12:08  ğŸ“š æŸ¥è©¢åˆ° 7 ç­†èª²ç¨‹è³‡æ–™
2025-08-15 08:12:08  ğŸ“Š ä»»å‹™åŸ·è¡Œçµæœ: {
2025-08-15 08:12:08    success: false,
2025-08-15 08:12:08    showQuickReply: true,
2025-08-15 08:12:08    code: 'RECURRING_CANCEL_OPTIONS',
2025-08-15 08:12:08    message: 'è«‹å•æ˜¯è¦å–æ¶ˆå“ªå€‹ç¯„åœï¼Ÿ\n\nğŸ”˜ åªå–æ¶ˆä»Šå¤©\nğŸ”˜ å–æ¶ˆæ˜å¤©èµ·æ‰€æœ‰èª²ç¨‹\nğŸ”˜ åˆªé™¤æ•´å€‹é‡è¤‡èª²ç¨‹',
2025-08-15 08:12:08    quickReply: [
2025-08-15 08:12:08      { label: 'åªå–æ¶ˆä»Šå¤©', text: 'åªå–æ¶ˆä»Šå¤©' },
2025-08-15 08:12:08      { label: 'å–æ¶ˆä¹‹å¾Œå…¨éƒ¨', text: 'å–æ¶ˆä¹‹å¾Œå…¨éƒ¨' },
2025-08-15 08:12:08      { label: 'åˆªé™¤æ•´å€‹é‡è¤‡', text: 'åˆªé™¤æ•´å€‹é‡è¤‡' }
2025-08-15 08:12:08    ]
2025-08-15 08:12:08  }
2025-08-15 08:12:08  {"ts":"2025-08-15T08:12:08.468Z","lvl":"info","stage":"task","traceId":"line_1755245525926_q01iys","userId":"U599d5c1ce2ad616580cc4bc986d94e01","intent":"cancel_course","success":false,"code":"RECURRING_CANCEL_OPTIONS","latencyMs":249}
2025-08-15 08:12:08  ğŸ” æª¢æŸ¥ replyToken: 489ea3801d53428797f9d039d98a4121
2025-08-15 08:12:08  âœ… è¨Šæ¯å›è¦†æˆåŠŸ
2025-08-15 08:12:08  {"ts":"2025-08-15T08:12:08.905Z","lvl":"info","direction":"outbound","channel":"line","traceId":"line_1755245525926_q01iys","userId":"U599d5c1ce2ad616580cc4bc986d94e01","textOut":"è«‹å•æ˜¯è¦å–æ¶ˆå“ªå€‹ç¯„åœï¼Ÿ\n\nğŸ”˜ åªå–æ¶ˆä»Šå¤©\nğŸ”˜ å–æ¶ˆæ˜å¤©èµ·æ‰€æœ‰èª²ç¨‹\nğŸ”˜ åˆªé™¤æ•´å€‹é‡è¤‡èª²ç¨‹","quickReply":true}
2025-08-15 08:12:10  ğŸ“¨ æ”¶åˆ° 1 å€‹äº‹ä»¶
2025-08-15 08:12:10  ğŸ“‹ äº‹ä»¶é¡å‹: message
2025-08-15 08:12:10  ğŸ” å®Œæ•´äº‹ä»¶ JSON: {
2025-08-15 08:12:10    "type": "message",
2025-08-15 08:12:10    "message": {
2025-08-15 08:12:10      "type": "text",
2025-08-15 08:12:10      "id": "574475743308808284",
2025-08-15 08:12:10      "quoteToken": "5I5BXFIXBRG1cvWuI7ylW1o71klfYblI452Hes4WE95qYj5Gh_bA-OsYzQUC9x8HYFYOuZLQoQ33PeMJ6gYgWxzs40SKTVeUyl7aDg2jHj2NmJHjSPquFq5uLvLLueAkHOsGk2vCzYGDM_hlOeaXuA",
2025-08-15 08:12:10      "text": "åˆªé™¤æ•´å€‹é‡è¤‡"
2025-08-15 08:12:10    },
2025-08-15 08:12:10    "webhookEventId": "01K2PCJKH16M701EHHYNVPDKJJ",
2025-08-15 08:12:10    "deliveryContext": {
2025-08-15 08:12:10  ğŸ“¨ æ”¶åˆ° 1 å€‹äº‹ä»¶
2025-08-15 08:12:10  ğŸ“‹ äº‹ä»¶é¡å‹: message
2025-08-15 08:12:10  ğŸ” å®Œæ•´äº‹ä»¶ JSON: {
2025-08-15 08:12:10    "type": "message",
2025-08-15 08:12:10    "message": {
2025-08-15 08:12:10      "type": "text",
2025-08-15 08:12:10      "id": "574475743308808284",
2025-08-15 08:12:10      "quoteToken": "5I5BXFIXBRG1cvWuI7ylW1o71klfYblI452Hes4WE95qYj5Gh_bA-OsYzQUC9x8HYFYOuZLQoQ33PeMJ6gYgWxzs40SKTVeUyl7aDg2jHj2NmJHjSPquFq5uLvLLueAkHOsGk2vCzYGDM_hlOeaXuA",
2025-08-15 08:12:10      "text": "åˆªé™¤æ•´å€‹é‡è¤‡"
2025-08-15 08:12:10    },
2025-08-15 08:12:10    "webhookEventId": "01K2PCJKH16M701EHHYNVPDKJJ",
2025-08-15 08:12:10    "deliveryContext": {
2025-08-15 08:12:10      "isRedelivery": false
2025-08-15 08:12:10    },
2025-08-15 08:12:10    "timestamp": 1755245530257,
2025-08-15 08:12:10    "source": {
2025-08-15 08:12:10      "type": "user",
2025-08-15 08:12:10      "userId": "U599d5c1ce2ad616580cc4bc986d94e01"
2025-08-15 08:12:10    },
2025-08-15 08:12:10    "replyToken": "67dfd12687454312a404b2a6d1612490",
2025-08-15 08:12:10    "mode": "active"
2025-08-15 08:12:10  }
2025-08-15 08:12:10  ğŸ”˜ QuickReply æ¶ˆæ¯åŒ…è£¹: { original: 'åˆªé™¤æ•´å€‹é‡è¤‡', processed: 'ã€åˆªé™¤æ•´å€‹é‡è¤‡ã€‘' }
2025-08-15 08:12:10  {"ts":"2025-08-15T08:12:10.767Z","lvl":"info","direction":"inbound","channel":"line","traceId":"line_1755245530766_0983zs","userId":"U599d5c1ce2ad616580cc4bc986d94e01","textIn":"ã€åˆªé™¤æ•´å€‹é‡è¤‡ã€‘"}
2025-08-15 08:12:10  ğŸ” ç”¨æˆ¶IDé¡å‹: string
2025-08-15 08:12:10  ğŸ” æ˜¯å¦æ¸¬è©¦ç”¨æˆ¶: false
2025-08-15 08:12:10  ğŸš€ ç”Ÿç”¢ç”¨æˆ¶ï¼Œä½¿ç”¨çœŸå¯¦ LINE Service
2025-08-15 08:12:10  ğŸ¯ é–‹å§‹è§£ææ„åœ–: åˆªé™¤æ•´å€‹é‡è¤‡ (ç”¨æˆ¶: U599d5c1ce2ad616580cc4bc986d94e01)
2025-08-15 08:12:10  ğŸ¤– AIèª¿ç”¨åƒæ•¸: { message: 'åˆªé™¤æ•´å€‹é‡è¤‡', timeoutMs: 5000, minConfidence: 0.7 }
2025-08-15 08:12:11  ğŸ¤– AIåŸå§‹çµæœ: { intent: 'unknown', confidence: 0 }
2025-08-15 08:12:11  âŒ AIçµæœæ‹’çµ•: { hasIntent: true, confidence: 0, threshold: 0.7 }
2025-08-15 08:12:11  âœ… è¦å‰‡å…œåº•è­˜åˆ¥: cancel_course
2025-08-15 08:12:11  {"ts":"2025-08-15T08:12:11.462Z","lvl":"info","stage":"nlp","traceId":"line_1755245530766_0983zs","userId":"U599d5c1ce2ad616580cc4bc986d94e01","intent":"cancel_course"}
2025-08-15 08:12:11  ğŸ” é–‹å§‹æå– slots - æ„åœ–: cancel_course (ç”¨æˆ¶: U599d5c1ce2ad616580cc4bc986d94e01)
2025-08-15 08:12:11  ğŸ“ å–æ¶ˆæ“ä½œæ²¿ç”¨æŸ¥è©¢æœƒè©±å­¸ç”Ÿ: Lumi
2025-08-15 08:12:11  ğŸ§  ä½¿ç”¨å°è©±ä¸Šä¸‹æ–‡å¢å¼· slots æå–
2025-08-15 08:12:11  ğŸ“ å¾ä¸Šä¸‹æ–‡è£œå……èª²ç¨‹åç¨±: è·†æ‹³é“èª²
2025-08-15 08:12:11  ğŸ“Š è¦å‰‡æå–ç½®ä¿¡åº¦: 1.00
2025-08-15 08:12:11  ğŸ¤– å•Ÿç”¨ AI è¼”åŠ©æå–...
2025-08-15 08:12:13  âœ… æœ€çµ‚ slots: {
2025-08-15 08:12:13    studentName: 'Lumi',
2025-08-15 08:12:13    courseName: 'è·†æ‹³é“èª²',
2025-08-15 08:12:13    scope: 'all',
2025-08-15 08:12:13    content: 'æ•´å€‹é‡è¤‡'
2025-08-15 08:12:13  }
2025-08-15 08:12:13  {"ts":"2025-08-15T08:12:13.299Z","lvl":"info","stage":"slots","traceId":"line_1755245530766_0983zs","userId":"U599d5c1ce2ad616580cc4bc986d94e01","intent":"cancel_course","slotsSummary":["studentName","courseName","scope","content"]}
2025-08-15 08:12:13  ğŸ¯ åŸ·è¡Œä»»å‹™: cancel_course
2025-08-15 08:12:13  ğŸ—‘ï¸ é–‹å§‹è™•ç†å–æ¶ˆèª²ç¨‹ä»»å‹™: {
2025-08-15 08:12:13    studentName: 'Lumi',
2025-08-15 08:12:13    courseName: 'è·†æ‹³é“èª²',
2025-08-15 08:12:13    scope: 'all',
2025-08-15 08:12:13    content: 'æ•´å€‹é‡è¤‡'
2025-08-15 08:12:13  }
2025-08-15 08:12:13  ğŸ“š æŸ¥è©¢åˆ° 7 ç­†èª²ç¨‹è³‡æ–™
2025-08-15 08:12:13  [dotenv@17.2.1] injecting env (0) from .env -- tip: ğŸ› ï¸  run anywhere with `dotenvx run -- yourcommand`
2025-08-15 08:12:13  ğŸ” å·²ä½¿ç”¨ OAuth2 æ¨¡å¼åˆå§‹åŒ– Google Calendar (client configured, using refresh_token)
2025-08-15 08:12:13  âœ… Google Calendar æœå‹™åˆå§‹åŒ–å®Œæˆï¼ˆæ¨¡å¼ï¼šoauth2ï¼‰
2025-08-15 08:12:14  âŒ æ¨™è¨˜äº‹ä»¶ç‚ºå·²å–æ¶ˆå¤±æ•—: { error: { errors: [ [Object] ], code: 404, message: 'Not Found' } }
2025-08-15 08:12:14  âŒ Google Calendar æ“ä½œå¤±æ•—
2025-08-15 08:12:14  âœ… èª²ç¨‹å·²æ¨™è¨˜ç‚ºå–æ¶ˆ: AQi6yl45zm1uG1HrNWjv
2025-08-15 08:12:14  âœ… èª²ç¨‹å–æ¶ˆæˆåŠŸ: Lumi çš„ è·†æ‹³é“ (2025-08-13)
2025-08-15 08:12:14  ğŸ“Š å–æ¶ˆçµæœçµ±è¨ˆ: æˆåŠŸ=1, å¤±æ•—=0
2025-08-15 08:12:14  ğŸ“Š ä»»å‹™åŸ·è¡Œçµæœ: {
2025-08-15 08:12:14    success: true,
2025-08-15 08:12:14    code: 'COURSE_CANCEL_OK',
2025-08-15 08:12:14    message: 'âœ… å·²å–æ¶ˆ Lumi çš„ è·†æ‹³é“èª²\nğŸ“… åŸå®šæ™‚é–“ï¼š2025-08-13 15:00\n\nğŸ’¡ æç¤ºï¼šå·²å–æ¶ˆçš„èª²ç¨‹ä»ä¿ç•™åœ¨è¨˜éŒ„ä¸­ï¼Œå¯éš¨æ™‚æŸ¥çœ‹æ­·å²è³‡æ–™'
2025-08-15 08:12:14  }
2025-08-15 08:12:14  {"ts":"2025-08-15T08:12:14.156Z","lvl":"info","stage":"task","traceId":"line_1755245530766_0983zs","userId":"U599d5c1ce2ad616580cc4bc986d94e01","intent":"cancel_course","success":true,"code":"COURSE_CANCEL_OK","latencyMs":857}
2025-08-15 08:12:14  ğŸ” æª¢æŸ¥ replyToken: 67dfd12687454312a404b2a6d1612490
2025-08-15 08:12:14  âœ… è¨Šæ¯å›è¦†æˆåŠŸ
2025-08-15 08:12:14  {"ts":"2025-08-15T08:12:14.817Z","lvl":"info","direction":"outbound","channel":"line","traceId":"line_1755245530766_0983zs","userId":"U599d5c1ce2ad616580cc4bc986d94e01","textOut":"âœ… å·²å–æ¶ˆ Lumi çš„ è·†æ‹³é“èª²\nğŸ“… åŸå®šæ™‚é–“ï¼š2025-08-13 15:00\n\nğŸ’¡ æç¤ºï¼šå·²å–æ¶ˆçš„èª²ç¨‹ä»ä¿ç•™åœ¨è¨˜éŒ„ä¸­ï¼Œå¯éš¨æ™‚æŸ¥çœ‹æ­·å²è³‡æ–™","quickReply":false}
2025-08-15 08:12:24  ğŸ“¨ æ”¶åˆ° 1 å€‹äº‹ä»¶
2025-08-15 08:12:24  ğŸ“‹ äº‹ä»¶é¡å‹: message
2025-08-15 08:12:24  ğŸ” å®Œæ•´äº‹ä»¶ JSON: {
2025-08-15 08:12:24    "type": "message",
2025-08-15 08:12:24    "message": {
2025-08-15 08:12:24      "type": "text",
2025-08-15 08:12:24      "id": "574475766210494943",
2025-08-15 08:12:24      "quoteToken": "vFwV_fNcH53ICBUNhFMMJfdp7C35TuSroxbTRqXRDCkjCxG6G1SVbUuKgPRNZJsOe-O-FN-maDI1NkHuGDub-EDWT2Stsfc-kLuXHIduNY-DmJrK-gOkWs2VfltL--55_gOmjglpCqbDhy4sBkiVow",
2025-08-15 08:12:24      "text": "Lumièª²è¡¨"
2025-08-15 08:12:24    },
2025-08-15 08:12:24    "webhookEventId": "01K2PCK0PFZ71V5SHNANB2JR8T",
2025-08-15 08:12:24    "deliveryContext": {
2025-08-15 08:12:24      "isRedelivery": false
2025-08-15 08:12:24    },
2025-08-15 08:12:24    "timestamp": 1755245543875,
2025-08-15 08:12:24    "source": {
2025-08-15 08:12:24      "type": "user",
2025-08-15 08:12:24      "userId": "U599d5c1ce2ad616580cc4bc986d94e01"
2025-08-15 08:12:24    },
2025-08-15 08:12:24    "replyToken": "413313ebda9f4c8a80e8dfae1c103b36",
2025-08-15 08:12:24    "mode": "active"
2025-08-15 08:12:24  }
2025-08-15 08:12:24  {"ts":"2025-08-15T08:12:24.316Z","lvl":"info","direction":"inbound","channel":"line","traceId":"line_1755245544316_fj5b5s","userId":"U599d5c1ce2ad616580cc4bc986d94e01","textIn":"Lumièª²è¡¨"}
2025-08-15 08:12:24  ğŸ” ç”¨æˆ¶IDé¡å‹: string
2025-08-15 08:12:24  ğŸ” æ˜¯å¦æ¸¬è©¦ç”¨æˆ¶: false
2025-08-15 08:12:24  ğŸš€ ç”Ÿç”¢ç”¨æˆ¶ï¼Œä½¿ç”¨çœŸå¯¦ LINE Service
2025-08-15 08:12:24  ğŸ¯ é–‹å§‹è§£ææ„åœ–: Lumièª²è¡¨ (ç”¨æˆ¶: U599d5c1ce2ad616580cc4bc986d94e01)
2025-08-15 08:12:24  ğŸ¤– AIèª¿ç”¨åƒæ•¸: { message: 'Lumièª²è¡¨', timeoutMs: 5000, minConfidence: 0.7 }
2025-08-15 08:12:24  ğŸ¤– AIåŸå§‹çµæœ: { intent: 'query_schedule', confidence: 0.8 }
2025-08-15 08:12:24  ğŸ“¨ æ”¶åˆ° 1 å€‹äº‹ä»¶
2025-08-15 08:12:24  ğŸ“‹ äº‹ä»¶é¡å‹: message
2025-08-15 08:12:24  ğŸ” å®Œæ•´äº‹ä»¶ JSON: {
2025-08-15 08:12:24    "type": "message",
2025-08-15 08:12:24    "message": {
2025-08-15 08:12:24      "type": "text",
2025-08-15 08:12:24      "id": "574475766210494943",
2025-08-15 08:12:24      "quoteToken": "vFwV_fNcH53ICBUNhFMMJfdp7C35TuSroxbTRqXRDCkjCxG6G1SVbUuKgPRNZJsOe-O-FN-maDI1NkHuGDub-EDWT2Stsfc-kLuXHIduNY-DmJrK-gOkWs2VfltL--55_gOmjglpCqbDhy4sBkiVow",
2025-08-15 08:12:24      "text": "Lumièª²è¡¨"
2025-08-15 08:12:24    },
2025-08-15 08:12:24    "webhookEventId": "01K2PCK0PFZ71V5SHNANB2JR8T",
2025-08-15 08:12:24    "deliveryContext": {
2025-08-15 08:12:24      "isRedelivery": false
2025-08-15 08:12:24    },
2025-08-15 08:12:24    "timestamp": 1755245543875,
2025-08-15 08:12:24    "source": {
2025-08-15 08:12:24      "type": "user",
2025-08-15 08:12:24      "userId": "U599d5c1ce2ad616580cc4bc986d94e01"
2025-08-15 08:12:24    },
2025-08-15 08:12:24    "replyToken": "413313ebda9f4c8a80e8dfae1c103b36",
2025-08-15 08:12:24    "mode": "active"
2025-08-15 08:12:24  }
2025-08-15 08:12:24  {"ts":"2025-08-15T08:12:24.316Z","lvl":"info","direction":"inbound","channel":"line","traceId":"line_1755245544316_fj5b5s","userId":"U599d5c1ce2ad616580cc4bc986d94e01","textIn":"Lumièª²è¡¨"}
2025-08-15 08:12:24  ğŸ” ç”¨æˆ¶IDé¡å‹: string
2025-08-15 08:12:24  ğŸ” æ˜¯å¦æ¸¬è©¦ç”¨æˆ¶: false
2025-08-15 08:12:24  ğŸš€ ç”Ÿç”¢ç”¨æˆ¶ï¼Œä½¿ç”¨çœŸå¯¦ LINE Service
2025-08-15 08:12:24  ğŸ¯ é–‹å§‹è§£ææ„åœ–: Lumièª²è¡¨ (ç”¨æˆ¶: U599d5c1ce2ad616580cc4bc986d94e01)
2025-08-15 08:12:24  ğŸ¤– AIèª¿ç”¨åƒæ•¸: { message: 'Lumièª²è¡¨', timeoutMs: 5000, minConfidence: 0.7 }
2025-08-15 08:12:24  ğŸ¤– AIåŸå§‹çµæœ: { intent: 'query_schedule', confidence: 0.8 }
2025-08-15 08:12:24  âœ… AIçµæœæ¡ç”¨: query_schedule 0.8
2025-08-15 08:12:24  {"ts":"2025-08-15T08:12:24.977Z","lvl":"info","stage":"nlp","traceId":"line_1755245544316_fj5b5s","userId":"U599d5c1ce2ad616580cc4bc986d94e01","intent":"query_schedule"}
2025-08-15 08:12:24  ğŸ” é–‹å§‹æå– slots - æ„åœ–: query_schedule (ç”¨æˆ¶: U599d5c1ce2ad616580cc4bc986d94e01)
2025-08-15 08:12:25  ğŸ”’ å¥—ç”¨æŸ¥è©¢æœƒè©±é–: {
2025-08-15 08:12:25    studentName: 'Lumi',
2025-08-15 08:12:25    timeReference: null,
2025-08-15 08:12:25    specificDate: null,
2025-08-15 08:12:25    courseName: null
2025-08-15 08:12:25  }
2025-08-15 08:12:25  ğŸ“Š è¦å‰‡æå–ç½®ä¿¡åº¦: 0.50
2025-08-15 08:12:25  ğŸ¤– å•Ÿç”¨ AI è¼”åŠ©æå–...
2025-08-15 08:12:26  âœ… æœ€çµ‚ slots: { studentName: 'Lumi' }
2025-08-15 08:12:26  {"ts":"2025-08-15T08:12:26.550Z","lvl":"info","stage":"slots","traceId":"line_1755245544316_fj5b5s","userId":"U599d5c1ce2ad616580cc4bc986d94e01","intent":"query_schedule","slotsSummary":["studentName"]}
2025-08-15 08:12:26  ğŸ¯ åŸ·è¡Œä»»å‹™: query_schedule
2025-08-15 08:12:26  ğŸ¯ é–‹å§‹è™•ç†æŸ¥è©¢èª²è¡¨ä»»å‹™
2025-08-15 08:12:26  ğŸ“‹ æ¥æ”¶åƒæ•¸: { studentName: 'Lumi' }
2025-08-15 08:12:26  ğŸ• æ™‚é–“è¨ˆç®—è¨ºæ–·: {
2025-08-15 08:12:26    systemTime: '2025-08-15T08:12:26.551Z',
2025-08-15 08:12:26    taiwanTime: '2025-08-15T16:12:26.551Z',
2025-08-15 08:12:26    timeReference: 'this_week'
2025-08-15 08:12:26  }
2025-08-15 08:12:26  ğŸ“… æŸ¥è©¢æ™‚é–“ç¯„åœ: { startDate: '2025-08-10', endDate: '2025-08-16', description: 'æœ¬é€±' }
2025-08-15 08:12:26  ğŸ“š æŸ¥è©¢åˆ° 3 ç­†èª²ç¨‹è³‡æ–™
2025-08-15 08:12:26  ğŸ“š æŸ¥è©¢åˆ° 7 ç­†èª²ç¨‹è³‡æ–™
2025-08-15 08:12:26  ğŸ“š æŸ¥è©¢åˆ° 1 ç­†èª²ç¨‹
2025-08-15 08:12:26  ğŸ“Š ä»»å‹™åŸ·è¡Œçµæœ: {
2025-08-15 08:12:26    success: true,
2025-08-15 08:12:26    code: 'QUERY_OK',
2025-08-15 08:12:26    message: 'ğŸ“… Lumiæœ¬é€±çš„èª²è¡¨\n\nğŸ“† 8/13 (é€±ä¸‰)\n  ä¸‹åˆ2:30 - æœ‰è¶£å‘³ç§‘å­¸èª² ğŸ”„',
2025-08-15 08:12:26    data: {
2025-08-15 08:12:26      courses: [ [Object] ],
2025-08-15 08:12:26      courseCount: 1,
2025-08-15 08:12:26      dateRange: {
2025-08-15 08:12:26        startDate: '2025-08-10',
2025-08-15 08:12:26        endDate: '2025-08-16',
2025-08-15 08:12:26        description: 'æœ¬é€±'
2025-08-15 08:12:26      }
2025-08-15 08:12:26    }
2025-08-15 08:12:26  }
2025-08-15 08:12:26  {"ts":"2025-08-15T08:12:26.695Z","lvl":"info","stage":"task","traceId":"line_1755245544316_fj5b5s","userId":"U599d5c1ce2ad616580cc4bc986d94e01","intent":"query_schedule","success":true,"code":"QUERY_OK","latencyMs":144}
2025-08-15 08:12:26  ğŸ” æª¢æŸ¥ replyToken: 413313ebda9f4c8a80e8dfae1c103b36
2025-08-15 08:12:27  âœ… è¨Šæ¯å›è¦†æˆåŠŸ
2025-08-15 08:12:27  {"ts":"2025-08-15T08:12:27.144Z","lvl":"info","direction":"outbound","channel":"line","traceId":"line_1755245544316_fj5b5s","userId":"U599d5c1ce2ad616580cc4bc986d94e01","textOut":"ğŸ“… Lumiæœ¬é€±çš„èª²è¡¨\n\nğŸ“† 8/13 (é€±ä¸‰)\n  ä¸‹åˆ2:30 - æœ‰è¶£å‘³ç§‘å­¸èª² ğŸ”„","quickReply":false}
2025-08-15 08:12:37  ğŸ“¨ æ”¶åˆ° 1 å€‹äº‹ä»¶
2025-08-15 08:12:37  ğŸ“‹ äº‹ä»¶é¡å‹: message
2025-08-15 08:12:37  ğŸ” å®Œæ•´äº‹ä»¶ JSON: {
2025-08-15 08:12:37    "type": "message",
2025-08-15 08:12:37    "message": {
2025-08-15 08:12:37      "type": "text",
2025-08-15 08:12:37      "id": "574475788825395739",
2025-08-15 08:12:37      "quoteToken": "osnQRME029HUxUcP2HsQQMNs6wlFI_W9m7mZGdz-nQegxn6RLla3Lqqn4FtMVcSSXridc5Ub2FzFxzxmNOLI-yNcGUVUEoZyynpCKxvZ5hjQAEDUKE--KBUR1IH5Jmhqp2u__6X6nWNEQzB8QC0rkg",
2025-08-15 08:12:37      "text": "åˆªé™¤æœ‰è¶£å‘³ç§‘å­¸èª²"
2025-08-15 08:12:37    },
2025-08-15 08:12:37    "webhookEventId": "01K2PCKDVBGB0AQCMBV3KDPJ3K",
2025-08-15 08:12:37    "deliveryContext": {
2025-08-15 08:12:37      "isRedelivery": false
2025-08-15 08:12:37    },
2025-08-15 08:12:37    "timestamp": 1755245557302,
2025-08-15 08:12:37    "source": {
2025-08-15 08:12:37      "type": "user",
2025-08-15 08:12:37      "userId": "U599d5c1ce2ad616580cc4bc986d94e01"
2025-08-15 08:12:37    },
2025-08-15 08:12:37    "replyToken": "5bebaa91dec743c9a585ff97738ba4d7",
2025-08-15 08:12:37    "mode": "active"
2025-08-15 08:12:37  }
2025-08-15 08:12:37  {"ts":"2025-08-15T08:12:37.812Z","lvl":"info","direction":"inbound","channel":"line","traceId":"line_1755245557812_x32jlz","userId":"U599d5c1ce2ad616580cc4bc986d94e01","textIn":"åˆªé™¤æœ‰è¶£å‘³ç§‘å­¸èª²"}
2025-08-15 08:12:37  ğŸ” ç”¨æˆ¶IDé¡å‹: string
2025-08-15 08:12:37  ğŸ” æ˜¯å¦æ¸¬è©¦ç”¨æˆ¶: false
2025-08-15 08:12:37  ğŸš€ ç”Ÿç”¢ç”¨æˆ¶ï¼Œä½¿ç”¨çœŸå¯¦ LINE Service
2025-08-15 08:12:37  ğŸ¯ é–‹å§‹è§£ææ„åœ–: åˆªé™¤æœ‰è¶£å‘³ç§‘å­¸èª² (ç”¨æˆ¶: U599d5c1ce2ad616580cc4bc986d94e01)
2025-08-15 08:12:37  {"ts":"2025-08-15T08:12:37.812Z","lvl":"info","stage":"nlp","traceId":"line_1755245557812_x32jlz","userId":"U599d5c1ce2ad616580cc4bc986d94e01","intent":"cancel_course"}
2025-08-15 08:12:37  ğŸ“¨ æ”¶åˆ° 1 å€‹äº‹ä»¶
2025-08-15 08:12:37  ğŸ“‹ äº‹ä»¶é¡å‹: message
2025-08-15 08:12:37  ğŸ” å®Œæ•´äº‹ä»¶ JSON: {
2025-08-15 08:12:37    "type": "message",
2025-08-15 08:12:37    "message": {
2025-08-15 08:12:37      "type": "text",
2025-08-15 08:12:37      "id": "574475788825395739",
2025-08-15 08:12:37      "quoteToken": "osnQRME029HUxUcP2HsQQMNs6wlFI_W9m7mZGdz-nQegxn6RLla3Lqqn4FtMVcSSXridc5Ub2FzFxzxmNOLI-yNcGUVUEoZyynpCKxvZ5hjQAEDUKE--KBUR1IH5Jmhqp2u__6X6nWNEQzB8QC0rkg",
2025-08-15 08:12:37      "text": "åˆªé™¤æœ‰è¶£å‘³ç§‘å­¸èª²"
2025-08-15 08:12:37    },
2025-08-15 08:12:37    "webhookEventId": "01K2PCKDVBGB0AQCMBV3KDPJ3K",
2025-08-15 08:12:37    "deliveryContext": {
2025-08-15 08:12:37      "isRedelivery": false
2025-08-15 08:12:37    },
2025-08-15 08:12:37    "timestamp": 1755245557302,
2025-08-15 08:12:37    "source": {
2025-08-15 08:12:37      "type": "user",
2025-08-15 08:12:37      "userId": "U599d5c1ce2ad616580cc4bc986d94e01"
2025-08-15 08:12:37    },
2025-08-15 08:12:37    "replyToken": "5bebaa91dec743c9a585ff97738ba4d7",
2025-08-15 08:12:37    "mode": "active"
2025-08-15 08:12:37  }
2025-08-15 08:12:37  {"ts":"2025-08-15T08:12:37.812Z","lvl":"info","direction":"inbound","channel":"line","traceId":"line_1755245557812_x32jlz","userId":"U599d5c1ce2ad616580cc4bc986d94e01","textIn":"åˆªé™¤æœ‰è¶£å‘³ç§‘å­¸èª²"}
2025-08-15 08:12:37  ğŸ” ç”¨æˆ¶IDé¡å‹: string
2025-08-15 08:12:37  ğŸ” æ˜¯å¦æ¸¬è©¦ç”¨æˆ¶: false
2025-08-15 08:12:37  ğŸš€ ç”Ÿç”¢ç”¨æˆ¶ï¼Œä½¿ç”¨çœŸå¯¦ LINE Service
2025-08-15 08:12:37  ğŸ¯ é–‹å§‹è§£ææ„åœ–: åˆªé™¤æœ‰è¶£å‘³ç§‘å­¸èª² (ç”¨æˆ¶: U599d5c1ce2ad616580cc4bc986d94e01)
2025-08-15 08:12:37  {"ts":"2025-08-15T08:12:37.812Z","lvl":"info","stage":"nlp","traceId":"line_1755245557812_x32jlz","userId":"U599d5c1ce2ad616580cc4bc986d94e01","intent":"cancel_course"}
2025-08-15 08:12:37  ğŸ” é–‹å§‹æå– slots - æ„åœ–: cancel_course (ç”¨æˆ¶: U599d5c1ce2ad616580cc4bc986d94e01)
2025-08-15 08:12:38  ğŸ“ å–æ¶ˆæ“ä½œæ²¿ç”¨æŸ¥è©¢æœƒè©±å­¸ç”Ÿ: Lumi
2025-08-15 08:12:38  ğŸ§  ä½¿ç”¨å°è©±ä¸Šä¸‹æ–‡å¢å¼· slots æå–
2025-08-15 08:12:38  ğŸ“Š è¦å‰‡æå–ç½®ä¿¡åº¦: 1.00
2025-08-15 08:12:38  ğŸ¤– å•Ÿç”¨ AI è¼”åŠ©æå–...
2025-08-15 08:12:39  âœ… æœ€çµ‚ slots: { studentName: 'Lumi', courseName: 'é™¤æœ‰è¶£å‘³ç§‘å­¸èª²' }
2025-08-15 08:12:39  {"ts":"2025-08-15T08:12:39.353Z","lvl":"info","stage":"slots","traceId":"line_1755245557812_x32jlz","userId":"U599d5c1ce2ad616580cc4bc986d94e01","intent":"cancel_course","slotsSummary":["studentName","courseName"]}
2025-08-15 08:12:39  ğŸ¯ åŸ·è¡Œä»»å‹™: cancel_course
2025-08-15 08:12:39  ğŸ—‘ï¸ é–‹å§‹è™•ç†å–æ¶ˆèª²ç¨‹ä»»å‹™: { studentName: 'Lumi', courseName: 'é™¤æœ‰è¶£å‘³ç§‘å­¸èª²' }
2025-08-15 08:12:39  ğŸ“š æŸ¥è©¢åˆ° 7 ç­†èª²ç¨‹è³‡æ–™
2025-08-15 08:12:39  ğŸ“š æŸ¥è©¢åˆ° 0 ç­†èª²ç¨‹è³‡æ–™
2025-08-15 08:12:39  ğŸ“š æŸ¥è©¢åˆ° 7 ç­†èª²ç¨‹è³‡æ–™
2025-08-15 08:12:39  ğŸ“š æŸ¥è©¢åˆ° 0 ç­†èª²ç¨‹è³‡æ–™
2025-08-15 08:12:39  ğŸ“Š ä»»å‹™åŸ·è¡Œçµæœ: {
2025-08-15 08:12:39    success: false,
2025-08-15 08:12:39    code: 'NOT_FOUND',
2025-08-15 08:12:39    message: 'âŒ æ‰¾ä¸åˆ° Lumi çš„ é™¤æœ‰è¶£å‘³ç§‘å­¸èª²ï¼Œè«‹ç¢ºèªèª²ç¨‹æ˜¯å¦å­˜åœ¨'
2025-08-15 08:12:39  }
2025-08-15 08:12:39  {"ts":"2025-08-15T08:12:39.637Z","lvl":"info","stage":"task","traceId":"line_1755245557812_x32jlz","userId":"U599d5c1ce2ad616580cc4bc986d94e01","intent":"cancel_course","success":false,"code":"NOT_FOUND","latencyMs":284}
2025-08-15 08:12:39  ğŸ” æª¢æŸ¥ replyToken: 5bebaa91dec743c9a585ff97738ba4d7
2025-08-15 08:12:40  âœ… è¨Šæ¯å›è¦†æˆåŠŸ
2025-08-15 08:12:40  {"ts":"2025-08-15T08:12:40.108Z","lvl":"info","direction":"outbound","channel":"line","traceId":"line_1755245557812_x32jlz","userId":"U599d5c1ce2ad616580cc4bc986d94e01","textOut":"âŒ æ‰¾ä¸åˆ° Lumi çš„ é™¤æœ‰è¶£å‘³ç§‘å­¸èª²ï¼Œè«‹ç¢ºèªèª²ç¨‹æ˜¯å¦å­˜åœ¨","quickReply":false}
2025-08-15 08:12:40  âœ… è¨Šæ¯å›è¦†æˆåŠŸ
2025-08-15 08:12:40  {"ts":"2025-08-15T08:12:40.108Z","lvl":"info","direction":"outbound","channel":"line","traceId":"line_1755245557812_x32jlz","userId":"U599d5c1ce2ad616580cc4bc986d94e01","textOut":"âŒ æ‰¾ä¸åˆ° Lumi çš„ é™¤æœ‰è¶£å‘³ç§‘å­¸èª²ï¼Œè«‹ç¢ºèªèª²ç¨‹æ˜¯å¦å­˜åœ¨","quickReply":false}
2025-08-15 08:12:40  âœ… è¨Šæ¯å›è¦†æˆåŠŸ
2025-08-15 08:12:40  {"ts":"2025-08-15T08:12:40.108Z","lvl":"info","direction":"outbound","channel":"line","traceId":"line_1755245557812_x32jlz","userId":"U599d5c1ce2ad616580cc4bc986d94e01","textOut":"âŒ æ‰¾ä¸åˆ° Lumi çš„ é™¤æœ‰è¶£å‘³ç§‘å­¸èª²ï¼Œè«‹ç¢ºèªèª²ç¨‹æ˜¯å¦å­˜åœ¨","quickReply":false}
2025-08-15 08:12:40  âœ… è¨Šæ¯å›è¦†æˆåŠŸ
2025-08-15 08:12:40  {"ts":"2025-08-15T08:12:40.108Z","lvl":"info","direction":"outbound","channel":"line","traceId":"line_1755245557812_x32jlz","userId":"U599d5c1ce2ad616580cc4bc986d94e01","textOut":"âŒ æ‰¾ä¸åˆ° Lumi çš„ é™¤æœ‰è¶£å‘³ç§‘å­¸èª²ï¼Œè«‹ç¢ºèªèª²ç¨‹æ˜¯å¦å­˜åœ¨","quickReply":false}
2025-08-15 08:12:40  âœ… è¨Šæ¯å›è¦†æˆåŠŸ
2025-08-15 08:12:40  {"ts":"2025-08-15T08:12:40.108Z","lvl":"info","direction":"outbound","channel":"line","traceId":"line_1755245557812_x32jlz","userId":"U599d5c1ce2ad616580cc4bc986d94e01","textOut":"âŒ æ‰¾ä¸åˆ° Lumi çš„ é™¤æœ‰è¶£å‘³ç§‘å­¸èª²ï¼Œè«‹ç¢ºèªèª²ç¨‹æ˜¯å¦å­˜åœ¨","quickReply":false}
2025-08-15 08:12:40  âœ… è¨Šæ¯å›è¦†æˆåŠŸ
2025-08-15 08:12:40  {"ts":"2025-08-15T08:12:40.108Z","lvl":"info","direction":"outbound","channel":"line","traceId":"line_1755245557812_x32jlz","userId":"U599d5c1ce2ad616580cc4bc986d94e01","textOut":"âŒ æ‰¾ä¸åˆ° Lumi çš„ é™¤æœ‰è¶£å‘³ç§‘å­¸èª²ï¼Œè«‹ç¢ºèªèª²ç¨‹æ˜¯å¦å­˜åœ¨","quickReply":false}
2025-08-15 08:12:40  âœ… è¨Šæ¯å›è¦†æˆåŠŸ
2025-08-15 08:12:40  {"ts":"2025-08-15T08:12:40.108Z","lvl":"info","direction":"outbound","channel":"line","traceId":"line_1755245557812_x32jlz","userId":"U599d5c1ce2ad616580cc4bc986d94e01","textOut":"âŒ æ‰¾ä¸åˆ° Lumi çš„ é™¤æœ‰è¶£å‘³ç§‘å­¸èª²ï¼Œè«‹ç¢ºèªèª²ç¨‹æ˜¯å¦å­˜åœ¨","quickReply":false}
2025-08-15 08:12:40  âœ… è¨Šæ¯å›è¦†æˆåŠŸ
2025-08-15 08:12:40  {"ts":"2025-08-15T08:12:40.108Z","lvl":"info","direction":"outbound","channel":"line","traceId":"line_1755245557812_x32jlz","userId":"U599d5c1ce2ad616580cc4bc986d94e01","textOut":"âŒ æ‰¾ä¸åˆ° Lumi çš„ é™¤æœ‰è¶£å‘³ç§‘å­¸èª²ï¼Œè«‹ç¢ºèªèª²ç¨‹æ˜¯å¦å­˜åœ¨","quickReply":false}
2025-08-15 08:12:40  âœ… è¨Šæ¯å›è¦†æˆåŠŸ
2025-08-15 08:12:40  {"ts":"2025-08-15T08:12:40.108Z","lvl":"info","direction":"outbound","channel":"line","traceId":"line_1755245557812_x32jlz","userId":"U599d5c1ce2ad616580cc4bc986d94e01","textOut":"âŒ æ‰¾ä¸åˆ° Lumi çš„ é™¤æœ‰è¶£å‘³ç§‘å­¸èª²ï¼Œè«‹ç¢ºèªèª²ç¨‹æ˜¯å¦å­˜åœ¨","quickReply":false}
2025-08-15 08:12:40  âœ… è¨Šæ¯å›è¦†æˆåŠŸ
2025-08-15 08:12:40  {"ts":"2025-08-15T08:12:40.108Z","lvl":"info","direction":"outbound","channel":"line","traceId":"line_1755245557812_x32jlz","userId":"U599d5c1ce2ad616580cc4bc986d94e01","textOut":"âŒ æ‰¾ä¸åˆ° Lumi çš„ é™¤æœ‰è¶£å‘³ç§‘å­¸èª²ï¼Œè«‹ç¢ºèªèª²ç¨‹æ˜¯å¦å­˜åœ¨","quickReply":false}
2025-08-15 08:12:40  âœ… è¨Šæ¯å›è¦†æˆåŠŸ
2025-08-15 08:12:40  {"ts":"2025-08-15T08:12:40.108Z","lvl":"info","direction":"outbound","channel":"line","traceId":"line_1755245557812_x32jlz","userId":"U599d5c1ce2ad616580cc4bc986d94e01","textOut":"âŒ æ‰¾ä¸åˆ° Lumi çš„ é™¤æœ‰è¶£å‘³ç§‘å­¸èª²ï¼Œè«‹ç¢ºèªèª²ç¨‹æ˜¯å¦å­˜åœ¨","quickReply":false}
2025-08-15 08:12:40  âœ… è¨Šæ¯å›è¦†æˆåŠŸ
2025-08-15 08:12:40  {"ts":"2025-08-15T08:12:40.108Z","lvl":"info","direction":"outbound","channel":"line","traceId":"line_1755245557812_x32jlz","userId":"U599d5c1ce2ad616580cc4bc986d94e01","textOut":"âŒ æ‰¾ä¸åˆ° Lumi çš„ é™¤æœ‰è¶£å‘³ç§‘å­¸èª²ï¼Œè«‹ç¢ºèªèª²ç¨‹æ˜¯å¦å­˜åœ¨","quickReply":false}
2025-08-15 08:12:40  âœ… è¨Šæ¯å›è¦†æˆåŠŸ
2025-08-15 08:12:40  {"ts":"2025-08-15T08:12:40.108Z","lvl":"info","direction":"outbound","channel":"line","traceId":"line_1755245557812_x32jlz","userId":"U599d5c1ce2ad616580cc4bc986d94e01","textOut":"âŒ æ‰¾ä¸åˆ° Lumi çš„ é™¤æœ‰è¶£å‘³ç§‘å­¸èª²ï¼Œè«‹ç¢ºèªèª²ç¨‹æ˜¯å¦å­˜åœ¨","quickReply":false}
2025-08-15 08:12:40  âœ… è¨Šæ¯å›è¦†æˆåŠŸ
2025-08-15 08:12:40  {"ts":"2025-08-15T08:12:40.108Z","lvl":"info","direction":"outbound","channel":"line","traceId":"line_1755245557812_x32jlz","userId":"U599d5c1ce2ad616580cc4bc986d94e01","textOut":"âŒ æ‰¾ä¸åˆ° Lumi çš„ é™¤æœ‰è¶£å‘³ç§‘å­¸èª²ï¼Œè«‹ç¢ºèªèª²ç¨‹æ˜¯å¦å­˜åœ¨","quickReply":false}
2025-08-15 08:12:40  âœ… è¨Šæ¯å›è¦†æˆåŠŸ
2025-08-15 08:12:40  {"ts":"2025-08-15T08:12:40.108Z","lvl":"info","direction":"outbound","channel":"line","traceId":"line_1755245557812_x32jlz","userId":"U599d5c1ce2ad616580cc4bc986d94e01","textOut":"âŒ æ‰¾ä¸åˆ° Lumi çš„ é™¤æœ‰è¶£å‘³ç§‘å­¸èª²ï¼Œè«‹ç¢ºèªèª²ç¨‹æ˜¯å¦å­˜åœ¨","quickReply":false}
2025-08-15 08:12:40  âœ… è¨Šæ¯å›è¦†æˆåŠŸ
2025-08-15 08:12:40  {"ts":"2025-08-15T08:12:40.108Z","lvl":"info","direction":"outbound","channel":"line","traceId":"line_1755245557812_x32jlz","userId":"U599d5c1ce2ad616580cc4bc986d94e01","textOut":"âŒ æ‰¾ä¸åˆ° Lumi çš„ é™¤æœ‰è¶£å‘³ç§‘å­¸èª²ï¼Œè«‹ç¢ºèªèª²ç¨‹æ˜¯å¦å­˜åœ¨","quickReply":false}
2025-08-15 08:12:40  âœ… è¨Šæ¯å›è¦†æˆåŠŸ
2025-08-15 08:12:40  {"ts":"2025-08-15T08:12:40.108Z","lvl":"info","direction":"outbound","channel":"line","traceId":"line_1755245557812_x32jlz","userId":"U599d5c1ce2ad616580cc4bc986d94e01","textOut":"âŒ æ‰¾ä¸åˆ° Lumi çš„ é™¤æœ‰è¶£å‘³ç§‘å­¸èª²ï¼Œè«‹ç¢ºèªèª²ç¨‹æ˜¯å¦å­˜åœ¨","quickReply":false}
2025-08-15 08:12:40  âœ… è¨Šæ¯å›è¦†æˆåŠŸ
2025-08-15 08:12:40  {"ts":"2025-08-15T08:12:40.108Z","lvl":"info","direction":"outbound","channel":"line","traceId":"line_1755245557812_x32jlz","userId":"U599d5c1ce2ad616580cc4bc986d94e01","textOut":"âŒ æ‰¾ä¸åˆ° Lumi çš„ é™¤æœ‰è¶£å‘³ç§‘å­¸èª²ï¼Œè«‹ç¢ºèªèª²ç¨‹æ˜¯å¦å­˜åœ¨","quickReply":false}
2025-08-15 08:12:40  âœ… è¨Šæ¯å›è¦†æˆåŠŸ
2025-08-15 08:12:40  {"ts":"2025-08-15T08:12:40.108Z","lvl":"info","direction":"outbound","channel":"line","traceId":"line_1755245557812_x32jlz","userId":"U599d5c1ce2ad616580cc4bc986d94e01","textOut":"âŒ æ‰¾ä¸åˆ° Lumi çš„ é™¤æœ‰è¶£å‘³ç§‘å­¸èª²ï¼Œè«‹ç¢ºèªèª²ç¨‹æ˜¯å¦å­˜åœ¨","quickReply":false}
2025-08-15 08:12:40  âœ… è¨Šæ¯å›è¦†æˆåŠŸ
2025-08-15 08:12:40  {"ts":"2025-08-15T08:12:40.108Z","lvl":"info","direction":"outbound","channel":"line","traceId":"line_1755245557812_x32jlz","userId":"U599d5c1ce2ad616580cc4bc986d94e01","textOut":"âŒ æ‰¾ä¸åˆ° Lumi çš„ é™¤æœ‰è¶£å‘³ç§‘å­¸èª²ï¼Œè«‹ç¢ºèªèª²ç¨‹æ˜¯å¦å­˜åœ¨","quickReply":false}
2025-08-15 08:12:40  âœ… è¨Šæ¯å›è¦†æˆåŠŸ
2025-08-15 08:12:40  {"ts":"2025-08-15T08:12:40.108Z","lvl":"info","direction":"outbound","channel":"line","traceId":"line_1755245557812_x32jlz","userId":"U599d5c1ce2ad616580cc4bc986d94e01","textOut":"âŒ æ‰¾ä¸åˆ° Lumi çš„ é™¤æœ‰è¶£å‘³ç§‘å­¸èª²ï¼Œè«‹ç¢ºèªèª²ç¨‹æ˜¯å¦å­˜åœ¨","quickReply":false}
2025-08-15 08:12:40  âœ… è¨Šæ¯å›è¦†æˆåŠŸ
2025-08-15 08:12:40  {"ts":"2025-08-15T08:12:40.108Z","lvl":"info","direction":"outbound","channel":"line","traceId":"line_1755245557812_x32jlz","userId":"U599d5c1ce2ad616580cc4bc986d94e01","textOut":"âŒ æ‰¾ä¸åˆ° Lumi çš„ é™¤æœ‰è¶£å‘³ç§‘å­¸èª²ï¼Œè«‹ç¢ºèªèª²ç¨‹æ˜¯å¦å­˜åœ¨","quickReply":false}
2025-08-15 08:12:40  âœ… è¨Šæ¯å›è¦†æˆåŠŸ
2025-08-15 08:12:40  {"ts":"2025-08-15T08:12:40.108Z","lvl":"info","direction":"outbound","channel":"line","traceId":"line_1755245557812_x32jlz","userId":"U599d5c1ce2ad616580cc4bc986d94e01","textOut":"âŒ æ‰¾ä¸åˆ° Lumi çš„ é™¤æœ‰è¶£å‘³ç§‘å­¸èª²ï¼Œè«‹ç¢ºèªèª²ç¨‹æ˜¯å¦å­˜åœ¨","quickReply":false}
2025-08-15 08:12:40  âœ… è¨Šæ¯å›è¦†æˆåŠŸ
2025-08-15 08:12:40  {"ts":"2025-08-15T08:12:40.108Z","lvl":"info","direction":"outbound","channel":"line","traceId":"line_1755245557812_x32jlz","userId":"U599d5c1ce2ad616580cc4bc986d94e01","textOut":"âŒ æ‰¾ä¸åˆ° Lumi çš„ é™¤æœ‰è¶£å‘³ç§‘å­¸èª²ï¼Œè«‹ç¢ºèªèª²ç¨‹æ˜¯å¦å­˜åœ¨","quickReply":false}
