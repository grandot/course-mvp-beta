2025-08-10 21:51:10  📨 收到 1 個事件
2025-08-10 21:51:10  📋 事件類型: message
2025-08-10 21:51:10  🔍 完整事件 JSON: {
2025-08-10 21:51:10    "type": "message",
2025-08-10 21:51:10    "message": {
2025-08-10 21:51:10      "type": "text",
2025-08-10 21:51:10      "text": "小明的數學課什麼時候上？"
2025-08-10 21:51:10    },
2025-08-10 21:51:10    "source": {
2025-08-10 21:51:10      "userId": "U_test_user_qa",
2025-08-10 21:51:10      "type": "user"
2025-08-10 21:51:10    },
2025-08-10 21:51:10    "replyToken": "test-reply-token-1754862670287",
2025-08-10 21:51:10    "timestamp": 1754862670287
2025-08-10 21:51:10  }
2025-08-10 21:51:10  🧹 檢測到 QA 重置上下文請求，清理用戶上下文: U_test_user_qa
2025-08-10 21:51:10  {"ts":"2025-08-10T21:51:10.555Z","lvl":"info","direction":"inbound","channel":"line","traceId":"line_1754862670555_ttyszq","userId":"U_test_user_qa","textIn":"小明的數學課什麼時候上？"}
2025-08-10 21:51:10  🔍 用戶ID類型: string
2025-08-10 21:51:10  🔍 是否測試用戶: true
2025-08-10 21:51:10  🚀 生產用戶，使用真實 LINE Service
2025-08-10 21:51:10  🎯 開始解析意圖: 小明的數學課什麼時候上？ (用戶: U_test_user_qa)
2025-08-10 21:51:10  🤖 啟用 AI 備援識別...
2025-08-10 21:51:11  🤖 AI 識別意圖: query_schedule 信心度: 1
2025-08-10 21:51:11  {"ts":"2025-08-10T21:51:11.567Z","lvl":"info","stage":"nlp","traceId":"line_1754862670555_ttyszq","userId":"U_test_user_qa","intent":"query_schedule"}
2025-08-10 21:51:11  🔍 開始提取 slots - 意圖: query_schedule (用戶: U_test_user_qa)
2025-08-10 21:51:11  🧠 使用對話上下文增強 slots 提取
2025-08-10 21:51:11  📊 規則提取置信度: 0.50
2025-08-10 21:51:11  🤖 啟用 AI 輔助提取...
2025-08-10 21:51:13  🔧 自動修正提取結果: [ '移除無效課程名稱（問句殘片）: 課什麼時候上' ]
2025-08-10 21:51:13  ✅ 最終 slots: { studentName: '小明' }
2025-08-10 21:51:13  {"ts":"2025-08-10T21:51:13.224Z","lvl":"info","stage":"slots","traceId":"line_1754862670555_ttyszq","userId":"U_test_user_qa","intent":"query_schedule","slotsSummary":["studentName"]}
2025-08-10 21:51:13  🎯 執行任務: query_schedule
2025-08-10 21:51:13  🎯 開始處理查詢課表任務
2025-08-10 21:51:13  📋 接收參數: { studentName: '小明' }
2025-08-10 21:51:13  📅 查詢時間範圍: { startDate: '2025-08-10', endDate: '2025-08-16', description: '本週' }
2025-08-10 21:51:13  📚 查詢到 347 筆課程資料
2025-08-10 21:51:13  📚 查詢到 19 筆課程
2025-08-10 21:51:13  📊 任務執行結果: {
2025-08-10 21:51:13    success: true,
2025-08-10 21:51:13    code: 'QUERY_OK',
2025-08-10 21:51:13    message: '📅 小明本週的課程安排\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/9 (週六)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/10 (週日)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午2:00 - 數學課\n' +
2025-08-10 21:51:13      '  下午2:00 - 小明今天有什麼課？\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/11 (週一)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 英文課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午2:00 - 數學課\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/12 (週二)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午7:00 - 游泳課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/13 (週三)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/14 (週四)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/15 (週五)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄',
2025-08-10 21:51:13    data: {
2025-08-10 21:51:13      courses: [
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object]
2025-08-10 21:51:13      ],
2025-08-10 21:51:13      courseCount: 19,
2025-08-10 21:51:13      dateRange: {
2025-08-10 21:51:13        startDate: '2025-08-10',
2025-08-10 21:51:13        endDate: '2025-08-16',
2025-08-10 21:51:13        description: '本週'
2025-08-10 21:51:13      }
2025-08-10 21:51:13    }
2025-08-10 21:51:13  }
2025-08-10 21:51:13  {"ts":"2025-08-10T21:51:13.535Z","lvl":"info","stage":"task","traceId":"line_1754862670555_ttyszq","userId":"U_test_user_qa","intent":"query_schedule","success":true,"code":"QUERY_OK","latencyMs":310}
2025-08-10 21:51:13  🔍 檢查 replyToken: test-reply-token-1754862670287
2025-08-10 21:51:13  🧪 檢測到測試 token，跳過真實 LINE API 調用
2025-08-10 21:51:13  📤 [測試模式] 實際業務回覆: 📅 小明本週的課程安排
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/9 (週六)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  🔧 自動修正提取結果: [ '移除無效課程名稱（問句殘片）: 課什麼時候上' ]
2025-08-10 21:51:13  ✅ 最終 slots: { studentName: '小明' }
2025-08-10 21:51:13  {"ts":"2025-08-10T21:51:13.224Z","lvl":"info","stage":"slots","traceId":"line_1754862670555_ttyszq","userId":"U_test_user_qa","intent":"query_schedule","slotsSummary":["studentName"]}
2025-08-10 21:51:13  🎯 執行任務: query_schedule
2025-08-10 21:51:13  🎯 開始處理查詢課表任務
2025-08-10 21:51:13  📋 接收參數: { studentName: '小明' }
2025-08-10 21:51:13  📅 查詢時間範圍: { startDate: '2025-08-10', endDate: '2025-08-16', description: '本週' }
2025-08-10 21:51:13  📚 查詢到 347 筆課程資料
2025-08-10 21:51:13  📚 查詢到 19 筆課程
2025-08-10 21:51:13  📊 任務執行結果: {
2025-08-10 21:51:13    success: true,
2025-08-10 21:51:13    code: 'QUERY_OK',
2025-08-10 21:51:13    message: '📅 小明本週的課程安排\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/9 (週六)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/10 (週日)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午2:00 - 數學課\n' +
2025-08-10 21:51:13      '  下午2:00 - 小明今天有什麼課？\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/11 (週一)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 英文課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午2:00 - 數學課\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/12 (週二)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午7:00 - 游泳課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/13 (週三)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/14 (週四)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/15 (週五)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄',
2025-08-10 21:51:13    data: {
2025-08-10 21:51:13      courses: [
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object]
2025-08-10 21:51:13      ],
2025-08-10 21:51:13      courseCount: 19,
2025-08-10 21:51:13      dateRange: {
2025-08-10 21:51:13        startDate: '2025-08-10',
2025-08-10 21:51:13        endDate: '2025-08-16',
2025-08-10 21:51:13        description: '本週'
2025-08-10 21:51:13      }
2025-08-10 21:51:13    }
2025-08-10 21:51:13  }
2025-08-10 21:51:13  {"ts":"2025-08-10T21:51:13.535Z","lvl":"info","stage":"task","traceId":"line_1754862670555_ttyszq","userId":"U_test_user_qa","intent":"query_schedule","success":true,"code":"QUERY_OK","latencyMs":310}
2025-08-10 21:51:13  🔍 檢查 replyToken: test-reply-token-1754862670287
2025-08-10 21:51:13  🧪 檢測到測試 token，跳過真實 LINE API 調用
2025-08-10 21:51:13  📤 [測試模式] 實際業務回覆: 📅 小明本週的課程安排
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/9 (週六)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/10 (週日)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午2:00 - 數學課
2025-08-10 21:51:13    下午2:00 - 小明今天有什麼課？
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/11 (週一)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 英文課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午2:00 - 數學課
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/12 (週二)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午7:00 - 游泳課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/13 (週三)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/14 (週四)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/15 (週五)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13  🔧 自動修正提取結果: [ '移除無效課程名稱（問句殘片）: 課什麼時候上' ]
2025-08-10 21:51:13  ✅ 最終 slots: { studentName: '小明' }
2025-08-10 21:51:13  {"ts":"2025-08-10T21:51:13.224Z","lvl":"info","stage":"slots","traceId":"line_1754862670555_ttyszq","userId":"U_test_user_qa","intent":"query_schedule","slotsSummary":["studentName"]}
2025-08-10 21:51:13  🎯 執行任務: query_schedule
2025-08-10 21:51:13  🎯 開始處理查詢課表任務
2025-08-10 21:51:13  📋 接收參數: { studentName: '小明' }
2025-08-10 21:51:13  📅 查詢時間範圍: { startDate: '2025-08-10', endDate: '2025-08-16', description: '本週' }
2025-08-10 21:51:13  📚 查詢到 347 筆課程資料
2025-08-10 21:51:13  📚 查詢到 19 筆課程
2025-08-10 21:51:13  📊 任務執行結果: {
2025-08-10 21:51:13    success: true,
2025-08-10 21:51:13    code: 'QUERY_OK',
2025-08-10 21:51:13    message: '📅 小明本週的課程安排\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/9 (週六)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/10 (週日)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午2:00 - 數學課\n' +
2025-08-10 21:51:13      '  下午2:00 - 小明今天有什麼課？\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/11 (週一)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 英文課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午2:00 - 數學課\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/12 (週二)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午7:00 - 游泳課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/13 (週三)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/14 (週四)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/15 (週五)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄',
2025-08-10 21:51:13    data: {
2025-08-10 21:51:13      courses: [
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object]
2025-08-10 21:51:13      ],
2025-08-10 21:51:13      courseCount: 19,
2025-08-10 21:51:13      dateRange: {
2025-08-10 21:51:13        startDate: '2025-08-10',
2025-08-10 21:51:13        endDate: '2025-08-16',
2025-08-10 21:51:13        description: '本週'
2025-08-10 21:51:13      }
2025-08-10 21:51:13    }
2025-08-10 21:51:13  }
2025-08-10 21:51:13  {"ts":"2025-08-10T21:51:13.535Z","lvl":"info","stage":"task","traceId":"line_1754862670555_ttyszq","userId":"U_test_user_qa","intent":"query_schedule","success":true,"code":"QUERY_OK","latencyMs":310}
2025-08-10 21:51:13  🔍 檢查 replyToken: test-reply-token-1754862670287
2025-08-10 21:51:13  🧪 檢測到測試 token，跳過真實 LINE API 調用
2025-08-10 21:51:13  📤 [測試模式] 實際業務回覆: 📅 小明本週的課程安排
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/9 (週六)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/10 (週日)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午2:00 - 數學課
2025-08-10 21:51:13    下午2:00 - 小明今天有什麼課？
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/11 (週一)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 英文課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午2:00 - 數學課
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/12 (週二)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午7:00 - 游泳課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/13 (週三)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/14 (週四)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/15 (週五)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13  🔧 自動修正提取結果: [ '移除無效課程名稱（問句殘片）: 課什麼時候上' ]
2025-08-10 21:51:13  ✅ 最終 slots: { studentName: '小明' }
2025-08-10 21:51:13  {"ts":"2025-08-10T21:51:13.224Z","lvl":"info","stage":"slots","traceId":"line_1754862670555_ttyszq","userId":"U_test_user_qa","intent":"query_schedule","slotsSummary":["studentName"]}
2025-08-10 21:51:13  🎯 執行任務: query_schedule
2025-08-10 21:51:13  🎯 開始處理查詢課表任務
2025-08-10 21:51:13  📋 接收參數: { studentName: '小明' }
2025-08-10 21:51:13  📅 查詢時間範圍: { startDate: '2025-08-10', endDate: '2025-08-16', description: '本週' }
2025-08-10 21:51:13  📚 查詢到 347 筆課程資料
2025-08-10 21:51:13  📚 查詢到 19 筆課程
2025-08-10 21:51:13  📊 任務執行結果: {
2025-08-10 21:51:13    success: true,
2025-08-10 21:51:13    code: 'QUERY_OK',
2025-08-10 21:51:13    message: '📅 小明本週的課程安排\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/9 (週六)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/10 (週日)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午2:00 - 數學課\n' +
2025-08-10 21:51:13      '  下午2:00 - 小明今天有什麼課？\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/11 (週一)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 英文課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午2:00 - 數學課\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/12 (週二)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午7:00 - 游泳課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/13 (週三)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/14 (週四)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/15 (週五)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄',
2025-08-10 21:51:13    data: {
2025-08-10 21:51:13      courses: [
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object]
2025-08-10 21:51:13      ],
2025-08-10 21:51:13      courseCount: 19,
2025-08-10 21:51:13      dateRange: {
2025-08-10 21:51:13        startDate: '2025-08-10',
2025-08-10 21:51:13        endDate: '2025-08-16',
2025-08-10 21:51:13        description: '本週'
2025-08-10 21:51:13      }
2025-08-10 21:51:13    }
2025-08-10 21:51:13  }
2025-08-10 21:51:13  {"ts":"2025-08-10T21:51:13.535Z","lvl":"info","stage":"task","traceId":"line_1754862670555_ttyszq","userId":"U_test_user_qa","intent":"query_schedule","success":true,"code":"QUERY_OK","latencyMs":310}
2025-08-10 21:51:13  🔍 檢查 replyToken: test-reply-token-1754862670287
2025-08-10 21:51:13  🧪 檢測到測試 token，跳過真實 LINE API 調用
2025-08-10 21:51:13  📤 [測試模式] 實際業務回覆: 📅 小明本週的課程安排
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/9 (週六)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/10 (週日)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午2:00 - 數學課
2025-08-10 21:51:13    下午2:00 - 小明今天有什麼課？
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/11 (週一)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 英文課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午2:00 - 數學課
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/12 (週二)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午7:00 - 游泳課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/13 (週三)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/14 (週四)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/15 (週五)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13  🔧 自動修正提取結果: [ '移除無效課程名稱（問句殘片）: 課什麼時候上' ]
2025-08-10 21:51:13  ✅ 最終 slots: { studentName: '小明' }
2025-08-10 21:51:13  {"ts":"2025-08-10T21:51:13.224Z","lvl":"info","stage":"slots","traceId":"line_1754862670555_ttyszq","userId":"U_test_user_qa","intent":"query_schedule","slotsSummary":["studentName"]}
2025-08-10 21:51:13  🎯 執行任務: query_schedule
2025-08-10 21:51:13  🎯 開始處理查詢課表任務
2025-08-10 21:51:13  📋 接收參數: { studentName: '小明' }
2025-08-10 21:51:13  📅 查詢時間範圍: { startDate: '2025-08-10', endDate: '2025-08-16', description: '本週' }
2025-08-10 21:51:13  📚 查詢到 347 筆課程資料
2025-08-10 21:51:13  📚 查詢到 19 筆課程
2025-08-10 21:51:13  📊 任務執行結果: {
2025-08-10 21:51:13    success: true,
2025-08-10 21:51:13    code: 'QUERY_OK',
2025-08-10 21:51:13    message: '📅 小明本週的課程安排\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/9 (週六)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/10 (週日)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午2:00 - 數學課\n' +
2025-08-10 21:51:13      '  下午2:00 - 小明今天有什麼課？\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/11 (週一)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 英文課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午2:00 - 數學課\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/12 (週二)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午7:00 - 游泳課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/13 (週三)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/14 (週四)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/15 (週五)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄',
2025-08-10 21:51:13    data: {
2025-08-10 21:51:13      courses: [
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object]
2025-08-10 21:51:13      ],
2025-08-10 21:51:13      courseCount: 19,
2025-08-10 21:51:13      dateRange: {
2025-08-10 21:51:13        startDate: '2025-08-10',
2025-08-10 21:51:13        endDate: '2025-08-16',
2025-08-10 21:51:13        description: '本週'
2025-08-10 21:51:13      }
2025-08-10 21:51:13    }
2025-08-10 21:51:13  }
2025-08-10 21:51:13  {"ts":"2025-08-10T21:51:13.535Z","lvl":"info","stage":"task","traceId":"line_1754862670555_ttyszq","userId":"U_test_user_qa","intent":"query_schedule","success":true,"code":"QUERY_OK","latencyMs":310}
2025-08-10 21:51:13  🔍 檢查 replyToken: test-reply-token-1754862670287
2025-08-10 21:51:13  🧪 檢測到測試 token，跳過真實 LINE API 調用
2025-08-10 21:51:13  📤 [測試模式] 實際業務回覆: 📅 小明本週的課程安排
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/9 (週六)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/10 (週日)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午2:00 - 數學課
2025-08-10 21:51:13    下午2:00 - 小明今天有什麼課？
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/11 (週一)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 英文課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午2:00 - 數學課
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/12 (週二)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午7:00 - 游泳課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/13 (週三)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/14 (週四)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/15 (週五)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13  🔧 自動修正提取結果: [ '移除無效課程名稱（問句殘片）: 課什麼時候上' ]
2025-08-10 21:51:13  ✅ 最終 slots: { studentName: '小明' }
2025-08-10 21:51:13  {"ts":"2025-08-10T21:51:13.224Z","lvl":"info","stage":"slots","traceId":"line_1754862670555_ttyszq","userId":"U_test_user_qa","intent":"query_schedule","slotsSummary":["studentName"]}
2025-08-10 21:51:13  🎯 執行任務: query_schedule
2025-08-10 21:51:13  🎯 開始處理查詢課表任務
2025-08-10 21:51:13  📋 接收參數: { studentName: '小明' }
2025-08-10 21:51:13  📅 查詢時間範圍: { startDate: '2025-08-10', endDate: '2025-08-16', description: '本週' }
2025-08-10 21:51:13  📚 查詢到 347 筆課程資料
2025-08-10 21:51:13  📚 查詢到 19 筆課程
2025-08-10 21:51:13  📊 任務執行結果: {
2025-08-10 21:51:13    success: true,
2025-08-10 21:51:13    code: 'QUERY_OK',
2025-08-10 21:51:13    message: '📅 小明本週的課程安排\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/9 (週六)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/10 (週日)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午2:00 - 數學課\n' +
2025-08-10 21:51:13      '  下午2:00 - 小明今天有什麼課？\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/11 (週一)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 英文課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午2:00 - 數學課\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/12 (週二)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午7:00 - 游泳課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/13 (週三)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/14 (週四)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/15 (週五)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄',
2025-08-10 21:51:13    data: {
2025-08-10 21:51:13      courses: [
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object]
2025-08-10 21:51:13      ],
2025-08-10 21:51:13      courseCount: 19,
2025-08-10 21:51:13      dateRange: {
2025-08-10 21:51:13        startDate: '2025-08-10',
2025-08-10 21:51:13        endDate: '2025-08-16',
2025-08-10 21:51:13        description: '本週'
2025-08-10 21:51:13      }
2025-08-10 21:51:13    }
2025-08-10 21:51:13  }
2025-08-10 21:51:13  {"ts":"2025-08-10T21:51:13.535Z","lvl":"info","stage":"task","traceId":"line_1754862670555_ttyszq","userId":"U_test_user_qa","intent":"query_schedule","success":true,"code":"QUERY_OK","latencyMs":310}
2025-08-10 21:51:13  🔍 檢查 replyToken: test-reply-token-1754862670287
2025-08-10 21:51:13  🧪 檢測到測試 token，跳過真實 LINE API 調用
2025-08-10 21:51:13  📤 [測試模式] 實際業務回覆: 📅 小明本週的課程安排
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/9 (週六)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/10 (週日)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午2:00 - 數學課
2025-08-10 21:51:13    下午2:00 - 小明今天有什麼課？
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/11 (週一)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 英文課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午2:00 - 數學課
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/12 (週二)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午7:00 - 游泳課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/13 (週三)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/14 (週四)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/15 (週五)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13  🔧 自動修正提取結果: [ '移除無效課程名稱（問句殘片）: 課什麼時候上' ]
2025-08-10 21:51:13  ✅ 最終 slots: { studentName: '小明' }
2025-08-10 21:51:13  {"ts":"2025-08-10T21:51:13.224Z","lvl":"info","stage":"slots","traceId":"line_1754862670555_ttyszq","userId":"U_test_user_qa","intent":"query_schedule","slotsSummary":["studentName"]}
2025-08-10 21:51:13  🎯 執行任務: query_schedule
2025-08-10 21:51:13  🎯 開始處理查詢課表任務
2025-08-10 21:51:13  📋 接收參數: { studentName: '小明' }
2025-08-10 21:51:13  📅 查詢時間範圍: { startDate: '2025-08-10', endDate: '2025-08-16', description: '本週' }
2025-08-10 21:51:13  📚 查詢到 347 筆課程資料
2025-08-10 21:51:13  📚 查詢到 19 筆課程
2025-08-10 21:51:13  📊 任務執行結果: {
2025-08-10 21:51:13    success: true,
2025-08-10 21:51:13    code: 'QUERY_OK',
2025-08-10 21:51:13    message: '📅 小明本週的課程安排\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/9 (週六)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/10 (週日)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午2:00 - 數學課\n' +
2025-08-10 21:51:13      '  下午2:00 - 小明今天有什麼課？\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/11 (週一)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 英文課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午2:00 - 數學課\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/12 (週二)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午7:00 - 游泳課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/13 (週三)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/14 (週四)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/15 (週五)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄',
2025-08-10 21:51:13    data: {
2025-08-10 21:51:13      courses: [
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object]
2025-08-10 21:51:13      ],
2025-08-10 21:51:13      courseCount: 19,
2025-08-10 21:51:13      dateRange: {
2025-08-10 21:51:13        startDate: '2025-08-10',
2025-08-10 21:51:13        endDate: '2025-08-16',
2025-08-10 21:51:13        description: '本週'
2025-08-10 21:51:13      }
2025-08-10 21:51:13    }
2025-08-10 21:51:13  }
2025-08-10 21:51:13  {"ts":"2025-08-10T21:51:13.535Z","lvl":"info","stage":"task","traceId":"line_1754862670555_ttyszq","userId":"U_test_user_qa","intent":"query_schedule","success":true,"code":"QUERY_OK","latencyMs":310}
2025-08-10 21:51:13  🔍 檢查 replyToken: test-reply-token-1754862670287
2025-08-10 21:51:13  🧪 檢測到測試 token，跳過真實 LINE API 調用
2025-08-10 21:51:13  📤 [測試模式] 實際業務回覆: 📅 小明本週的課程安排
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/9 (週六)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/10 (週日)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午2:00 - 數學課
2025-08-10 21:51:13    下午2:00 - 小明今天有什麼課？
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/11 (週一)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 英文課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午2:00 - 數學課
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/12 (週二)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午7:00 - 游泳課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/13 (週三)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/14 (週四)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/15 (週五)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13  🔧 自動修正提取結果: [ '移除無效課程名稱（問句殘片）: 課什麼時候上' ]
2025-08-10 21:51:13  ✅ 最終 slots: { studentName: '小明' }
2025-08-10 21:51:13  {"ts":"2025-08-10T21:51:13.224Z","lvl":"info","stage":"slots","traceId":"line_1754862670555_ttyszq","userId":"U_test_user_qa","intent":"query_schedule","slotsSummary":["studentName"]}
2025-08-10 21:51:13  🎯 執行任務: query_schedule
2025-08-10 21:51:13  🎯 開始處理查詢課表任務
2025-08-10 21:51:13  📋 接收參數: { studentName: '小明' }
2025-08-10 21:51:13  📅 查詢時間範圍: { startDate: '2025-08-10', endDate: '2025-08-16', description: '本週' }
2025-08-10 21:51:13  📚 查詢到 347 筆課程資料
2025-08-10 21:51:13  📚 查詢到 19 筆課程
2025-08-10 21:51:13  📊 任務執行結果: {
2025-08-10 21:51:13    success: true,
2025-08-10 21:51:13    code: 'QUERY_OK',
2025-08-10 21:51:13    message: '📅 小明本週的課程安排\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/9 (週六)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/10 (週日)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午2:00 - 數學課\n' +
2025-08-10 21:51:13      '  下午2:00 - 小明今天有什麼課？\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/11 (週一)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 英文課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午2:00 - 數學課\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/12 (週二)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午7:00 - 游泳課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/13 (週三)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/14 (週四)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/15 (週五)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄',
2025-08-10 21:51:13    data: {
2025-08-10 21:51:13      courses: [
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object]
2025-08-10 21:51:13      ],
2025-08-10 21:51:13      courseCount: 19,
2025-08-10 21:51:13      dateRange: {
2025-08-10 21:51:13        startDate: '2025-08-10',
2025-08-10 21:51:13        endDate: '2025-08-16',
2025-08-10 21:51:13        description: '本週'
2025-08-10 21:51:13      }
2025-08-10 21:51:13    }
2025-08-10 21:51:13  }
2025-08-10 21:51:13  {"ts":"2025-08-10T21:51:13.535Z","lvl":"info","stage":"task","traceId":"line_1754862670555_ttyszq","userId":"U_test_user_qa","intent":"query_schedule","success":true,"code":"QUERY_OK","latencyMs":310}
2025-08-10 21:51:13  🔍 檢查 replyToken: test-reply-token-1754862670287
2025-08-10 21:51:13  🧪 檢測到測試 token，跳過真實 LINE API 調用
2025-08-10 21:51:13  📤 [測試模式] 實際業務回覆: 📅 小明本週的課程安排
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/9 (週六)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/10 (週日)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午2:00 - 數學課
2025-08-10 21:51:13    下午2:00 - 小明今天有什麼課？
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/11 (週一)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 英文課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午2:00 - 數學課
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/12 (週二)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午7:00 - 游泳課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/13 (週三)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/14 (週四)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/15 (週五)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13  🔧 自動修正提取結果: [ '移除無效課程名稱（問句殘片）: 課什麼時候上' ]
2025-08-10 21:51:13  ✅ 最終 slots: { studentName: '小明' }
2025-08-10 21:51:13  {"ts":"2025-08-10T21:51:13.224Z","lvl":"info","stage":"slots","traceId":"line_1754862670555_ttyszq","userId":"U_test_user_qa","intent":"query_schedule","slotsSummary":["studentName"]}
2025-08-10 21:51:13  🎯 執行任務: query_schedule
2025-08-10 21:51:13  🎯 開始處理查詢課表任務
2025-08-10 21:51:13  📋 接收參數: { studentName: '小明' }
2025-08-10 21:51:13  📅 查詢時間範圍: { startDate: '2025-08-10', endDate: '2025-08-16', description: '本週' }
2025-08-10 21:51:13  📚 查詢到 347 筆課程資料
2025-08-10 21:51:13  📚 查詢到 19 筆課程
2025-08-10 21:51:13  📊 任務執行結果: {
2025-08-10 21:51:13    success: true,
2025-08-10 21:51:13    code: 'QUERY_OK',
2025-08-10 21:51:13    message: '📅 小明本週的課程安排\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/9 (週六)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/10 (週日)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午2:00 - 數學課\n' +
2025-08-10 21:51:13      '  下午2:00 - 小明今天有什麼課？\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/11 (週一)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 英文課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午2:00 - 數學課\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/12 (週二)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午7:00 - 游泳課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/13 (週三)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/14 (週四)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/15 (週五)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄',
2025-08-10 21:51:13    data: {
2025-08-10 21:51:13      courses: [
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object]
2025-08-10 21:51:13      ],
2025-08-10 21:51:13      courseCount: 19,
2025-08-10 21:51:13      dateRange: {
2025-08-10 21:51:13        startDate: '2025-08-10',
2025-08-10 21:51:13        endDate: '2025-08-16',
2025-08-10 21:51:13        description: '本週'
2025-08-10 21:51:13      }
2025-08-10 21:51:13    }
2025-08-10 21:51:13  }
2025-08-10 21:51:13  {"ts":"2025-08-10T21:51:13.535Z","lvl":"info","stage":"task","traceId":"line_1754862670555_ttyszq","userId":"U_test_user_qa","intent":"query_schedule","success":true,"code":"QUERY_OK","latencyMs":310}
2025-08-10 21:51:13  🔍 檢查 replyToken: test-reply-token-1754862670287
2025-08-10 21:51:13  🧪 檢測到測試 token，跳過真實 LINE API 調用
2025-08-10 21:51:13  📤 [測試模式] 實際業務回覆: 📅 小明本週的課程安排
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/9 (週六)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/10 (週日)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午2:00 - 數學課
2025-08-10 21:51:13    下午2:00 - 小明今天有什麼課？
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/11 (週一)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 英文課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午2:00 - 數學課
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/12 (週二)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午7:00 - 游泳課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/13 (週三)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/14 (週四)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/15 (週五)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13  🔧 自動修正提取結果: [ '移除無效課程名稱（問句殘片）: 課什麼時候上' ]
2025-08-10 21:51:13  ✅ 最終 slots: { studentName: '小明' }
2025-08-10 21:51:13  {"ts":"2025-08-10T21:51:13.224Z","lvl":"info","stage":"slots","traceId":"line_1754862670555_ttyszq","userId":"U_test_user_qa","intent":"query_schedule","slotsSummary":["studentName"]}
2025-08-10 21:51:13  🎯 執行任務: query_schedule
2025-08-10 21:51:13  🎯 開始處理查詢課表任務
2025-08-10 21:51:13  📋 接收參數: { studentName: '小明' }
2025-08-10 21:51:13  📅 查詢時間範圍: { startDate: '2025-08-10', endDate: '2025-08-16', description: '本週' }
2025-08-10 21:51:13  📚 查詢到 347 筆課程資料
2025-08-10 21:51:13  📚 查詢到 19 筆課程
2025-08-10 21:51:13  📊 任務執行結果: {
2025-08-10 21:51:13    success: true,
2025-08-10 21:51:13    code: 'QUERY_OK',
2025-08-10 21:51:13    message: '📅 小明本週的課程安排\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/9 (週六)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/10 (週日)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午2:00 - 數學課\n' +
2025-08-10 21:51:13      '  下午2:00 - 小明今天有什麼課？\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/11 (週一)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 英文課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午2:00 - 數學課\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/12 (週二)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午7:00 - 游泳課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/13 (週三)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/14 (週四)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/15 (週五)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄',
2025-08-10 21:51:13    data: {
2025-08-10 21:51:13      courses: [
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object]
2025-08-10 21:51:13      ],
2025-08-10 21:51:13      courseCount: 19,
2025-08-10 21:51:13      dateRange: {
2025-08-10 21:51:13        startDate: '2025-08-10',
2025-08-10 21:51:13        endDate: '2025-08-16',
2025-08-10 21:51:13        description: '本週'
2025-08-10 21:51:13      }
2025-08-10 21:51:13    }
2025-08-10 21:51:13  }
2025-08-10 21:51:13  {"ts":"2025-08-10T21:51:13.535Z","lvl":"info","stage":"task","traceId":"line_1754862670555_ttyszq","userId":"U_test_user_qa","intent":"query_schedule","success":true,"code":"QUERY_OK","latencyMs":310}
2025-08-10 21:51:13  🔍 檢查 replyToken: test-reply-token-1754862670287
2025-08-10 21:51:13  🧪 檢測到測試 token，跳過真實 LINE API 調用
2025-08-10 21:51:13  📤 [測試模式] 實際業務回覆: 📅 小明本週的課程安排
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/9 (週六)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/10 (週日)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午2:00 - 數學課
2025-08-10 21:51:13    下午2:00 - 小明今天有什麼課？
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/11 (週一)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 英文課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午2:00 - 數學課
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/12 (週二)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午7:00 - 游泳課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/13 (週三)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/14 (週四)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/15 (週五)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13  🔧 自動修正提取結果: [ '移除無效課程名稱（問句殘片）: 課什麼時候上' ]
2025-08-10 21:51:13  ✅ 最終 slots: { studentName: '小明' }
2025-08-10 21:51:13  {"ts":"2025-08-10T21:51:13.224Z","lvl":"info","stage":"slots","traceId":"line_1754862670555_ttyszq","userId":"U_test_user_qa","intent":"query_schedule","slotsSummary":["studentName"]}
2025-08-10 21:51:13  🎯 執行任務: query_schedule
2025-08-10 21:51:13  🎯 開始處理查詢課表任務
2025-08-10 21:51:13  📋 接收參數: { studentName: '小明' }
2025-08-10 21:51:13  📅 查詢時間範圍: { startDate: '2025-08-10', endDate: '2025-08-16', description: '本週' }
2025-08-10 21:51:13  📚 查詢到 347 筆課程資料
2025-08-10 21:51:13  📚 查詢到 19 筆課程
2025-08-10 21:51:13  📊 任務執行結果: {
2025-08-10 21:51:13    success: true,
2025-08-10 21:51:13    code: 'QUERY_OK',
2025-08-10 21:51:13    message: '📅 小明本週的課程安排\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/9 (週六)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/10 (週日)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午2:00 - 數學課\n' +
2025-08-10 21:51:13      '  下午2:00 - 小明今天有什麼課？\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/11 (週一)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 英文課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午2:00 - 數學課\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/12 (週二)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午7:00 - 游泳課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/13 (週三)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/14 (週四)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/15 (週五)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄',
2025-08-10 21:51:13    data: {
2025-08-10 21:51:13      courses: [
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object]
2025-08-10 21:51:13      ],
2025-08-10 21:51:13      courseCount: 19,
2025-08-10 21:51:13      dateRange: {
2025-08-10 21:51:13        startDate: '2025-08-10',
2025-08-10 21:51:13        endDate: '2025-08-16',
2025-08-10 21:51:13        description: '本週'
2025-08-10 21:51:13      }
2025-08-10 21:51:13    }
2025-08-10 21:51:13  }
2025-08-10 21:51:13  {"ts":"2025-08-10T21:51:13.535Z","lvl":"info","stage":"task","traceId":"line_1754862670555_ttyszq","userId":"U_test_user_qa","intent":"query_schedule","success":true,"code":"QUERY_OK","latencyMs":310}
2025-08-10 21:51:13  🔍 檢查 replyToken: test-reply-token-1754862670287
2025-08-10 21:51:13  🧪 檢測到測試 token，跳過真實 LINE API 調用
2025-08-10 21:51:13  📤 [測試模式] 實際業務回覆: 📅 小明本週的課程安排
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/9 (週六)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/10 (週日)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午2:00 - 數學課
2025-08-10 21:51:13    下午2:00 - 小明今天有什麼課？
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/11 (週一)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 英文課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午2:00 - 數學課
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/12 (週二)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午7:00 - 游泳課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/13 (週三)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/14 (週四)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/15 (週五)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13  🔧 自動修正提取結果: [ '移除無效課程名稱（問句殘片）: 課什麼時候上' ]
2025-08-10 21:51:13  ✅ 最終 slots: { studentName: '小明' }
2025-08-10 21:51:13  {"ts":"2025-08-10T21:51:13.224Z","lvl":"info","stage":"slots","traceId":"line_1754862670555_ttyszq","userId":"U_test_user_qa","intent":"query_schedule","slotsSummary":["studentName"]}
2025-08-10 21:51:13  🎯 執行任務: query_schedule
2025-08-10 21:51:13  🎯 開始處理查詢課表任務
2025-08-10 21:51:13  📋 接收參數: { studentName: '小明' }
2025-08-10 21:51:13  📅 查詢時間範圍: { startDate: '2025-08-10', endDate: '2025-08-16', description: '本週' }
2025-08-10 21:51:13  📚 查詢到 347 筆課程資料
2025-08-10 21:51:13  📚 查詢到 19 筆課程
2025-08-10 21:51:13  📊 任務執行結果: {
2025-08-10 21:51:13    success: true,
2025-08-10 21:51:13    code: 'QUERY_OK',
2025-08-10 21:51:13    message: '📅 小明本週的課程安排\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/9 (週六)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/10 (週日)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午2:00 - 數學課\n' +
2025-08-10 21:51:13      '  下午2:00 - 小明今天有什麼課？\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/11 (週一)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 英文課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午2:00 - 數學課\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/12 (週二)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午7:00 - 游泳課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/13 (週三)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/14 (週四)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/15 (週五)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄',
2025-08-10 21:51:13    data: {
2025-08-10 21:51:13      courses: [
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object]
2025-08-10 21:51:13      ],
2025-08-10 21:51:13      courseCount: 19,
2025-08-10 21:51:13      dateRange: {
2025-08-10 21:51:13        startDate: '2025-08-10',
2025-08-10 21:51:13        endDate: '2025-08-16',
2025-08-10 21:51:13        description: '本週'
2025-08-10 21:51:13      }
2025-08-10 21:51:13    }
2025-08-10 21:51:13  }
2025-08-10 21:51:13  {"ts":"2025-08-10T21:51:13.535Z","lvl":"info","stage":"task","traceId":"line_1754862670555_ttyszq","userId":"U_test_user_qa","intent":"query_schedule","success":true,"code":"QUERY_OK","latencyMs":310}
2025-08-10 21:51:13  🔍 檢查 replyToken: test-reply-token-1754862670287
2025-08-10 21:51:13  🧪 檢測到測試 token，跳過真實 LINE API 調用
2025-08-10 21:51:13  📤 [測試模式] 實際業務回覆: 📅 小明本週的課程安排
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/9 (週六)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/10 (週日)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午2:00 - 數學課
2025-08-10 21:51:13    下午2:00 - 小明今天有什麼課？
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/11 (週一)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 英文課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午2:00 - 數學課
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/12 (週二)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午7:00 - 游泳課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/13 (週三)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/14 (週四)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/15 (週五)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13  🔧 自動修正提取結果: [ '移除無效課程名稱（問句殘片）: 課什麼時候上' ]
2025-08-10 21:51:13  ✅ 最終 slots: { studentName: '小明' }
2025-08-10 21:51:13  {"ts":"2025-08-10T21:51:13.224Z","lvl":"info","stage":"slots","traceId":"line_1754862670555_ttyszq","userId":"U_test_user_qa","intent":"query_schedule","slotsSummary":["studentName"]}
2025-08-10 21:51:13  🎯 執行任務: query_schedule
2025-08-10 21:51:13  🎯 開始處理查詢課表任務
2025-08-10 21:51:13  📋 接收參數: { studentName: '小明' }
2025-08-10 21:51:13  📅 查詢時間範圍: { startDate: '2025-08-10', endDate: '2025-08-16', description: '本週' }
2025-08-10 21:51:13  📚 查詢到 347 筆課程資料
2025-08-10 21:51:13  📚 查詢到 19 筆課程
2025-08-10 21:51:13  📊 任務執行結果: {
2025-08-10 21:51:13    success: true,
2025-08-10 21:51:13    code: 'QUERY_OK',
2025-08-10 21:51:13    message: '📅 小明本週的課程安排\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/9 (週六)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/10 (週日)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午2:00 - 數學課\n' +
2025-08-10 21:51:13      '  下午2:00 - 小明今天有什麼課？\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/11 (週一)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 英文課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午2:00 - 數學課\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/12 (週二)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午7:00 - 游泳課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/13 (週三)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/14 (週四)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/15 (週五)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄',
2025-08-10 21:51:13    data: {
2025-08-10 21:51:13      courses: [
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object]
2025-08-10 21:51:13      ],
2025-08-10 21:51:13      courseCount: 19,
2025-08-10 21:51:13      dateRange: {
2025-08-10 21:51:13        startDate: '2025-08-10',
2025-08-10 21:51:13        endDate: '2025-08-16',
2025-08-10 21:51:13        description: '本週'
2025-08-10 21:51:13      }
2025-08-10 21:51:13    }
2025-08-10 21:51:13  }
2025-08-10 21:51:13  {"ts":"2025-08-10T21:51:13.535Z","lvl":"info","stage":"task","traceId":"line_1754862670555_ttyszq","userId":"U_test_user_qa","intent":"query_schedule","success":true,"code":"QUERY_OK","latencyMs":310}
2025-08-10 21:51:13  🔍 檢查 replyToken: test-reply-token-1754862670287
2025-08-10 21:51:13  🧪 檢測到測試 token，跳過真實 LINE API 調用
2025-08-10 21:51:13  📤 [測試模式] 實際業務回覆: 📅 小明本週的課程安排
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/9 (週六)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/10 (週日)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午2:00 - 數學課
2025-08-10 21:51:13    下午2:00 - 小明今天有什麼課？
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/11 (週一)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 英文課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午2:00 - 數學課
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/12 (週二)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午7:00 - 游泳課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/13 (週三)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/14 (週四)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/15 (週五)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13  🔧 自動修正提取結果: [ '移除無效課程名稱（問句殘片）: 課什麼時候上' ]
2025-08-10 21:51:13  ✅ 最終 slots: { studentName: '小明' }
2025-08-10 21:51:13  {"ts":"2025-08-10T21:51:13.224Z","lvl":"info","stage":"slots","traceId":"line_1754862670555_ttyszq","userId":"U_test_user_qa","intent":"query_schedule","slotsSummary":["studentName"]}
2025-08-10 21:51:13  🎯 執行任務: query_schedule
2025-08-10 21:51:13  🎯 開始處理查詢課表任務
2025-08-10 21:51:13  📋 接收參數: { studentName: '小明' }
2025-08-10 21:51:13  📅 查詢時間範圍: { startDate: '2025-08-10', endDate: '2025-08-16', description: '本週' }
2025-08-10 21:51:13  📚 查詢到 347 筆課程資料
2025-08-10 21:51:13  📚 查詢到 19 筆課程
2025-08-10 21:51:13  📊 任務執行結果: {
2025-08-10 21:51:13    success: true,
2025-08-10 21:51:13    code: 'QUERY_OK',
2025-08-10 21:51:13    message: '📅 小明本週的課程安排\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/9 (週六)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/10 (週日)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午2:00 - 數學課\n' +
2025-08-10 21:51:13      '  下午2:00 - 小明今天有什麼課？\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/11 (週一)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 英文課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午2:00 - 數學課\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/12 (週二)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午7:00 - 游泳課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/13 (週三)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/14 (週四)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/15 (週五)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄',
2025-08-10 21:51:13    data: {
2025-08-10 21:51:13      courses: [
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object]
2025-08-10 21:51:13      ],
2025-08-10 21:51:13      courseCount: 19,
2025-08-10 21:51:13      dateRange: {
2025-08-10 21:51:13        startDate: '2025-08-10',
2025-08-10 21:51:13        endDate: '2025-08-16',
2025-08-10 21:51:13        description: '本週'
2025-08-10 21:51:13      }
2025-08-10 21:51:13    }
2025-08-10 21:51:13  }
2025-08-10 21:51:13  {"ts":"2025-08-10T21:51:13.535Z","lvl":"info","stage":"task","traceId":"line_1754862670555_ttyszq","userId":"U_test_user_qa","intent":"query_schedule","success":true,"code":"QUERY_OK","latencyMs":310}
2025-08-10 21:51:13  🔍 檢查 replyToken: test-reply-token-1754862670287
2025-08-10 21:51:13  🧪 檢測到測試 token，跳過真實 LINE API 調用
2025-08-10 21:51:13  📤 [測試模式] 實際業務回覆: 📅 小明本週的課程安排
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/9 (週六)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/10 (週日)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午2:00 - 數學課
2025-08-10 21:51:13    下午2:00 - 小明今天有什麼課？
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/11 (週一)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 英文課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午2:00 - 數學課
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/12 (週二)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午7:00 - 游泳課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/13 (週三)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/14 (週四)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/15 (週五)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13  🔧 自動修正提取結果: [ '移除無效課程名稱（問句殘片）: 課什麼時候上' ]
2025-08-10 21:51:13  ✅ 最終 slots: { studentName: '小明' }
2025-08-10 21:51:13  {"ts":"2025-08-10T21:51:13.224Z","lvl":"info","stage":"slots","traceId":"line_1754862670555_ttyszq","userId":"U_test_user_qa","intent":"query_schedule","slotsSummary":["studentName"]}
2025-08-10 21:51:13  🎯 執行任務: query_schedule
2025-08-10 21:51:13  🎯 開始處理查詢課表任務
2025-08-10 21:51:13  📋 接收參數: { studentName: '小明' }
2025-08-10 21:51:13  📅 查詢時間範圍: { startDate: '2025-08-10', endDate: '2025-08-16', description: '本週' }
2025-08-10 21:51:13  📚 查詢到 347 筆課程資料
2025-08-10 21:51:13  📚 查詢到 19 筆課程
2025-08-10 21:51:13  📊 任務執行結果: {
2025-08-10 21:51:13    success: true,
2025-08-10 21:51:13    code: 'QUERY_OK',
2025-08-10 21:51:13    message: '📅 小明本週的課程安排\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/9 (週六)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/10 (週日)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午2:00 - 數學課\n' +
2025-08-10 21:51:13      '  下午2:00 - 小明今天有什麼課？\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/11 (週一)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 英文課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午2:00 - 數學課\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/12 (週二)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午7:00 - 游泳課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/13 (週三)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/14 (週四)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/15 (週五)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄',
2025-08-10 21:51:13    data: {
2025-08-10 21:51:13      courses: [
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object]
2025-08-10 21:51:13      ],
2025-08-10 21:51:13      courseCount: 19,
2025-08-10 21:51:13      dateRange: {
2025-08-10 21:51:13        startDate: '2025-08-10',
2025-08-10 21:51:13        endDate: '2025-08-16',
2025-08-10 21:51:13        description: '本週'
2025-08-10 21:51:13      }
2025-08-10 21:51:13    }
2025-08-10 21:51:13  }
2025-08-10 21:51:13  {"ts":"2025-08-10T21:51:13.535Z","lvl":"info","stage":"task","traceId":"line_1754862670555_ttyszq","userId":"U_test_user_qa","intent":"query_schedule","success":true,"code":"QUERY_OK","latencyMs":310}
2025-08-10 21:51:13  🔍 檢查 replyToken: test-reply-token-1754862670287
2025-08-10 21:51:13  🧪 檢測到測試 token，跳過真實 LINE API 調用
2025-08-10 21:51:13  📤 [測試模式] 實際業務回覆: 📅 小明本週的課程安排
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/9 (週六)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/10 (週日)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午2:00 - 數學課
2025-08-10 21:51:13    下午2:00 - 小明今天有什麼課？
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/11 (週一)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 英文課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午2:00 - 數學課
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/12 (週二)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午7:00 - 游泳課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/13 (週三)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/14 (週四)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/15 (週五)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13  🔧 自動修正提取結果: [ '移除無效課程名稱（問句殘片）: 課什麼時候上' ]
2025-08-10 21:51:13  ✅ 最終 slots: { studentName: '小明' }
2025-08-10 21:51:13  {"ts":"2025-08-10T21:51:13.224Z","lvl":"info","stage":"slots","traceId":"line_1754862670555_ttyszq","userId":"U_test_user_qa","intent":"query_schedule","slotsSummary":["studentName"]}
2025-08-10 21:51:13  🎯 執行任務: query_schedule
2025-08-10 21:51:13  🎯 開始處理查詢課表任務
2025-08-10 21:51:13  📋 接收參數: { studentName: '小明' }
2025-08-10 21:51:13  📅 查詢時間範圍: { startDate: '2025-08-10', endDate: '2025-08-16', description: '本週' }
2025-08-10 21:51:13  📚 查詢到 347 筆課程資料
2025-08-10 21:51:13  📚 查詢到 19 筆課程
2025-08-10 21:51:13  📊 任務執行結果: {
2025-08-10 21:51:13    success: true,
2025-08-10 21:51:13    code: 'QUERY_OK',
2025-08-10 21:51:13    message: '📅 小明本週的課程安排\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/9 (週六)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/10 (週日)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午2:00 - 數學課\n' +
2025-08-10 21:51:13      '  下午2:00 - 小明今天有什麼課？\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/11 (週一)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 英文課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午2:00 - 數學課\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/12 (週二)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午7:00 - 游泳課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/13 (週三)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/14 (週四)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/15 (週五)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄',
2025-08-10 21:51:13    data: {
2025-08-10 21:51:13      courses: [
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object]
2025-08-10 21:51:13      ],
2025-08-10 21:51:13      courseCount: 19,
2025-08-10 21:51:13      dateRange: {
2025-08-10 21:51:13        startDate: '2025-08-10',
2025-08-10 21:51:13        endDate: '2025-08-16',
2025-08-10 21:51:13        description: '本週'
2025-08-10 21:51:13      }
2025-08-10 21:51:13    }
2025-08-10 21:51:13  }
2025-08-10 21:51:13  {"ts":"2025-08-10T21:51:13.535Z","lvl":"info","stage":"task","traceId":"line_1754862670555_ttyszq","userId":"U_test_user_qa","intent":"query_schedule","success":true,"code":"QUERY_OK","latencyMs":310}
2025-08-10 21:51:13  🔍 檢查 replyToken: test-reply-token-1754862670287
2025-08-10 21:51:13  🧪 檢測到測試 token，跳過真實 LINE API 調用
2025-08-10 21:51:13  📤 [測試模式] 實際業務回覆: 📅 小明本週的課程安排
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/9 (週六)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/10 (週日)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午2:00 - 數學課
2025-08-10 21:51:13    下午2:00 - 小明今天有什麼課？
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/11 (週一)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 英文課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午2:00 - 數學課
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/12 (週二)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午7:00 - 游泳課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/13 (週三)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/14 (週四)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/15 (週五)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13  🔧 自動修正提取結果: [ '移除無效課程名稱（問句殘片）: 課什麼時候上' ]
2025-08-10 21:51:13  ✅ 最終 slots: { studentName: '小明' }
2025-08-10 21:51:13  {"ts":"2025-08-10T21:51:13.224Z","lvl":"info","stage":"slots","traceId":"line_1754862670555_ttyszq","userId":"U_test_user_qa","intent":"query_schedule","slotsSummary":["studentName"]}
2025-08-10 21:51:13  🎯 執行任務: query_schedule
2025-08-10 21:51:13  🎯 開始處理查詢課表任務
2025-08-10 21:51:13  📋 接收參數: { studentName: '小明' }
2025-08-10 21:51:13  📅 查詢時間範圍: { startDate: '2025-08-10', endDate: '2025-08-16', description: '本週' }
2025-08-10 21:51:13  📚 查詢到 347 筆課程資料
2025-08-10 21:51:13  📚 查詢到 19 筆課程
2025-08-10 21:51:13  📊 任務執行結果: {
2025-08-10 21:51:13    success: true,
2025-08-10 21:51:13    code: 'QUERY_OK',
2025-08-10 21:51:13    message: '📅 小明本週的課程安排\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/9 (週六)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/10 (週日)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午2:00 - 數學課\n' +
2025-08-10 21:51:13      '  下午2:00 - 小明今天有什麼課？\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/11 (週一)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 英文課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午2:00 - 數學課\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/12 (週二)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午7:00 - 游泳課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/13 (週三)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/14 (週四)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/15 (週五)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄',
2025-08-10 21:51:13    data: {
2025-08-10 21:51:13      courses: [
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object]
2025-08-10 21:51:13      ],
2025-08-10 21:51:13      courseCount: 19,
2025-08-10 21:51:13      dateRange: {
2025-08-10 21:51:13        startDate: '2025-08-10',
2025-08-10 21:51:13        endDate: '2025-08-16',
2025-08-10 21:51:13        description: '本週'
2025-08-10 21:51:13      }
2025-08-10 21:51:13    }
2025-08-10 21:51:13  }
2025-08-10 21:51:13  {"ts":"2025-08-10T21:51:13.535Z","lvl":"info","stage":"task","traceId":"line_1754862670555_ttyszq","userId":"U_test_user_qa","intent":"query_schedule","success":true,"code":"QUERY_OK","latencyMs":310}
2025-08-10 21:51:13  🔍 檢查 replyToken: test-reply-token-1754862670287
2025-08-10 21:51:13  🧪 檢測到測試 token，跳過真實 LINE API 調用
2025-08-10 21:51:13  📤 [測試模式] 實際業務回覆: 📅 小明本週的課程安排
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/9 (週六)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/10 (週日)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午2:00 - 數學課
2025-08-10 21:51:13    下午2:00 - 小明今天有什麼課？
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/11 (週一)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 英文課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午2:00 - 數學課
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/12 (週二)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午7:00 - 游泳課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/13 (週三)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/14 (週四)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/15 (週五)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13  🔧 自動修正提取結果: [ '移除無效課程名稱（問句殘片）: 課什麼時候上' ]
2025-08-10 21:51:13  ✅ 最終 slots: { studentName: '小明' }
2025-08-10 21:51:13  {"ts":"2025-08-10T21:51:13.224Z","lvl":"info","stage":"slots","traceId":"line_1754862670555_ttyszq","userId":"U_test_user_qa","intent":"query_schedule","slotsSummary":["studentName"]}
2025-08-10 21:51:13  🎯 執行任務: query_schedule
2025-08-10 21:51:13  🎯 開始處理查詢課表任務
2025-08-10 21:51:13  📋 接收參數: { studentName: '小明' }
2025-08-10 21:51:13  📅 查詢時間範圍: { startDate: '2025-08-10', endDate: '2025-08-16', description: '本週' }
2025-08-10 21:51:13  📚 查詢到 347 筆課程資料
2025-08-10 21:51:13  📚 查詢到 19 筆課程
2025-08-10 21:51:13  📊 任務執行結果: {
2025-08-10 21:51:13    success: true,
2025-08-10 21:51:13    code: 'QUERY_OK',
2025-08-10 21:51:13    message: '📅 小明本週的課程安排\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/9 (週六)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/10 (週日)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午2:00 - 數學課\n' +
2025-08-10 21:51:13      '  下午2:00 - 小明今天有什麼課？\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/11 (週一)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 英文課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午2:00 - 數學課\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/12 (週二)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午7:00 - 游泳課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/13 (週三)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/14 (週四)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/15 (週五)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄',
2025-08-10 21:51:13    data: {
2025-08-10 21:51:13      courses: [
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object]
2025-08-10 21:51:13      ],
2025-08-10 21:51:13      courseCount: 19,
2025-08-10 21:51:13      dateRange: {
2025-08-10 21:51:13        startDate: '2025-08-10',
2025-08-10 21:51:13        endDate: '2025-08-16',
2025-08-10 21:51:13        description: '本週'
2025-08-10 21:51:13      }
2025-08-10 21:51:13    }
2025-08-10 21:51:13  }
2025-08-10 21:51:13  {"ts":"2025-08-10T21:51:13.535Z","lvl":"info","stage":"task","traceId":"line_1754862670555_ttyszq","userId":"U_test_user_qa","intent":"query_schedule","success":true,"code":"QUERY_OK","latencyMs":310}
2025-08-10 21:51:13  🔍 檢查 replyToken: test-reply-token-1754862670287
2025-08-10 21:51:13  🧪 檢測到測試 token，跳過真實 LINE API 調用
2025-08-10 21:51:13  📤 [測試模式] 實際業務回覆: 📅 小明本週的課程安排
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/9 (週六)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/10 (週日)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午2:00 - 數學課
2025-08-10 21:51:13    下午2:00 - 小明今天有什麼課？
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/11 (週一)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 英文課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午2:00 - 數學課
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/12 (週二)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午7:00 - 游泳課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/13 (週三)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/14 (週四)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/15 (週五)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13  🔧 自動修正提取結果: [ '移除無效課程名稱（問句殘片）: 課什麼時候上' ]
2025-08-10 21:51:13  ✅ 最終 slots: { studentName: '小明' }
2025-08-10 21:51:13  {"ts":"2025-08-10T21:51:13.224Z","lvl":"info","stage":"slots","traceId":"line_1754862670555_ttyszq","userId":"U_test_user_qa","intent":"query_schedule","slotsSummary":["studentName"]}
2025-08-10 21:51:13  🎯 執行任務: query_schedule
2025-08-10 21:51:13  🎯 開始處理查詢課表任務
2025-08-10 21:51:13  📋 接收參數: { studentName: '小明' }
2025-08-10 21:51:13  📅 查詢時間範圍: { startDate: '2025-08-10', endDate: '2025-08-16', description: '本週' }
2025-08-10 21:51:13  📚 查詢到 347 筆課程資料
2025-08-10 21:51:13  📚 查詢到 19 筆課程
2025-08-10 21:51:13  📊 任務執行結果: {
2025-08-10 21:51:13    success: true,
2025-08-10 21:51:13    code: 'QUERY_OK',
2025-08-10 21:51:13    message: '📅 小明本週的課程安排\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/9 (週六)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/10 (週日)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午2:00 - 數學課\n' +
2025-08-10 21:51:13      '  下午2:00 - 小明今天有什麼課？\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/11 (週一)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 英文課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午2:00 - 數學課\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/12 (週二)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午7:00 - 游泳課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/13 (週三)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/14 (週四)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/15 (週五)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄',
2025-08-10 21:51:13    data: {
2025-08-10 21:51:13      courses: [
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object]
2025-08-10 21:51:13      ],
2025-08-10 21:51:13      courseCount: 19,
2025-08-10 21:51:13      dateRange: {
2025-08-10 21:51:13        startDate: '2025-08-10',
2025-08-10 21:51:13        endDate: '2025-08-16',
2025-08-10 21:51:13        description: '本週'
2025-08-10 21:51:13      }
2025-08-10 21:51:13    }
2025-08-10 21:51:13  }
2025-08-10 21:51:13  {"ts":"2025-08-10T21:51:13.535Z","lvl":"info","stage":"task","traceId":"line_1754862670555_ttyszq","userId":"U_test_user_qa","intent":"query_schedule","success":true,"code":"QUERY_OK","latencyMs":310}
2025-08-10 21:51:13  🔍 檢查 replyToken: test-reply-token-1754862670287
2025-08-10 21:51:13  🧪 檢測到測試 token，跳過真實 LINE API 調用
2025-08-10 21:51:13  📤 [測試模式] 實際業務回覆: 📅 小明本週的課程安排
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/9 (週六)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/10 (週日)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午2:00 - 數學課
2025-08-10 21:51:13    下午2:00 - 小明今天有什麼課？
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/11 (週一)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 英文課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午2:00 - 數學課
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/12 (週二)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午7:00 - 游泳課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/13 (週三)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/14 (週四)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/15 (週五)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13  🔧 自動修正提取結果: [ '移除無效課程名稱（問句殘片）: 課什麼時候上' ]
2025-08-10 21:51:13  ✅ 最終 slots: { studentName: '小明' }
2025-08-10 21:51:13  {"ts":"2025-08-10T21:51:13.224Z","lvl":"info","stage":"slots","traceId":"line_1754862670555_ttyszq","userId":"U_test_user_qa","intent":"query_schedule","slotsSummary":["studentName"]}
2025-08-10 21:51:13  🎯 執行任務: query_schedule
2025-08-10 21:51:13  🎯 開始處理查詢課表任務
2025-08-10 21:51:13  📋 接收參數: { studentName: '小明' }
2025-08-10 21:51:13  📅 查詢時間範圍: { startDate: '2025-08-10', endDate: '2025-08-16', description: '本週' }
2025-08-10 21:51:13  📚 查詢到 347 筆課程資料
2025-08-10 21:51:13  📚 查詢到 19 筆課程
2025-08-10 21:51:13  📊 任務執行結果: {
2025-08-10 21:51:13    success: true,
2025-08-10 21:51:13    code: 'QUERY_OK',
2025-08-10 21:51:13    message: '📅 小明本週的課程安排\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/9 (週六)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/10 (週日)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午2:00 - 數學課\n' +
2025-08-10 21:51:13      '  下午2:00 - 小明今天有什麼課？\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/11 (週一)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 英文課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午2:00 - 數學課\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/12 (週二)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午7:00 - 游泳課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/13 (週三)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/14 (週四)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/15 (週五)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄',
2025-08-10 21:51:13    data: {
2025-08-10 21:51:13      courses: [
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object]
2025-08-10 21:51:13      ],
2025-08-10 21:51:13      courseCount: 19,
2025-08-10 21:51:13      dateRange: {
2025-08-10 21:51:13        startDate: '2025-08-10',
2025-08-10 21:51:13        endDate: '2025-08-16',
2025-08-10 21:51:13        description: '本週'
2025-08-10 21:51:13      }
2025-08-10 21:51:13    }
2025-08-10 21:51:13  }
2025-08-10 21:51:13  {"ts":"2025-08-10T21:51:13.535Z","lvl":"info","stage":"task","traceId":"line_1754862670555_ttyszq","userId":"U_test_user_qa","intent":"query_schedule","success":true,"code":"QUERY_OK","latencyMs":310}
2025-08-10 21:51:13  🔍 檢查 replyToken: test-reply-token-1754862670287
2025-08-10 21:51:13  🧪 檢測到測試 token，跳過真實 LINE API 調用
2025-08-10 21:51:13  📤 [測試模式] 實際業務回覆: 📅 小明本週的課程安排
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/9 (週六)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/10 (週日)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午2:00 - 數學課
2025-08-10 21:51:13    下午2:00 - 小明今天有什麼課？
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/11 (週一)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 英文課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午2:00 - 數學課
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/12 (週二)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午7:00 - 游泳課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/13 (週三)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/14 (週四)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/15 (週五)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13  🔧 自動修正提取結果: [ '移除無效課程名稱（問句殘片）: 課什麼時候上' ]
2025-08-10 21:51:13  ✅ 最終 slots: { studentName: '小明' }
2025-08-10 21:51:13  {"ts":"2025-08-10T21:51:13.224Z","lvl":"info","stage":"slots","traceId":"line_1754862670555_ttyszq","userId":"U_test_user_qa","intent":"query_schedule","slotsSummary":["studentName"]}
2025-08-10 21:51:13  🎯 執行任務: query_schedule
2025-08-10 21:51:13  🎯 開始處理查詢課表任務
2025-08-10 21:51:13  📋 接收參數: { studentName: '小明' }
2025-08-10 21:51:13  📅 查詢時間範圍: { startDate: '2025-08-10', endDate: '2025-08-16', description: '本週' }
2025-08-10 21:51:13  📚 查詢到 347 筆課程資料
2025-08-10 21:51:13  📚 查詢到 19 筆課程
2025-08-10 21:51:13  📊 任務執行結果: {
2025-08-10 21:51:13    success: true,
2025-08-10 21:51:13    code: 'QUERY_OK',
2025-08-10 21:51:13    message: '📅 小明本週的課程安排\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/9 (週六)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/10 (週日)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午2:00 - 數學課\n' +
2025-08-10 21:51:13      '  下午2:00 - 小明今天有什麼課？\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/11 (週一)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 英文課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午2:00 - 數學課\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/12 (週二)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午7:00 - 游泳課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/13 (週三)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/14 (週四)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/15 (週五)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄',
2025-08-10 21:51:13    data: {
2025-08-10 21:51:13      courses: [
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object]
2025-08-10 21:51:13      ],
2025-08-10 21:51:13      courseCount: 19,
2025-08-10 21:51:13      dateRange: {
2025-08-10 21:51:13        startDate: '2025-08-10',
2025-08-10 21:51:13        endDate: '2025-08-16',
2025-08-10 21:51:13        description: '本週'
2025-08-10 21:51:13      }
2025-08-10 21:51:13    }
2025-08-10 21:51:13  }
2025-08-10 21:51:13  {"ts":"2025-08-10T21:51:13.535Z","lvl":"info","stage":"task","traceId":"line_1754862670555_ttyszq","userId":"U_test_user_qa","intent":"query_schedule","success":true,"code":"QUERY_OK","latencyMs":310}
2025-08-10 21:51:13  🔍 檢查 replyToken: test-reply-token-1754862670287
2025-08-10 21:51:13  🧪 檢測到測試 token，跳過真實 LINE API 調用
2025-08-10 21:51:13  📤 [測試模式] 實際業務回覆: 📅 小明本週的課程安排
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/9 (週六)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/10 (週日)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午2:00 - 數學課
2025-08-10 21:51:13    下午2:00 - 小明今天有什麼課？
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/11 (週一)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 英文課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午2:00 - 數學課
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/12 (週二)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午7:00 - 游泳課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/13 (週三)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/14 (週四)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/15 (週五)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13  🔧 自動修正提取結果: [ '移除無效課程名稱（問句殘片）: 課什麼時候上' ]
2025-08-10 21:51:13  ✅ 最終 slots: { studentName: '小明' }
2025-08-10 21:51:13  {"ts":"2025-08-10T21:51:13.224Z","lvl":"info","stage":"slots","traceId":"line_1754862670555_ttyszq","userId":"U_test_user_qa","intent":"query_schedule","slotsSummary":["studentName"]}
2025-08-10 21:51:13  🎯 執行任務: query_schedule
2025-08-10 21:51:13  🎯 開始處理查詢課表任務
2025-08-10 21:51:13  📋 接收參數: { studentName: '小明' }
2025-08-10 21:51:13  📅 查詢時間範圍: { startDate: '2025-08-10', endDate: '2025-08-16', description: '本週' }
2025-08-10 21:51:13  📚 查詢到 347 筆課程資料
2025-08-10 21:51:13  📚 查詢到 19 筆課程
2025-08-10 21:51:13  📊 任務執行結果: {
2025-08-10 21:51:13    success: true,
2025-08-10 21:51:13    code: 'QUERY_OK',
2025-08-10 21:51:13    message: '📅 小明本週的課程安排\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/9 (週六)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/10 (週日)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午2:00 - 數學課\n' +
2025-08-10 21:51:13      '  下午2:00 - 小明今天有什麼課？\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/11 (週一)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 英文課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午2:00 - 數學課\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/12 (週二)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午7:00 - 游泳課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/13 (週三)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/14 (週四)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/15 (週五)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄',
2025-08-10 21:51:13    data: {
2025-08-10 21:51:13      courses: [
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object]
2025-08-10 21:51:13      ],
2025-08-10 21:51:13      courseCount: 19,
2025-08-10 21:51:13      dateRange: {
2025-08-10 21:51:13        startDate: '2025-08-10',
2025-08-10 21:51:13        endDate: '2025-08-16',
2025-08-10 21:51:13        description: '本週'
2025-08-10 21:51:13      }
2025-08-10 21:51:13    }
2025-08-10 21:51:13  }
2025-08-10 21:51:13  {"ts":"2025-08-10T21:51:13.535Z","lvl":"info","stage":"task","traceId":"line_1754862670555_ttyszq","userId":"U_test_user_qa","intent":"query_schedule","success":true,"code":"QUERY_OK","latencyMs":310}
2025-08-10 21:51:13  🔍 檢查 replyToken: test-reply-token-1754862670287
2025-08-10 21:51:13  🧪 檢測到測試 token，跳過真實 LINE API 調用
2025-08-10 21:51:13  📤 [測試模式] 實際業務回覆: 📅 小明本週的課程安排
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/9 (週六)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/10 (週日)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午2:00 - 數學課
2025-08-10 21:51:13    下午2:00 - 小明今天有什麼課？
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/11 (週一)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 英文課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午2:00 - 數學課
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/12 (週二)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午7:00 - 游泳課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/13 (週三)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/14 (週四)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/15 (週五)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13  🔧 自動修正提取結果: [ '移除無效課程名稱（問句殘片）: 課什麼時候上' ]
2025-08-10 21:51:13  ✅ 最終 slots: { studentName: '小明' }
2025-08-10 21:51:13  {"ts":"2025-08-10T21:51:13.224Z","lvl":"info","stage":"slots","traceId":"line_1754862670555_ttyszq","userId":"U_test_user_qa","intent":"query_schedule","slotsSummary":["studentName"]}
2025-08-10 21:51:13  🎯 執行任務: query_schedule
2025-08-10 21:51:13  🎯 開始處理查詢課表任務
2025-08-10 21:51:13  📋 接收參數: { studentName: '小明' }
2025-08-10 21:51:13  📅 查詢時間範圍: { startDate: '2025-08-10', endDate: '2025-08-16', description: '本週' }
2025-08-10 21:51:13  📚 查詢到 347 筆課程資料
2025-08-10 21:51:13  📚 查詢到 19 筆課程
2025-08-10 21:51:13  📊 任務執行結果: {
2025-08-10 21:51:13    success: true,
2025-08-10 21:51:13    code: 'QUERY_OK',
2025-08-10 21:51:13    message: '📅 小明本週的課程安排\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/9 (週六)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/10 (週日)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午2:00 - 數學課\n' +
2025-08-10 21:51:13      '  下午2:00 - 小明今天有什麼課？\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/11 (週一)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 英文課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午2:00 - 數學課\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/12 (週二)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午7:00 - 游泳課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/13 (週三)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/14 (週四)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/15 (週五)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄',
2025-08-10 21:51:13    data: {
2025-08-10 21:51:13      courses: [
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object]
2025-08-10 21:51:13      ],
2025-08-10 21:51:13      courseCount: 19,
2025-08-10 21:51:13      dateRange: {
2025-08-10 21:51:13        startDate: '2025-08-10',
2025-08-10 21:51:13        endDate: '2025-08-16',
2025-08-10 21:51:13        description: '本週'
2025-08-10 21:51:13      }
2025-08-10 21:51:13    }
2025-08-10 21:51:13  }
2025-08-10 21:51:13  {"ts":"2025-08-10T21:51:13.535Z","lvl":"info","stage":"task","traceId":"line_1754862670555_ttyszq","userId":"U_test_user_qa","intent":"query_schedule","success":true,"code":"QUERY_OK","latencyMs":310}
2025-08-10 21:51:13  🔍 檢查 replyToken: test-reply-token-1754862670287
2025-08-10 21:51:13  🧪 檢測到測試 token，跳過真實 LINE API 調用
2025-08-10 21:51:13  📤 [測試模式] 實際業務回覆: 📅 小明本週的課程安排
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/9 (週六)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/10 (週日)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午2:00 - 數學課
2025-08-10 21:51:13    下午2:00 - 小明今天有什麼課？
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/11 (週一)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 英文課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午2:00 - 數學課
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/12 (週二)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午7:00 - 游泳課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/13 (週三)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/14 (週四)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/15 (週五)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13  🔧 自動修正提取結果: [ '移除無效課程名稱（問句殘片）: 課什麼時候上' ]
2025-08-10 21:51:13  ✅ 最終 slots: { studentName: '小明' }
2025-08-10 21:51:13  {"ts":"2025-08-10T21:51:13.224Z","lvl":"info","stage":"slots","traceId":"line_1754862670555_ttyszq","userId":"U_test_user_qa","intent":"query_schedule","slotsSummary":["studentName"]}
2025-08-10 21:51:13  🎯 執行任務: query_schedule
2025-08-10 21:51:13  🎯 開始處理查詢課表任務
2025-08-10 21:51:13  📋 接收參數: { studentName: '小明' }
2025-08-10 21:51:13  📅 查詢時間範圍: { startDate: '2025-08-10', endDate: '2025-08-16', description: '本週' }
2025-08-10 21:51:13  📚 查詢到 347 筆課程資料
2025-08-10 21:51:13  📚 查詢到 19 筆課程
2025-08-10 21:51:13  📊 任務執行結果: {
2025-08-10 21:51:13    success: true,
2025-08-10 21:51:13    code: 'QUERY_OK',
2025-08-10 21:51:13    message: '📅 小明本週的課程安排\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/9 (週六)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/10 (週日)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午2:00 - 數學課\n' +
2025-08-10 21:51:13      '  下午2:00 - 小明今天有什麼課？\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/11 (週一)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 英文課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午2:00 - 數學課\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/12 (週二)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午7:00 - 游泳課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/13 (週三)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/14 (週四)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/15 (週五)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄',
2025-08-10 21:51:13    data: {
2025-08-10 21:51:13      courses: [
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object]
2025-08-10 21:51:13      ],
2025-08-10 21:51:13      courseCount: 19,
2025-08-10 21:51:13      dateRange: {
2025-08-10 21:51:13        startDate: '2025-08-10',
2025-08-10 21:51:13        endDate: '2025-08-16',
2025-08-10 21:51:13        description: '本週'
2025-08-10 21:51:13      }
2025-08-10 21:51:13    }
2025-08-10 21:51:13  }
2025-08-10 21:51:13  {"ts":"2025-08-10T21:51:13.535Z","lvl":"info","stage":"task","traceId":"line_1754862670555_ttyszq","userId":"U_test_user_qa","intent":"query_schedule","success":true,"code":"QUERY_OK","latencyMs":310}
2025-08-10 21:51:13  🔍 檢查 replyToken: test-reply-token-1754862670287
2025-08-10 21:51:13  🧪 檢測到測試 token，跳過真實 LINE API 調用
2025-08-10 21:51:13  📤 [測試模式] 實際業務回覆: 📅 小明本週的課程安排
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/9 (週六)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/10 (週日)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午2:00 - 數學課
2025-08-10 21:51:13    下午2:00 - 小明今天有什麼課？
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/11 (週一)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 英文課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午2:00 - 數學課
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/12 (週二)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午7:00 - 游泳課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/13 (週三)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/14 (週四)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/15 (週五)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13  🔧 自動修正提取結果: [ '移除無效課程名稱（問句殘片）: 課什麼時候上' ]
2025-08-10 21:51:13  ✅ 最終 slots: { studentName: '小明' }
2025-08-10 21:51:13  {"ts":"2025-08-10T21:51:13.224Z","lvl":"info","stage":"slots","traceId":"line_1754862670555_ttyszq","userId":"U_test_user_qa","intent":"query_schedule","slotsSummary":["studentName"]}
2025-08-10 21:51:13  🎯 執行任務: query_schedule
2025-08-10 21:51:13  🎯 開始處理查詢課表任務
2025-08-10 21:51:13  📋 接收參數: { studentName: '小明' }
2025-08-10 21:51:13  📅 查詢時間範圍: { startDate: '2025-08-10', endDate: '2025-08-16', description: '本週' }
2025-08-10 21:51:13  📚 查詢到 347 筆課程資料
2025-08-10 21:51:13  📚 查詢到 19 筆課程
2025-08-10 21:51:13  📊 任務執行結果: {
2025-08-10 21:51:13    success: true,
2025-08-10 21:51:13    code: 'QUERY_OK',
2025-08-10 21:51:13    message: '📅 小明本週的課程安排\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/9 (週六)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/10 (週日)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午2:00 - 數學課\n' +
2025-08-10 21:51:13      '  下午2:00 - 小明今天有什麼課？\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/11 (週一)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 英文課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午2:00 - 數學課\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/12 (週二)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午7:00 - 游泳課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/13 (週三)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/14 (週四)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/15 (週五)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄',
2025-08-10 21:51:13    data: {
2025-08-10 21:51:13      courses: [
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object]
2025-08-10 21:51:13      ],
2025-08-10 21:51:13      courseCount: 19,
2025-08-10 21:51:13      dateRange: {
2025-08-10 21:51:13        startDate: '2025-08-10',
2025-08-10 21:51:13        endDate: '2025-08-16',
2025-08-10 21:51:13        description: '本週'
2025-08-10 21:51:13      }
2025-08-10 21:51:13    }
2025-08-10 21:51:13  }
2025-08-10 21:51:13  {"ts":"2025-08-10T21:51:13.535Z","lvl":"info","stage":"task","traceId":"line_1754862670555_ttyszq","userId":"U_test_user_qa","intent":"query_schedule","success":true,"code":"QUERY_OK","latencyMs":310}
2025-08-10 21:51:13  🔍 檢查 replyToken: test-reply-token-1754862670287
2025-08-10 21:51:13  🧪 檢測到測試 token，跳過真實 LINE API 調用
2025-08-10 21:51:13  📤 [測試模式] 實際業務回覆: 📅 小明本週的課程安排
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/9 (週六)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/10 (週日)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午2:00 - 數學課
2025-08-10 21:51:13    下午2:00 - 小明今天有什麼課？
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/11 (週一)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 英文課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午2:00 - 數學課
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/12 (週二)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午7:00 - 游泳課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/13 (週三)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/14 (週四)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/15 (週五)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13  🔧 自動修正提取結果: [ '移除無效課程名稱（問句殘片）: 課什麼時候上' ]
2025-08-10 21:51:13  ✅ 最終 slots: { studentName: '小明' }
2025-08-10 21:51:13  {"ts":"2025-08-10T21:51:13.224Z","lvl":"info","stage":"slots","traceId":"line_1754862670555_ttyszq","userId":"U_test_user_qa","intent":"query_schedule","slotsSummary":["studentName"]}
2025-08-10 21:51:13  🎯 執行任務: query_schedule
2025-08-10 21:51:13  🎯 開始處理查詢課表任務
2025-08-10 21:51:13  📋 接收參數: { studentName: '小明' }
2025-08-10 21:51:13  📅 查詢時間範圍: { startDate: '2025-08-10', endDate: '2025-08-16', description: '本週' }
2025-08-10 21:51:13  📚 查詢到 347 筆課程資料
2025-08-10 21:51:13  📚 查詢到 19 筆課程
2025-08-10 21:51:13  📊 任務執行結果: {
2025-08-10 21:51:13    success: true,
2025-08-10 21:51:13    code: 'QUERY_OK',
2025-08-10 21:51:13    message: '📅 小明本週的課程安排\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/9 (週六)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/10 (週日)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午2:00 - 數學課\n' +
2025-08-10 21:51:13      '  下午2:00 - 小明今天有什麼課？\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/11 (週一)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 英文課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午2:00 - 數學課\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/12 (週二)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午7:00 - 游泳課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/13 (週三)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/14 (週四)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/15 (週五)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄',
2025-08-10 21:51:13    data: {
2025-08-10 21:51:13      courses: [
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object]
2025-08-10 21:51:13      ],
2025-08-10 21:51:13      courseCount: 19,
2025-08-10 21:51:13      dateRange: {
2025-08-10 21:51:13        startDate: '2025-08-10',
2025-08-10 21:51:13        endDate: '2025-08-16',
2025-08-10 21:51:13        description: '本週'
2025-08-10 21:51:13      }
2025-08-10 21:51:13    }
2025-08-10 21:51:13  }
2025-08-10 21:51:13  {"ts":"2025-08-10T21:51:13.535Z","lvl":"info","stage":"task","traceId":"line_1754862670555_ttyszq","userId":"U_test_user_qa","intent":"query_schedule","success":true,"code":"QUERY_OK","latencyMs":310}
2025-08-10 21:51:13  🔍 檢查 replyToken: test-reply-token-1754862670287
2025-08-10 21:51:13  🧪 檢測到測試 token，跳過真實 LINE API 調用
2025-08-10 21:51:13  📤 [測試模式] 實際業務回覆: 📅 小明本週的課程安排
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/9 (週六)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/10 (週日)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午2:00 - 數學課
2025-08-10 21:51:13    下午2:00 - 小明今天有什麼課？
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/11 (週一)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 英文課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午2:00 - 數學課
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/12 (週二)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午7:00 - 游泳課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/13 (週三)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/14 (週四)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/15 (週五)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13  🔧 自動修正提取結果: [ '移除無效課程名稱（問句殘片）: 課什麼時候上' ]
2025-08-10 21:51:13  ✅ 最終 slots: { studentName: '小明' }
2025-08-10 21:51:13  {"ts":"2025-08-10T21:51:13.224Z","lvl":"info","stage":"slots","traceId":"line_1754862670555_ttyszq","userId":"U_test_user_qa","intent":"query_schedule","slotsSummary":["studentName"]}
2025-08-10 21:51:13  🎯 執行任務: query_schedule
2025-08-10 21:51:13  🎯 開始處理查詢課表任務
2025-08-10 21:51:13  📋 接收參數: { studentName: '小明' }
2025-08-10 21:51:13  📅 查詢時間範圍: { startDate: '2025-08-10', endDate: '2025-08-16', description: '本週' }
2025-08-10 21:51:13  📚 查詢到 347 筆課程資料
2025-08-10 21:51:13  📚 查詢到 19 筆課程
2025-08-10 21:51:13  📊 任務執行結果: {
2025-08-10 21:51:13    success: true,
2025-08-10 21:51:13    code: 'QUERY_OK',
2025-08-10 21:51:13    message: '📅 小明本週的課程安排\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/9 (週六)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/10 (週日)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午2:00 - 數學課\n' +
2025-08-10 21:51:13      '  下午2:00 - 小明今天有什麼課？\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/11 (週一)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 英文課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午2:00 - 數學課\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/12 (週二)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  下午7:00 - 游泳課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/13 (週三)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/14 (週四)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '\n' +
2025-08-10 21:51:13      '📆 8/15 (週五)\n' +
2025-08-10 21:51:13      '  上午7:00 - 晨練課 🔄\n' +
2025-08-10 21:51:13      '  上午8:00 - 晨練課 🔄',
2025-08-10 21:51:13    data: {
2025-08-10 21:51:13      courses: [
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object], [Object], [Object],
2025-08-10 21:51:13        [Object]
2025-08-10 21:51:13      ],
2025-08-10 21:51:13      courseCount: 19,
2025-08-10 21:51:13      dateRange: {
2025-08-10 21:51:13        startDate: '2025-08-10',
2025-08-10 21:51:13        endDate: '2025-08-16',
2025-08-10 21:51:13        description: '本週'
2025-08-10 21:51:13      }
2025-08-10 21:51:13    }
2025-08-10 21:51:13  }
2025-08-10 21:51:13  {"ts":"2025-08-10T21:51:13.535Z","lvl":"info","stage":"task","traceId":"line_1754862670555_ttyszq","userId":"U_test_user_qa","intent":"query_schedule","success":true,"code":"QUERY_OK","latencyMs":310}
2025-08-10 21:51:13  🔍 檢查 replyToken: test-reply-token-1754862670287
2025-08-10 21:51:13  🧪 檢測到測試 token，跳過真實 LINE API 調用
2025-08-10 21:51:13  📤 [測試模式] 實際業務回覆: 📅 小明本週的課程安排
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/9 (週六)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/10 (週日)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午2:00 - 數學課
2025-08-10 21:51:13    下午2:00 - 小明今天有什麼課？
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/11 (週一)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 英文課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午2:00 - 數學課
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/12 (週二)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13    下午7:00 - 游泳課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/13 (週三)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/14 (週四)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
2025-08-10 21:51:13    上午8:00 - 晨練課 🔄
2025-08-10 21:51:13  
2025-08-10 21:51:13  📆 8/15 (週五)
2025-08-10 21:51:13    上午7:00 - 晨練課 🔄
